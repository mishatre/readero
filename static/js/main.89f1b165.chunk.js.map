{"version":3,"sources":["pages/Settings/styles.module.scss","components/ReaderHeader/styles.module.scss","components/ReaderControls/styles.module.scss","components/ReaderStatusBar/styles.module.scss","pages/Library/Header/styles.module.scss","components/RSVPReader/styles.module.scss","components/BookItem/styles.module.scss","components/BookRender/styles.module.scss","components/Menu/styles.module.scss","components/BookReader/styles.module.scss","components/BookCover/styles.module.scss","pages/Settings/Header/styles.module.scss","pages/Library/styles.module.scss","pages/Library/EditMenu/styles.module.scss","components/LoadingScreen/styles.module.scss","pages/Reader/styles.module.scss","styles.module.scss","utils/context.ts","hooks/useFontWidth.ts","providers/Settings/index.tsx","libraries/epubToTxt.ts","providers/Library/index.tsx","providers/ReadingStats/index.tsx","assets/logo.png","components/LoadingScreen/index.tsx","providers/index.tsx","hooks/useBackgroundColor.ts","hooks/useElementSize.ts","assets/icons/play-solid.svg","components/BookRender/context.ts","components/BookRender/ListItem.tsx","components/BookRender/index.tsx","assets/icons/pause-solid.svg","assets/icons/minus-solid.svg","assets/icons/plus-solid.svg","assets/icons/angle-left-solid.svg","components/ReaderControls/index.tsx","utils/clamp.ts","utils/time.ts","components/ReaderStatusBar/index.tsx","assets/icons/font-icon.svg","assets/icons/text-icon.svg","assets/icons/guideline-icon.svg","components/ReaderHeader/index.tsx","hooks/useAccurateTimer.ts","components/RSVPReader/index.tsx","components/BookReader/index.tsx","pages/Reader/index.tsx","hooks/useFileInput.ts","assets/icons/rest.svg","pages/Library/Header/index.tsx","components/BookCover/index.tsx","assets/icons/library.svg","components/BookItem/index.tsx","assets/icons/settings.svg","assets/icons/trash.svg","components/Menu/index.tsx","assets/icons/minus-small.svg","pages/Library/EditMenu/index.tsx","pages/Library/index.tsx","pages/Settings/Header/index.tsx","assets/icons/plus-small.svg","pages/Settings/index.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["module","exports","createCtx","ctx","createContext","undefined","c","useContext","Error","Provider","canvasCtx","useFontWidth","fontFamily","fontSize","useMemo","document","createElement","getContext","font","textBaseline","textMetrics","measureText","Math","abs","actualBoundingBoxLeft","actualBoundingBoxRight","length","measureFont","settingsList","defaultSettings","fontFamilyRSVP","fontFamilyReader","fontSizeRSVP","fontSizeReader","wordsPerMinute","ORP","ORPGuideLine","slowDownOnLongWords","showPreviousOnPause","useSettings","SettingsProvider","children","useState","settings","setSettings","useEffect","key","jsonValue","localStorage","getItem","JSON","parse","value","set","useCallback","prevValue","nextValue","setItem","stringify","fontWidth","readerFontInfo","fontWeight","lineHeight","rsvpFontInfo","findFile","archive","filename","files","result","filter","_","file","name","toLowerCase","validateMimeType","a","mimeFile","async","trim","validateRootFile","containerFile","xmlData","parsedXML","parser","ignoreAttributes","container","rootfiles","rootfile","rootFileInfo","rootFile","parseRootFile","rootFileXML","XMLData","attributeNamePrefix","attrNodeName","textNodeName","ignoreNameSpace","parseAttributeValue","metadata","parseMetadata","spine","parseSpine","manifest","parseManifest","guide","parseGuide","processingItems","processItems","loadItems","text","words","foundCover","findCover","loadCover","cover","uidName","package","attr","Object","entries","entry","parsedValue","Array","isArray","find","item","id","String","replace","toUpperCase","items","direction","toc","itemref","push","idref","reference","type","includes","split","path","filePath","href","join","blob","mime","lookup","slice","size","loadingItems","domParser","DOMParser","Promise","all","loadedItems","chapters","map","parseFromString","body","textContent","textArray","chapter","wordsArray","replaceAll","v","zip","JsZip","loadAsync","keys","parsedEpub","epubToTxt","useLibraryContext","LibraryProvider","isLoading","setIsLoading","library","setLibrary","localforage","data","coverBlob","URL","createObjectURL","loadBooks","from","parsedBooks","loadedBooks","book","identifier","bookInfo","title","creator","totalWords","info","coverUrl","newLibrary","deleteBooks","ids","promiseArray","removeItem","prev","getBook","useReadingStatsContext","ReadingStatsProvider","getStats","stringStats","index","setStats","currentStats","LoadingScreen","className","styles","style","backgroundImage","LogoIconSrc","Providers","loaded","setLoaded","fonts","load","then","ReadingStats","useBackgroundColor","color","documentElement","backgroundColor","useElementSize","_path","elementRef","width","height","setSize","updateSize","node","current","offsetWidth","offsetHeight","ResizeObserver","observe","box","useBookRendererContext","ListItem","rows","currentIndex","onRowClick","rowIndex","colIndex","row","startIndex","endIndex","wordIndex","onClick","cn","selected","BookRender","mode","onCurrentIndexChange","fontInfo","ref","useRef","listRef","i","scrollToItem","contextValue","itemSize","itemCount","list","overscanCount","_excluded","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlaySolid","_ref","svgRef","titleId","props","focusable","role","xmlns","viewBox","fill","d","_path2","ForwardRef","SvgPauseSolid","SvgMinusSolid","SvgPlusSolid","ReaderControls","hidden","onPlayPause","onSpeedUp","onSpeedDown","e","stopPropagation","buttons","button","bottom","memo","clamp","min","max","timestampToHumanTime","timestamp","temp","floor","string","days","hours","minutes","seconds","ReaderStatusBar","currentWord","timeToRead","position","wordsLeft","playing","statusBar","bottomBar","timeLeft","SvgAngleLeftSolid","SvgFontIcon","SvgTextIcon","_rect","_rect2","_rect3","_rect4","SvgGuidelineIcon","rx","x","transform","ReaderHeader","onBackButton","onChangeFont","onSetORP","onSetORPGuidelines","backButton","never","Number","MAX_SAFE_INTEGER","useAccurateTimer","isPlaying","delay","callback","now","Date","getTime","setCheckTime","nextFireTime","setNextFireTime","currentTime","newNextFireTime","timeout","overdueCalls","userDelay","console","error","overdueElapsedTime","newFireTime","setTimeout","clearTimeout","getOrpPos","ceil","CharMeasurer","templateChars","chars","Map","globalThis","OffscreenCanvas","measureChars","char","measure","maxWidth","forEach","charWidth","get","RSVPReader","initialIndex","onNextWord","hasNextWord","wordCount","state","initial","prevMode","usePrevious","onTick","currState","newState","nextWord","word","measureRef","setFont","maxOffset","maxWords","orpMiddlePointPx","longestWidth","orpPos","r","substr","trimmedWord","orp","lpad","padStart","useORPWord","previous","show","ORPGuideline","disabled","BookReader","onBack","uiHidden","setUiHidden","setMode","stats","setStatsState","useReadingStats","timerRef","togglePlay","onReaderClick","bufferLength","l","currWordLength","wrapText","content","reader","Reader","bookData","setBook","useBook","useParams","history","useHistory","useFileInput","_path3","options","input","multiple","onchange","event","click","Header","editMode","allSelected","onBookAdd","onEdit","onSelectAll","onDone","leftButton","selectAllButton","BookCover","wrapper","SvgRest","_path4","_path5","_path6","_path7","_path8","_path9","_path10","_path11","_path12","_path13","_path14","BookItem","selectable","onBookClick","onRestClick","SvgLibrary","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","_g17","_g18","SvgSettings","xmlnsXlink","y","xmlSpace","Menu","location","useLocation","to","pathname","SvgTrash","EditMenu","active","onDelete","Library","onAdd","editing","setEditing","setSelected","listContainer","rightButton","SvgMinusSmall","SvgPlusSmall","CheckBox","checkbox","Item","ItemCheckbox","ItemRange","onChange","range","incButtons","ItemGroup","category","categoryTitle","Settings","toggleORP","toggleORPGuideline","toggleSlowDown","toggleShowPreviousOnPause","A","TransitionGroup","CSSTransition","classNames","exact","component","App","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","process","origin","addEventListener","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.89f1b165.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3ID8i\",\"settings\":\"styles_settings__2Mzkx\",\"category\":\"styles_category__1KCl6\",\"categoryTitle\":\"styles_categoryTitle__1ogBh\",\"item\":\"styles_item__eHmu6\",\"range\":\"styles_range__30lC1\",\"value\":\"styles_value__sfwqz\",\"incButtons\":\"styles_incButtons__GiVF9\",\"button\":\"styles_button__ogfoz\",\"checkbox\":\"styles_checkbox__38TuW\",\"active\":\"styles_active__1cZ9e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2UpUU\",\"hidden\":\"styles_hidden__17XBo\",\"hide\":\"styles_hide__3ehqe\",\"title\":\"styles_title__2b9I9\",\"button\":\"styles_button__3R9Ip\",\"buttons\":\"styles_buttons__3FFPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2hUzD\",\"hidden\":\"styles_hidden__zQ1_1\",\"hide\":\"styles_hide__2nODP\",\"buttons\":\"styles_buttons__2Kvdy\",\"button\":\"styles_button__1fkmD\",\"bottom\":\"styles_bottom__2RW1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Avdh\",\"hidden\":\"styles_hidden__9wFJW\",\"hide\":\"styles_hide__37PWp\",\"playing\":\"styles_playing__2vSC4\",\"statusBar\":\"styles_statusBar__2wAgx\",\"bottomBar\":\"styles_bottomBar__fCPqx\",\"wordsLeft\":\"styles_wordsLeft__3Esj-\",\"timeLeft\":\"styles_timeLeft__2SXD_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3cdMj\",\"title\":\"styles_title__1ckRm\",\"leftButton\":\"styles_leftButton__327f6\",\"selectAllButton\":\"styles_selectAllButton__3snlD\",\"rightButton\":\"styles_rightButton__u7hwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1bwPe\",\"previous\":\"styles_previous__2TK4k\",\"show\":\"styles_show__2NN0_\",\"ORPGuideline\":\"styles_ORPGuideline__3GhQ7\",\"disabled\":\"styles_disabled__3E1-7\",\"orp\":\"styles_orp__1x73h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1cLCO\",\"selectable\":\"styles_selectable__I-DF2\",\"wrapper\":\"styles_wrapper__3ZO0w\",\"book\":\"styles_book__2HwNq\",\"bottom\":\"styles_bottom__1Gxu6\",\"selected\":\"styles_selected__3Vo7K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1aaZW\",\"list\":\"styles_list__3TU7g\",\"row\":\"styles_row__2SAeP\",\"selected\":\"styles_selected__2ydt1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__rM1m6\",\"item\":\"styles_item__1wJVx\",\"selected\":\"styles_selected__2qHDg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3-DWs\",\"content\":\"styles_content__2qNqM\",\"reader\":\"styles_reader___TVRN\",\"playing\":\"styles_playing__1My9Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3CpXc\",\"wrapper\":\"styles_wrapper__Xq_T_\",\"title\":\"styles_title__3ZIHZ\",\"creator\":\"styles_creator__2KQlD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3JM09\",\"title\":\"styles_title__2LbXz\",\"leftButton\":\"styles_leftButton__3xlRn\",\"rightButton\":\"styles_rightButton__1uNRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1oZHV\",\"listContainer\":\"styles_listContainer__1i-FL\",\"list\":\"styles_list__JYuW6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__37QQS\",\"active\":\"styles_active__2ep3A\",\"item\":\"styles_item__1iVVY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1x67Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__EhViz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1YyHF\"};","\r\nimport { createContext, useContext } from \"react\";\r\n\r\nexport default function createCtx<A extends {} | null>() {\r\n    const ctx = createContext<A | undefined>(undefined);\r\n    function useCtx() {\r\n        const c = useContext(ctx);\r\n        if (c === undefined) {\r\n            throw new Error('useCtx must be inside a Provider with a value');\r\n        }\r\n        return c;\r\n    }\r\n    return [useCtx, ctx.Provider] as const;\r\n}","import { useMemo } from 'react';\r\n\r\nlet canvasCtx: CanvasRenderingContext2D | null = null;\r\n\r\nfunction measureFont(fontFamily: string, fontSize: number) {\r\n    if (!canvasCtx) {\r\n        canvasCtx = document.createElement('canvas').getContext('2d');\r\n    }\r\n\r\n    if (canvasCtx) {\r\n        const text = 'B';\r\n        canvasCtx.font = `${fontSize}px ${fontFamily}`;\r\n        canvasCtx.textBaseline = 'top';\r\n        const textMetrics = canvasCtx.measureText(text);\r\n        const width =\r\n            Math.abs(textMetrics.actualBoundingBoxLeft) +\r\n            Math.abs(textMetrics.actualBoundingBoxRight);\r\n        return width / text.length;\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nfunction useFontWidth(fontFamily?: string, fontSize?: number) {\r\n    return useMemo(() => {\r\n        if (fontFamily && fontSize) {\r\n            return measureFont(fontFamily, fontSize);\r\n        }\r\n        return 0;\r\n    }, [fontFamily, fontSize]);\r\n}\r\n\r\nexport default useFontWidth;\r\n","import createCtx from '../../utils/context';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { IFontInfo } from 'types/fontInfo';\r\nimport useFontWidth from 'hooks/useFontWidth';\r\n\r\ntype SetStateAction<S> = S | ((prevState: S) => S);\r\n\r\ninterface ISettingsProviderProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\ninterface ISettingsContext {\r\n    settings: ISettings;\r\n    readerFontInfo: IFontInfo;\r\n    rsvpFontInfo: IFontInfo;\r\n    fontWidth: number;\r\n    set: <K extends keyof ISettings>(\r\n        key: K,\r\n        value: SetStateAction<ISettings[K]>\r\n    ) => void;\r\n}\r\n\r\nexport interface ISettings {\r\n    fontFamilyRSVP: string;\r\n    fontFamilyReader: string;\r\n    fontSizeRSVP: number;\r\n    fontSizeReader: number;\r\n    wordsPerMinute: number;\r\n    ORP: boolean;\r\n    ORPGuideLine: boolean;\r\n    slowDownOnLongWords: boolean;\r\n    showPreviousOnPause: boolean;\r\n}\r\n\r\nconst settingsList = [\r\n    'fontFamilyRSVP',\r\n    'fontFamilyReader',\r\n    'fontSizeRSVP',\r\n    'fontSizeReader',\r\n    'wordsPerMinute',\r\n    'ORP',\r\n    'ORPGuideLine',\r\n    'slowDownOnLongWords',\r\n    'showPreviousOnPause',\r\n] as const;\r\n\r\n// const fontSettings = {\r\n//     fontFamily: 'Liberation Mono',\r\n//     fontSizeRSVP: 48,\r\n//     fontSizeReader: 16,\r\n//     linHeight: 'normal',\r\n// }\r\n\r\nconst defaultSettings = {\r\n    fontFamilyRSVP: 'SFMono',\r\n    fontFamilyReader: 'Liberation Mono',\r\n    fontSizeRSVP: 32,\r\n    fontSizeReader: 16,\r\n    wordsPerMinute: 320,\r\n    ORP: true,\r\n    ORPGuideLine: true,\r\n    slowDownOnLongWords: true,\r\n    showPreviousOnPause: true,\r\n};\r\n\r\nconst [useSettings, Provider] = createCtx<ISettingsContext>();\r\n\r\nconst SettingsProvider = ({ children }: ISettingsProviderProps) => {\r\n    const [settings, setSettings] = useState<ISettings | null>(null);\r\n\r\n    useEffect(() => {\r\n        const settings = defaultSettings;\r\n        for (const key of settingsList) {\r\n            const jsonValue = localStorage.getItem(key);\r\n            if (jsonValue) {\r\n                (settings[key] as ISettings[typeof key]) = JSON.parse(\r\n                    jsonValue\r\n                ).value;\r\n            }\r\n        }\r\n        setSettings(settings);\r\n    }, []);\r\n\r\n    const set = useCallback(\r\n        <K extends keyof ISettings>(\r\n            key: K,\r\n            value: SetStateAction<ISettings[K]>\r\n        ) => {\r\n            setSettings((prevValue) => {\r\n                if (!prevValue) {\r\n                    return null;\r\n                }\r\n                const nextValue =\r\n                    typeof value === 'function' ? value(prevValue[key]) : value;\r\n                localStorage.setItem(key, JSON.stringify({ value: nextValue }));\r\n                return { ...prevValue, [key]: nextValue };\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    const fontWidth = useFontWidth(\r\n        settings?.fontFamilyReader,\r\n        settings?.fontSizeReader\r\n    );\r\n\r\n    if (!settings) {\r\n        return null;\r\n    }\r\n\r\n    const readerFontInfo = {\r\n        fontFamily: settings.fontFamilyReader,\r\n        fontSize: settings.fontSizeReader,\r\n        fontWeight: 'normal',\r\n        lineHeight: 17,\r\n    };\r\n\r\n    const rsvpFontInfo = {\r\n        fontFamily: settings.fontFamilyRSVP,\r\n        fontSize: settings.fontSizeRSVP,\r\n        fontWeight: 'normal',\r\n        lineHeight: 17,\r\n    };\r\n\r\n    return (\r\n        <Provider\r\n            value={{\r\n                settings,\r\n                readerFontInfo,\r\n                rsvpFontInfo,\r\n                fontWidth,\r\n                set,\r\n            }}\r\n        >\r\n            {children}\r\n        </Provider>\r\n    );\r\n};\r\n\r\nexport { useSettings };\r\n\r\nexport default SettingsProvider;\r\n","import JsZip from 'jszip';\r\nimport parser from 'fast-xml-parser';\r\nimport mime from 'mime-types';\r\n\r\ntype PickByValue<T, V> = Pick<\r\n    T,\r\n    { [K in keyof T]: T[K] extends V ? K : never }[keyof T]\r\n>;\r\ntype Entries<T> = {\r\n    [K in keyof T]: [keyof PickByValue<T, T[K]>, T[K]];\r\n}[keyof T][];\r\n\r\ntype TEpubXMLIdentifier = {\r\n    value: string;\r\n    attr: {\r\n        id: string;\r\n    };\r\n};\r\n\r\ninterface IEpubXMLMetadata {\r\n    identifier: TEpubXMLIdentifier | TEpubXMLIdentifier[];\r\n    title: string;\r\n    language: string;\r\n    creator?: string;\r\n\r\n    description?: string;\r\n    subject?: string;\r\n    publisher?: string;\r\n\r\n    date?: string | number;\r\n\r\n    meta: Array<{ attr: { name: string; content: string | number } }>;\r\n}\r\n\r\ninterface IEpubXMLManifest {\r\n    item: Array<{ attr: { href: string; 'media-type': string; id: string } }>;\r\n}\r\n\r\ninterface IEpubXMLSpineItemRef {\r\n    attr: {\r\n        id?: string;\r\n        idref: string;\r\n        linear?: 'yes' | 'no';\r\n    };\r\n}\r\n\r\ninterface IEpubXMLSpine {\r\n    attr: {\r\n        id?: string;\r\n        'page-progression-direction'?: 'rtl' | 'ltr';\r\n        toc?: string;\r\n    };\r\n    itemref: IEpubXMLSpineItemRef | IEpubXMLSpineItemRef[];\r\n}\r\n\r\ninterface IXMLData {\r\n    package: {\r\n        attr: {\r\n            version: number;\r\n            'unique-identifier': string;\r\n        };\r\n        metadata: IEpubXMLMetadata;\r\n        manifest: IEpubXMLManifest;\r\n        spine: IEpubXMLSpine;\r\n        guide?:\r\n            | string\r\n            | {\r\n                  reference: {\r\n                      attr: {\r\n                          href: string;\r\n                          type: string;\r\n                          title: string;\r\n                      };\r\n                  };\r\n              };\r\n    };\r\n}\r\n\r\ninterface IEpubMetadata {\r\n    identifier: string;\r\n    publisher?: string;\r\n    language?: string;\r\n    title?: string;\r\n    subject?: string;\r\n    description?: string;\r\n    creator?: string;\r\n    date?: string;\r\n}\r\n\r\ninterface IEpubSpine {\r\n    id?: string;\r\n    direction?: 'rtl' | 'ltr';\r\n    toc?: string;\r\n    items: Array<string>;\r\n}\r\n\r\ntype TEpubManifest = {\r\n    href: string;\r\n    'media-type': string;\r\n    id: string;\r\n}[];\r\n\r\ntype TEpubGuide = {\r\n    href: string;\r\n    type: string;\r\n    title: string;\r\n};\r\n\r\nfunction findFile(archive: JsZip, filename: string) {\r\n    if (archive.files[filename]) {\r\n        return archive.files[filename];\r\n    }\r\n    const result = archive.filter(\r\n        (_, file) => file.name.toLowerCase() === filename.toLowerCase()\r\n    );\r\n    if (result.length > 0) {\r\n        return result[0];\r\n    }\r\n    return null;\r\n}\r\n\r\nasync function validateMimeType(archive: JsZip) {\r\n    const mimeFile = findFile(archive, 'mimetype');\r\n    if (!mimeFile) {\r\n        throw new Error('No mimetype file in archive');\r\n    }\r\n\r\n    const epubMimeType = await mimeFile.async('text');\r\n\r\n    if (epubMimeType.toLowerCase().trim() !== 'application/epub+zip') {\r\n        throw new Error('Unsupported mime type');\r\n    }\r\n}\r\n\r\nasync function validateRootFile(archive: JsZip) {\r\n    const containerFile = findFile(archive, 'meta-inf/container.xml');\r\n    if (!containerFile) {\r\n        throw new Error('No container file in archive');\r\n    }\r\n\r\n    const xmlData = await containerFile.async('text');\r\n    const parsedXML = parser.parse(xmlData, { ignoreAttributes: false });\r\n\r\n    if (\r\n        !parsedXML.container.rootfiles ||\r\n        !parsedXML.container.rootfiles.rootfile\r\n    ) {\r\n        throw new Error('No rootfiles found');\r\n    }\r\n\r\n    const rootFileInfo = parsedXML.container.rootfiles.rootfile;\r\n    let filename: string;\r\n\r\n    if (rootFileInfo['@_media-type'] !== 'application/oebps-package+xml') {\r\n        throw new Error('Rootfile in unknown format');\r\n    }\r\n\r\n    filename = rootFileInfo['@_full-path'];\r\n\r\n    if (!filename) {\r\n        throw new Error('Empty rootfile');\r\n    }\r\n\r\n    const rootFile = findFile(archive, filename);\r\n    if (!rootFile) {\r\n        throw new Error('Rootfile not found from archive');\r\n    }\r\n\r\n    return rootFile;\r\n}\r\n\r\nasync function parseRootFile(archive: JsZip, rootFile: JsZip.JSZipObject) {\r\n    const rootFileXML = await rootFile.async('text');\r\n    const XMLData = parser.parse(rootFileXML, {\r\n        attributeNamePrefix: '',\r\n        attrNodeName: 'attr',\r\n        textNodeName: 'value',\r\n        ignoreAttributes: false,\r\n        ignoreNameSpace: true,\r\n        parseAttributeValue: true,\r\n    }) as IXMLData;\r\n\r\n    const metadata = parseMetadata(XMLData);\r\n    const spine = parseSpine(XMLData);\r\n    const manifest = parseManifest(XMLData);\r\n    const guide = parseGuide(XMLData);\r\n\r\n    const processingItems = processItems(manifest, spine);\r\n    const { text, words } = await loadItems(archive, rootFile, processingItems);\r\n\r\n    const foundCover = findCover(manifest, guide);\r\n    const cover = await loadCover(archive, rootFile, foundCover);\r\n\r\n    return {\r\n        cover,\r\n        metadata,\r\n        text, \r\n        words,\r\n    };\r\n}\r\n\r\nfunction parseMetadata(XMLData: IXMLData) {\r\n    const metadata: Partial<IEpubMetadata> = {};\r\n\r\n    const uidName = XMLData.package.attr['unique-identifier'];\r\n    const entries = Object.entries(\r\n        XMLData.package.metadata\r\n    ) as Entries<IEpubXMLMetadata>;\r\n    for (const entry of entries) {\r\n        if (entry) {\r\n            const [key, value] = entry;\r\n\r\n            if (value) {\r\n                let parsedValue = null;\r\n                if (key === 'identifier') {\r\n                    parsedValue = value;\r\n                    if (Array.isArray(value)) {\r\n                        parsedValue = (value as TEpubXMLIdentifier[]).find(\r\n                            (item) => item.attr.id === uidName\r\n                        );\r\n                        if (parsedValue) {\r\n                            parsedValue = parsedValue.value;\r\n                        }\r\n                    } else {\r\n                        parsedValue = (value as TEpubXMLIdentifier).value;\r\n                    }\r\n                    if (parsedValue) {\r\n                        parsedValue = String(parsedValue)\r\n                            .replace('urn:uuid:', '')\r\n                            .toUpperCase()\r\n                            .trim();\r\n                    } else {\r\n                        throw new Error(\r\n                            'Cannot determine book unique identifier'\r\n                        );\r\n                    }\r\n                } else {\r\n                    if (typeof value === 'object') {\r\n                        // TODO: Do better typings\r\n                        parsedValue = (value as any).value;\r\n                    } else {\r\n                        parsedValue = value;\r\n                    }\r\n                }\r\n                metadata[key as keyof IEpubMetadata] = parsedValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    return metadata as IEpubMetadata;\r\n}\r\n\r\nfunction parseSpine(XMLData: IXMLData) {\r\n    const spine: Partial<IEpubSpine> = {\r\n        items: [],\r\n    };\r\n    if ('id' in XMLData.package.spine.attr) {\r\n        spine.id = XMLData.package.spine.attr.id;\r\n    }\r\n    if ('page-progression-direction' in XMLData.package.spine.attr) {\r\n        spine.direction =\r\n            XMLData.package.spine.attr['page-progression-direction'];\r\n    }\r\n    if ('toc' in XMLData.package.spine.attr) {\r\n        spine.toc = XMLData.package.spine.attr.toc;\r\n    }\r\n\r\n    if (Array.isArray(XMLData.package.spine.itemref)) {\r\n        for (const item of XMLData.package.spine.itemref) {\r\n            spine.items?.push(item.attr.idref);\r\n        }\r\n    } else {\r\n        spine.items?.push(XMLData.package.spine.itemref.attr.idref);\r\n    }\r\n\r\n    return spine as IEpubSpine;\r\n}\r\n\r\nfunction parseManifest(XMLData: IXMLData) {\r\n    const manifest: TEpubManifest = [];\r\n    for (const item of XMLData.package.manifest.item) {\r\n        manifest.push(item.attr);\r\n    }\r\n    return manifest;\r\n}\r\n\r\nfunction parseGuide(XMLData: IXMLData) {\r\n    if (!XMLData.package.guide || typeof XMLData.package.guide === 'string') {\r\n        return undefined;\r\n    }\r\n    // There is books where guide is array;\r\n    return XMLData.package.guide.reference.attr;\r\n}\r\n\r\n//\r\n\r\nfunction findCover(manifest: TEpubManifest, guide?: TEpubGuide) {\r\n    if (guide && guide.type === 'cover') {\r\n        return guide;\r\n    }\r\n    for (const item of manifest) {\r\n        if (item.id.includes('cover.jpg')) {\r\n            return item;\r\n        }\r\n    }\r\n}\r\nfunction processItems(manifest: TEpubManifest, spine: IEpubSpine) {\r\n    const items = [];\r\n    for (const id of spine.items) {\r\n        const item = manifest.find((item) => item.id === id);\r\n        if (item && item['media-type'] === 'application/xhtml+xml') {\r\n            items.push(item);\r\n        }\r\n    }\r\n    return items;\r\n}\r\n\r\n//\r\n\r\nasync function loadCover(\r\n    archive: JsZip,\r\n    rootFile: JsZip.JSZipObject,\r\n    cover?: { href: string; 'media-type'?: string }\r\n) {\r\n    if (!cover) {\r\n        return null;\r\n    }\r\n\r\n    const [path] = rootFile?.name.split('/');\r\n    const filePath = [path, cover.href].join('/');\r\n    const blob = await archive.files[filePath].async('blob');\r\n\r\n    const type = cover['media-type'] || mime.lookup(cover.href);\r\n\r\n    if (!type) {\r\n        return blob;\r\n    }\r\n\r\n    return blob.slice(0, blob.size, type);\r\n}\r\n\r\nasync function loadItems(\r\n    archive: JsZip,\r\n    rootFile: JsZip.JSZipObject,\r\n    processingItems: Array<{ href: string }>\r\n) {\r\n    const [path] = rootFile?.name.split('/');\r\n\r\n    const loadingItems = [];\r\n    for (const { href } of processingItems) {\r\n        const filePath = [path, href].join('/');\r\n        loadingItems.push(archive.files[filePath].async('text'));\r\n    }\r\n    const domParser = new DOMParser();\r\n    const loadedItems = await Promise.all(loadingItems);\r\n\r\n    const chapters = loadedItems.map((item) => '' + domParser\r\n    .parseFromString(item, 'application/xhtml+xml')\r\n    .body.textContent);\r\n\r\n    const words = [];\r\n    const textArray = [];\r\n\r\n    for(const chapter of chapters) {\r\n\r\n        const wordsArray = chapter?.replaceAll('\\n', ' ')?.split(' ').filter(v => v !== '');\r\n\r\n        if(wordsArray?.length > 0) {\r\n            words.push(...wordsArray);\r\n            textArray.push(wordsArray.join(' '))\r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n        text: textArray.join(' '),\r\n        words,\r\n    }\r\n\r\n}\r\n\r\nasync function epubToTxt(blob: Blob) {\r\n    if (blob.type !== 'application/epub+zip') {\r\n        throw new Error('Not an Epub file');\r\n    }\r\n\r\n    const zip = new JsZip();\r\n    const archive = await zip.loadAsync(blob);\r\n\r\n    if (Object.keys(archive.files).length === 0) {\r\n        throw new Error('No files in archive');\r\n    }\r\n\r\n    await validateMimeType(archive);\r\n    const rootFile = await validateRootFile(archive);\r\n    const parsedEpub = await parseRootFile(archive, rootFile);\r\n\r\n    return parsedEpub;\r\n}\r\n\r\nexport default epubToTxt;\r\n","import createCtx from 'utils/context';\r\nimport localforage from 'localforage';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport epubToTxt from 'libraries/epubToTxt';\r\n\r\ninterface ILibraryProviderProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport interface IBookInfo {\r\n    id: string;\r\n    title: string;\r\n    creator?: string;\r\n    cover: string | boolean;\r\n\r\n    totalWords: number;\r\n}\r\n\r\ninterface ILibraryContext {\r\n    library: IBookInfo[];\r\n\r\n    loadBooks: (files: Blob[]) => void;\r\n    deleteBooks: (id: string[]) => void;\r\n\r\n    getBook: (\r\n        id: string\r\n    ) => Promise<{\r\n        info: IBookInfo;\r\n        words: string[];\r\n    }>;\r\n}\r\n\r\nconst [useLibraryContext, Provider] = createCtx<ILibraryContext>();\r\n\r\nconst LibraryProvider = ({ children }: ILibraryProviderProps) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [library, setLibrary] = useState<IBookInfo[]>([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const data = await localforage.getItem<IBookInfo[]>('library');\r\n            setLibrary((data as any) || []);\r\n\r\n            for (let item of (data || []) as any) {\r\n                const coverBlob = await localforage.getItem(`${item.id}_cover`);\r\n                if (coverBlob) {\r\n                    (item as any).cover = URL.createObjectURL(coverBlob);\r\n                }\r\n            }\r\n            setIsLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n    const loadBooks = useCallback(\r\n        async (files: Blob[]) => {\r\n            const parsedBooks = await Promise.all(\r\n                Array.from(files).map((file) => epubToTxt(file))\r\n            );\r\n\r\n            const loadedBooks = parsedBooks\r\n                .filter((book) => {\r\n                    return !library.find(\r\n                        (item) => item.id === book.metadata.identifier\r\n                    );\r\n                })\r\n                .map((book) => {\r\n                    const bookInfo = {\r\n                        id: book.metadata.identifier,\r\n                        title: book.metadata.title || '',\r\n                        creator: book.metadata.creator || '',\r\n                        cover: !!book.cover,\r\n\r\n                        totalWords: book.words.length,\r\n                    };\r\n\r\n                    return {\r\n                        id: bookInfo.id,\r\n                        info: bookInfo,\r\n                        words: book.words,\r\n                        cover: book.cover,\r\n                        coverUrl: book.cover\r\n                            ? URL.createObjectURL(book.cover)\r\n                            : false,\r\n                    };\r\n                });\r\n\r\n            await Promise.all(\r\n                loadedBooks.map(({ id, words }) =>\r\n                    localforage.setItem(id, words)\r\n                )\r\n            );\r\n\r\n            const newLibrary = [\r\n                ...library,\r\n                ...loadedBooks.map(({ info }) => info),\r\n            ];\r\n            await localforage.setItem('library', newLibrary);\r\n\r\n            await Promise.all(\r\n                loadedBooks\r\n                    .filter(({ cover }) => !!cover)\r\n                    .map(({ id, cover }) =>\r\n                        localforage.setItem(`${id}_cover`, cover)\r\n                    )\r\n            );\r\n\r\n            setLibrary([\r\n                ...library,\r\n                ...loadedBooks.map(({ info, coverUrl }) => ({\r\n                    ...info,\r\n                    cover: coverUrl,\r\n                })),\r\n            ]);\r\n        },\r\n        [library]\r\n    );\r\n\r\n    const deleteBooks = useCallback(\r\n        async (ids: string[]) => {\r\n            const newLibrary = [];\r\n\r\n            const promiseArray = [];\r\n            for (const bookInfo of library) {\r\n                if (ids.includes(bookInfo.id)) {\r\n                    if (bookInfo.cover) {\r\n                        promiseArray.push(\r\n                            localforage.removeItem(`${bookInfo.id}_cover`)\r\n                        );\r\n                    }\r\n                    promiseArray.push(localforage.removeItem(bookInfo.id));\r\n\r\n                    localStorage.removeItem(bookInfo.id);\r\n                } else {\r\n                    newLibrary.push(bookInfo);\r\n                }\r\n            }\r\n\r\n            promiseArray.push(localforage.setItem('library', newLibrary));\r\n\r\n            await Promise.all(promiseArray as Promise<any>[]);\r\n            setLibrary((prev) => prev.filter((v) => !ids.includes(v.id)));\r\n        },\r\n        [library]\r\n    );\r\n\r\n    const getBook = useCallback(\r\n        async (id: string) => {\r\n            const words = (await localforage.getItem<string[]>(id)) || [];\r\n            const info = library!.find((item) => item.id === id)!;\r\n            return {\r\n                info,\r\n                words,\r\n            };\r\n        },\r\n        [library]\r\n    );\r\n\r\n    if (isLoading) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <Provider\r\n            value={{\r\n                library,\r\n\r\n                loadBooks,\r\n                deleteBooks,\r\n\r\n                getBook,\r\n            }}\r\n        >\r\n            {children}\r\n        </Provider>\r\n    );\r\n};\r\n\r\nexport { useLibraryContext };\r\n\r\nexport default LibraryProvider;\r\n","import createCtx from '../../utils/context';\r\nimport { useCallback, useEffect, useState } from 'react';\r\n\r\ninterface IReadingStatsProviderProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\ninterface IReadingStatsContext {\r\n    getStats: (id: string) => IBookStat;\r\n    setStats: <K extends keyof IBookStat>(\r\n        id: string,\r\n        key: K,\r\n        value: IBookStat[K]\r\n    ) => IBookStat;\r\n}\r\n\r\nexport interface IBookStat {\r\n    index: number;\r\n}\r\n\r\nconst [useReadingStatsContext, Provider] = createCtx<IReadingStatsContext>();\r\n\r\nconst ReadingStatsProvider = ({ children }: IReadingStatsProviderProps) => {\r\n    const getStats = useCallback((id: string) => {\r\n        const stringStats = localStorage.getItem(id);\r\n        if (stringStats) {\r\n            return JSON.parse(stringStats);\r\n        }\r\n        return {\r\n            index: 0,\r\n        };\r\n    }, []);\r\n    const setStats = useCallback(\r\n        <K extends keyof IBookStat>(\r\n            id: string,\r\n            key: K,\r\n            value: IBookStat[K]\r\n        ) => {\r\n            let currentStats = {\r\n                index: 0,\r\n            };\r\n\r\n            const stringStats = localStorage.getItem(id);\r\n            if (stringStats) {\r\n                currentStats = JSON.parse(stringStats);\r\n            }\r\n            currentStats[key] = value;\r\n            localStorage.setItem(id, JSON.stringify(currentStats));\r\n\r\n            return currentStats;\r\n        },\r\n        []\r\n    );\r\n\r\n    return (\r\n        <Provider\r\n            value={{\r\n                getStats,\r\n                setStats,\r\n            }}\r\n        >\r\n            {children}\r\n        </Provider>\r\n    );\r\n};\r\n\r\nfunction useReadingStats(id: string) {\r\n    const { getStats, setStats: set } = useReadingStatsContext();\r\n    const [stats, setStatsState] = useState<IBookStat>(getStats(id));\r\n    const setStats = useCallback(\r\n        <K extends keyof IBookStat>(\r\n            id: string,\r\n            key: K,\r\n            value: IBookStat[K]\r\n        ) => {\r\n            setStatsState(set(id, key, value));\r\n        },\r\n        [set]\r\n    );\r\n    useEffect(() => {\r\n        setStatsState(getStats(id));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id]);\r\n    return { stats, setStats };\r\n}\r\n\r\nexport { useReadingStatsContext, useReadingStats };\r\n\r\nexport default ReadingStatsProvider;\r\n","export default __webpack_public_path__ + \"static/media/logo.0f006855.png\";","import LogoIconSrc from 'assets/logo.png';\r\n\r\nimport styles from './styles.module.scss';\r\n\r\ninterface ILoadingScreenProps {}\r\n\r\n// eslint-disable-next-line no-empty-pattern\r\nconst LoadingScreen = ({}: ILoadingScreenProps) => {\r\n    return (\r\n        <div\r\n            className={styles.container}\r\n            style={{\r\n                backgroundImage: `url(${LogoIconSrc})`,\r\n            }}\r\n        ></div>\r\n    );\r\n};\r\n\r\nexport default LoadingScreen;\r\n","import { HashRouter as Router } from 'react-router-dom';\r\nimport SettingsProvider from './Settings';\r\nimport StorageProvider from './Library';\r\nimport ReadingStatsProvider from './ReadingStats';\r\n\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport LoadingScreen from 'components/LoadingScreen';\r\n\r\ninterface IProvidersProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst Providers = ({ children }: IProvidersProps) => {\r\n    const [loaded, setLoaded] = useState(false);\r\n    useEffect(() => {\r\n        Promise.all([\r\n            (document as any).fonts.load('16px Liberation Mono'),\r\n            (document as any).fonts.load('32px SFMono'),\r\n        ]).then(() => {\r\n            setLoaded(true);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <Router>\r\n            <SettingsProvider>\r\n                <ReadingStatsProvider>\r\n                    <StorageProvider>\r\n                        {!loaded && <LoadingScreen />}\r\n                        {loaded && children}\r\n                    </StorageProvider>\r\n                </ReadingStatsProvider>\r\n            </SettingsProvider>\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default Providers;\r\n","import { useEffect } from \"react\";\r\n\r\nfunction useBackgroundColor(color: string) {\r\n    useEffect(() => {\r\n        document.documentElement.style.backgroundColor = color;\r\n        document.body.style.backgroundColor = color;\r\n    }, [color]);\r\n}\r\n\r\nexport default useBackgroundColor;","import { RefObject, useCallback, useEffect, useState } from 'react';\r\n\r\n// See: https://usehooks-typescript.com/react-hook/use-event-listener\r\n// import useEventListener from './useEventListener';\r\n\r\ninterface Size {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nfunction useElementSize<T extends HTMLElement = HTMLDivElement>(\r\n    elementRef: RefObject<T>\r\n): Size {\r\n    const [size, setSize] = useState<Size>({\r\n        width: 0,\r\n        height: 0,\r\n    });\r\n\r\n    // Prevent too many rendering using useCallback\r\n    const updateSize = useCallback(() => {\r\n        const node = elementRef?.current;\r\n        if (node) {\r\n            setSize({\r\n                width: node.offsetWidth || 0,\r\n                height: node.offsetHeight || 0,\r\n            });\r\n        }\r\n    }, [elementRef]);\r\n\r\n    // Initial size on mount\r\n    useEffect(() => {\r\n        const node = elementRef?.current;\r\n        if (node) {\r\n            const observer = new ResizeObserver(updateSize);\r\n            observer.observe(node, { box: 'content-box' });\r\n            updateSize();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    useEffect(() => {}, []);\r\n\r\n    return size;\r\n}\r\n\r\nexport default useElementSize;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlaySolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"play\",\n    className: \"svg-inline--fa fa-play fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlaySolid);\nexport default __webpack_public_path__ + \"static/media/play-solid.3c7578b0.svg\";\nexport { ForwardRef as ReactComponent };","\r\nimport createCtx from 'utils/context';\r\n\r\ninterface IBookReaderContext {\r\n    words: string[];\r\n    rows: Array<{\r\n        index: number;\r\n        startIndex: number;\r\n        endIndex: number;\r\n    }>;\r\n    currentIndex: number;\r\n    onRowClick: (row: number, col: number) => void;\r\n}\r\n\r\nconst [useBookRendererContext, Provider] = createCtx<IBookReaderContext>();\r\n\r\nexport {\r\n    useBookRendererContext,\r\n}\r\n\r\nexport default Provider;","\r\nimport cn from 'classnames';\r\nimport { useBookRendererContext } from './context';\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IListItemProps {\r\n    style: React.CSSProperties;\r\n    index: number;\r\n}\r\n\r\nconst ListItem = ({ style, index }: IListItemProps) => {\r\n\r\n    const { words, rows, currentIndex, onRowClick } = useBookRendererContext();\r\n\r\n    let rowIndex = -1;\r\n    let colIndex = -1;\r\n\r\n    if (!rows[index + 1] || currentIndex < rows[index + 1].index) {\r\n        rowIndex = index;\r\n        colIndex = currentIndex - rows[index].index;\r\n    }\r\n\r\n    const row = words.slice(rows[index].startIndex, rows[index].endIndex);\r\n\r\n    return (\r\n        <div className={styles.row} style={style}>\r\n            {row.map((item, wordIndex) => (\r\n                <span\r\n                    key={(index + 1) * wordIndex}\r\n                    onClick={() => onRowClick(index, wordIndex)}\r\n                    className={cn({\r\n                        [styles.selected]:\r\n                            index === rowIndex &&\r\n                            wordIndex === colIndex,\r\n                    })}\r\n                >\r\n                    {' ' + item + ' '}\r\n                </span>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListItem;","import { useCallback, useEffect, useMemo, useRef } from 'react';\r\nimport { FixedSizeList as List } from 'react-window';\r\n\r\nimport useElementSize from 'hooks/useElementSize';\r\n\r\nimport Provider from './context';\r\n\r\nimport { IFontInfo } from 'types/fontInfo';\r\n\r\nimport styles from './styles.module.scss';\r\nimport ListItem from './ListItem';\r\n\r\ninterface IBookRenderProps {\r\n    mode: 'view' | 'play' | 'pause';\r\n    words: string[];\r\n    rows: Array<{\r\n        index: number;\r\n        startIndex: number;\r\n        endIndex: number;\r\n        // text: string; words: string[];\r\n    }>;\r\n    width: number;\r\n    currentIndex: number;\r\n    onCurrentIndexChange?: (index: number) => void;\r\n    fontInfo: IFontInfo;\r\n}\r\n\r\nconst BookRender = ({\r\n    mode,\r\n    words,\r\n    rows,\r\n    width,\r\n    currentIndex,\r\n    onCurrentIndexChange,\r\n\r\n    fontInfo,\r\n}: IBookRenderProps) => {\r\n    const ref = useRef<HTMLDivElement>(null);\r\n    const listRef = useRef<List>(null);\r\n    const { height } = useElementSize(ref);\r\n\r\n    useEffect(() => {\r\n        if (listRef.current) {\r\n            let rowIndex = -1;\r\n            for (let i = 0; i < rows.length; i++) {\r\n                if (currentIndex < rows[i].index) {\r\n                    rowIndex = i === 0 ? 0 : i - 1;\r\n                    break;\r\n                }\r\n            }\r\n            if (rowIndex !== -1) {\r\n                listRef.current.scrollToItem(rowIndex, 'smart');\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [mode === 'view', rows]);\r\n\r\n    const onRowClick = useCallback(\r\n        (rowIndex: number, wordIndex) => {\r\n            onCurrentIndexChange?.(rows[rowIndex].index + wordIndex);\r\n        },\r\n        [onCurrentIndexChange, rows]\r\n    );\r\n\r\n    const contextValue = useMemo(\r\n        () => ({\r\n            words,\r\n            rows,\r\n            currentIndex,\r\n            onRowClick,\r\n        }),\r\n        [words, rows, currentIndex, onRowClick]\r\n    );\r\n\r\n    if (mode !== 'view') {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            className={styles.container}\r\n            style={{\r\n                fontFamily: fontInfo.fontFamily,\r\n                fontSize: fontInfo.fontSize,\r\n            }}\r\n        >\r\n            <Provider value={contextValue}>\r\n                <List\r\n                    ref={listRef}\r\n                    height={height}\r\n                    width={width}\r\n                    itemSize={24}\r\n                    itemCount={rows.length}\r\n                    className={styles.list}\r\n                    overscanCount={20}\r\n                >\r\n                    {ListItem}\r\n                </List>\r\n            </Provider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookRender;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPauseSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 27,\n    height: 36,\n    viewBox: \"0 0 27 36\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.50006 36H2.50006C0.370593 36 0 34.2723 0 32.1429V3.85715C0 1.72769 0.370593 7.62939e-06 2.50006 7.62939e-06H7.50006C9.62952 7.62939e-06 10.0001 1.72769 10.0001 3.85715V32.1429C10.0001 34.2723 9.62952 36 7.50006 36Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5001 36H19.5001C17.3706 36 17 34.2723 17 32.1429V3.85714C17 1.72768 17.3706 0 19.5001 0H24.5001C26.6295 0 27.0001 1.72768 27.0001 3.85714V32.1429C27.0001 34.2723 26.6295 36 24.5001 36Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPauseSolid);\nexport default __webpack_public_path__ + \"static/media/pause-solid.be1337ee.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 3,\n    viewBox: \"0 0 24 3\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.2857 0H1.71429C0.767679 0 0 0.447812 0 1V2C0 2.55219 0.767679 3 1.71429 3H22.2857C23.2323 3 24 2.55219 24 2V1C24 0.447812 23.2323 0 22.2857 0Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusSolid);\nexport default __webpack_public_path__ + \"static/media/minus-solid.484e7581.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 0C9.55225 0 10 0.447693 10 1V8H17C17.5522 8 18 8.44769 18 9C18 9.55231 17.5522 10 17 10H10V17C10 17.5523 9.55225 18 9 18C8.44775 18 8 17.5523 8 17V10H1C0.447754 10 0 9.55231 0 9C0 8.44769 0.447754 8 1 8H8V1C8 0.447693 8.44775 0 9 0Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSolid);\nexport default __webpack_public_path__ + \"static/media/plus-solid.955f4201.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAngleLeftSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 11,\n    height: 20,\n    viewBox: \"0 0 11 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.62132 0.424532C9.16548 -0.141511 10.0477 -0.141511 10.5919 0.424532C11.136 0.990575 11.136 1.90831 10.5919 2.47436L2.37868 11.0179C1.83453 11.584 0.952275 11.584 0.408119 11.0179C-0.136036 10.4519 -0.136036 9.53414 0.408119 8.96809L8.62132 0.424532Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.408117 11.0319C-0.136039 10.4659 -0.136039 9.54813 0.408117 8.98208C0.952272 8.41604 1.83452 8.41604 2.37868 8.98208L10.5919 17.5256C11.136 18.0917 11.136 19.0094 10.5919 19.5755C10.0477 20.1415 9.16548 20.1415 8.62132 19.5755L0.408117 11.0319Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleLeftSolid);\nexport default __webpack_public_path__ + \"static/media/angle-left-solid.da55b788.svg\";\nexport { ForwardRef as ReactComponent };","import { memo } from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport { ReactComponent as PlayIcon } from 'assets/icons/play-solid.svg';\r\nimport { ReactComponent as PauseIcon } from 'assets/icons/pause-solid.svg';\r\nimport { ReactComponent as MinusIcon } from 'assets/icons/minus-solid.svg';\r\nimport { ReactComponent as PlusIcon } from 'assets/icons/plus-solid.svg';\r\n\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IReaderControlsProps {\r\n    mode: 'view' | 'play' | 'pause';\r\n    hidden: boolean;\r\n    wordsPerMinute: number;\r\n    onPlayPause: () => void;\r\n    onSpeedUp: () => void;\r\n    onSpeedDown: () => void;\r\n}\r\n\r\nconst ReaderControls = ({ mode, hidden, wordsPerMinute, onPlayPause, onSpeedUp, onSpeedDown }: IReaderControlsProps) => {\r\n    return (\r\n        <div \r\n            className={cn(styles.container, { \r\n                [styles.hidden]: hidden \r\n            })}\r\n            onClick={(e) => e.stopPropagation()}\r\n        >\r\n            <div className={styles.buttons}>\r\n                <div\r\n                    className={styles.button}\r\n                    onClick={onSpeedDown}\r\n                >\r\n                    <MinusIcon />\r\n                </div>\r\n                <div \r\n                    className={styles.button} \r\n                    onClick={onPlayPause}\r\n                >\r\n                    {mode === 'play' ? <PauseIcon /> : <PlayIcon />}\r\n                </div>\r\n                <div\r\n                    className={styles.button}\r\n                    onClick={onSpeedUp}\r\n                >\r\n                    <PlusIcon />\r\n                </div>\r\n            </div>\r\n            <div className={styles.bottom}>{wordsPerMinute}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default memo(ReaderControls);\r\n","\r\nconst clamp = (min: number, value: number, max: number) => {\r\n    return Math.max(min, Math.min(value, max));\r\n}\r\n\r\nexport default clamp;","\r\nconst timestampToHumanTime = (timestamp: number) => {\r\n\r\n    const temp = Math.floor(timestamp / 1000);\r\n\r\n    let string = '';\r\n\r\n    const days = Math.floor((temp % 31536000) / 86400);\r\n    if(days) {\r\n        string += `${days}d `;\r\n    }\r\n    const hours = Math.floor((temp % 86400) / 3600);\r\n    if(hours) {\r\n        string += `${hours}h `;\r\n    }\r\n    const minutes = Math.floor((temp % 3600) / 60);\r\n    if(minutes) {\r\n        string += `${minutes}m `;\r\n    }\r\n    const seconds = temp % 60;\r\n    if(seconds) {\r\n        string += `${seconds}s`;\r\n    }\r\n\r\n    if(string === '') {\r\n        return '0';\r\n    }\r\n\r\n    return string;\r\n}\r\n\r\nexport {\r\n    timestampToHumanTime\r\n};","import cn from 'classnames';\r\nimport { useSettings } from 'providers/Settings';\r\n\r\nimport clamp from 'utils/clamp';\r\nimport { timestampToHumanTime } from 'utils/time';\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IReaderStatusBarProps {\r\n    mode: 'view' | 'play' | 'pause';\r\n    hidden: boolean;\r\n    totalWords: number;\r\n    currentWord: number;\r\n}\r\n\r\ninterface IReaderStatusBarStyleProps extends React.CSSProperties {\r\n    '--position': string;\r\n}\r\n\r\nconst ReaderStatusBar = ({\r\n    mode,\r\n    hidden,\r\n    totalWords,\r\n    currentWord,\r\n}: IReaderStatusBarProps) => {\r\n    const {\r\n        settings: { wordsPerMinute },\r\n    } = useSettings();\r\n\r\n    const timeToRead =\r\n        Math.floor((totalWords - currentWord) / (wordsPerMinute / 60)) * 1000;\r\n\r\n    const position = (100 / totalWords) * currentWord;\r\n    const wordsLeft = totalWords - currentWord;\r\n\r\n    return (\r\n        <div className={cn(styles.container, { [styles.hidden]: hidden, [styles.playing]: mode !== 'view' })}>\r\n            <div\r\n                className={styles.statusBar}\r\n                style={\r\n                    {\r\n                        '--position': `${clamp(0, position, 100)}%`,\r\n                    } as IReaderStatusBarStyleProps\r\n                }\r\n            />\r\n            <div className={styles.bottomBar}>\r\n                <span className={styles.timeLeft}>\r\n                    {timestampToHumanTime(timeToRead)}\r\n                </span>\r\n                <span className={styles.wordsLeft}>\r\n                    {wordsLeft} word{wordsLeft > 1 ? 's' : ''} left\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReaderStatusBar;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFontIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 13,\n    viewBox: \"0 0 22 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.65137 10.4023H2.48145L1.54492 13H0.191406L3.99219 3.04688H5.14062L8.94824 13H7.60156L6.65137 10.4023ZM2.87793 9.32227H6.26172L4.56641 4.66699L2.87793 9.32227ZM17.5 10.3633H12.877L11.998 13H9.19434L13.958 0.203125H16.4014L21.1914 13H18.3877L17.5 10.3633ZM13.5889 8.22754H16.7881L15.1797 3.4375L13.5889 8.22754Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFontIcon);\nexport default __webpack_public_path__ + \"static/media/font-icon.902ae4f9.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTextIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 13,\n    viewBox: \"0 0 30 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.43652 0.1875V2.49023H5.21191V3.74707H3.43652V9.64453C3.43652 10.0254 3.51562 10.3125 3.67383 10.5059C3.83203 10.6934 4.10156 10.7871 4.48242 10.7871C4.66992 10.7871 4.92773 10.752 5.25586 10.6816V12C4.82812 12.1172 4.41211 12.1758 4.00781 12.1758C3.28125 12.1758 2.7334 11.9561 2.36426 11.5166C1.99512 11.0771 1.81055 10.4531 1.81055 9.64453V3.74707H0.0791016V2.49023H1.81055V0.1875H3.43652ZM19.8545 5.96191L21.9639 2.49023H23.8623L20.751 7.19238L23.959 12H22.0781L19.8809 8.44043L17.6836 12H15.7939L19.002 7.19238L15.8906 2.49023H17.7715L19.8545 5.96191ZM27.7998 0.1875V2.49023H29.5752V3.74707H27.7998V9.64453C27.7998 10.0254 27.8789 10.3125 28.0371 10.5059C28.1953 10.6934 28.4648 10.7871 28.8457 10.7871C29.0332 10.7871 29.291 10.752 29.6191 10.6816V12C29.1914 12.1172 28.7754 12.1758 28.3711 12.1758C27.6445 12.1758 27.0967 11.9561 26.7275 11.5166C26.3584 11.0771 26.1738 10.4531 26.1738 9.64453V3.74707H24.4424V2.49023H26.1738V0.1875H27.7998Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.0654 12.1758C9.77637 12.1758 8.72754 11.7539 7.91895 10.9102C7.11035 10.0605 6.70605 8.92676 6.70605 7.50879V7.20996C6.70605 6.2666 6.88477 5.42578 7.24219 4.6875C7.60547 3.94336 8.10938 3.36328 8.75391 2.94727C9.4043 2.52539 10.1074 2.31445 10.8633 2.31445C12.0996 2.31445 13.0605 2.72168 13.7461 3.53613C14.4316 4.35059 14.7744 5.5166 14.7744 7.03418V7.71094H8.33203C8.35547 8.64844 8.62793 9.40723 9.14941 9.9873C9.67676 10.5615 10.3447 10.8486 11.1533 10.8486C11.7275 10.8486 12.2139 10.7314 12.6123 10.4971C13.0107 10.2627 13.3594 9.95215 13.6582 9.56543L14.6514 10.3389C13.8545 11.5635 12.6592 12.1758 11.0654 12.1758ZM10.8633 3.65039C10.207 3.65039 9.65625 3.89062 9.21094 4.37109C8.76562 4.8457 8.49023 5.51367 8.38477 6.375H13.1484V6.25195C13.1016 5.42578 12.8789 4.78711 12.4805 4.33594C12.082 3.87891 11.543 3.65039 10.8633 3.65039Z\",\n    fill: \"#FF0000\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTextIcon);\nexport default __webpack_public_path__ + \"static/media/text-icon.93d71768.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _rect3, _rect4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGuidelineIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 16,\n    viewBox: \"0 0 18 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18,\n    height: 2,\n    rx: 1,\n    fill: \"black\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 6,\n    width: 2,\n    height: 6,\n    rx: 1,\n    fill: \"black\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18,\n    height: 2,\n    rx: 1,\n    transform: \"matrix(1 0 0 -1 0 16)\",\n    fill: \"black\"\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 2,\n    height: 6,\n    rx: 1,\n    transform: \"matrix(1 0 0 -1 6 16)\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGuidelineIcon);\nexport default __webpack_public_path__ + \"static/media/guideline-icon.1b31a321.svg\";\nexport { ForwardRef as ReactComponent };","\r\nimport { memo } from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport styles from './styles.module.scss';\r\n\r\nimport { ReactComponent as AngleLeftIcon } from 'assets/icons/angle-left-solid.svg';\r\nimport { ReactComponent as FontIcon } from 'assets/icons/font-icon.svg';\r\nimport { ReactComponent as TextIcon } from 'assets/icons/text-icon.svg';\r\nimport { ReactComponent as GuidelineIcon } from 'assets/icons/guideline-icon.svg';\r\n\r\ninterface IReaderHeaderProps {\r\n    title: string;\r\n    mode: 'view' | 'play' | 'pause';\r\n    hidden: boolean;\r\n    onBackButton: () => void,\r\n    onChangeFont: () => void;\r\n    onSetORP: () => void;\r\n    onSetORPGuidelines: () => void;\r\n}\r\n\r\nconst ReaderHeader = ({\r\n    title,\r\n    mode,\r\n    hidden,\r\n    onBackButton,\r\n    onChangeFont,\r\n    onSetORP,\r\n    onSetORPGuidelines\r\n}: IReaderHeaderProps) => {\r\n\r\n    return (\r\n        <div \r\n            className={cn(styles.container, { \r\n                [styles.hidden]: hidden \r\n            })}\r\n            onClick={(e) => e.stopPropagation()}\r\n        >\r\n            <div\r\n                className={cn(styles.button, styles.backButton)}\r\n                onClick={onBackButton}\r\n            >\r\n                <AngleLeftIcon />\r\n            </div>\r\n            {mode === 'view' && <span className={styles.title}>{title}</span>}\r\n            <div className={styles.buttons}>\r\n                {mode !== 'view' && (\r\n                    <>\r\n                        <div className={cn(styles.button)} onClick={onChangeFont}>\r\n                            <FontIcon />\r\n                        </div>\r\n                        <div\r\n                            className={cn(styles.button)}\r\n                            onClick={onSetORP}\r\n                        >\r\n                            <TextIcon />\r\n                        </div>\r\n                        <div\r\n                            className={cn(styles.button)}\r\n                            onClick={onSetORPGuidelines}\r\n                        >\r\n                            <GuidelineIcon />\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default memo(ReaderHeader);\r\n","import { useEffect, useState } from 'react';\r\n\r\n/** Milliseconds representing forever in the future. */\r\nconst never = Number.MAX_SAFE_INTEGER;\r\n\r\nfunction useAccurateTimer(\r\n    isPlaying: boolean,\r\n    delay: number,\r\n    callback: () => void | number\r\n) {\r\n    const now = new Date().getTime();\r\n    // This is used to trigger a render that checks to fire the timer\r\n    const [, setCheckTime] = useState(now);\r\n    const [nextFireTime, setNextFireTime] = useState(never);\r\n\r\n    useEffect(() => {\r\n        if (isPlaying) {\r\n            const currentTime = new Date().getTime() + delay;\r\n            const newNextFireTime = delay\r\n                ? Math.max(currentTime, currentTime)\r\n                : never;\r\n            setNextFireTime(newNextFireTime);\r\n        } else {\r\n            setNextFireTime(never);\r\n        }\r\n    }, [isPlaying, delay]);\r\n\r\n    useEffect(() => {\r\n        let timeout: NodeJS.Timeout;\r\n\r\n        // If it's a timer and it isn't paused...\r\n        if (delay && isPlaying) {\r\n            // Check if we're overdue on any events being fired (super low delay or expensive callback)\r\n            const overdueCalls = Math.max(\r\n                0,\r\n                Math.floor((now - nextFireTime) / delay)\r\n            );\r\n            // If we're overdue, this means we're not firing callbacks fast enough and need to prevent\r\n            // exceeding the maximum update depth.\r\n            // To do this, we only fire the callback on an even number of overdues (including 0, no overdues).\r\n            // Else, we wait a little, then try again.\r\n            if (overdueCalls % 2 !== 1) {\r\n                // If the timer is up...\r\n                if (now >= nextFireTime) {\r\n                    let userDelay = 0;\r\n                    // Call the callback\r\n                    if (typeof callback === 'function') {\r\n                        try {\r\n                            userDelay = callback() || 0;\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    }\r\n                    // Calculate and set the next time the timer should fire\r\n                    const overdueElapsedTime = overdueCalls * delay;\r\n                    const newFireTime = Math.max(\r\n                        now,\r\n                        nextFireTime + delay + overdueElapsedTime + userDelay\r\n                    );\r\n                    setNextFireTime(newFireTime);\r\n                    // Set a timeout to check and fire the timer when time's up\r\n                    timeout = setTimeout(() => {\r\n                        // This merely triggers a rerender to check if the timer can fire.\r\n                        setCheckTime(new Date().getTime());\r\n                    }, Math.max(newFireTime - new Date().getTime(), 1));\r\n                }\r\n                // Time is not up yet. Set a timeout to check and fire when time's up\r\n                else if (nextFireTime < never) {\r\n                    timeout = setTimeout(() => {\r\n                        // This merely triggers a rerender to check if the timer can fire.\r\n                        setCheckTime(new Date().getTime());\r\n                        // Home in on the exact time to fire.\r\n                    }, Math.max(nextFireTime - new Date().getTime(), 1));\r\n                }\r\n            } else {\r\n                // Relief valve to avoid maximum update depth exceeded errors.\r\n                // When calls become overdue, there's too expensive of a callback or too low of a delay to keep up.\r\n                // In both cases, the React max update stack will be exceeded due to repeated firings.\r\n                // To relieve this, don't check to fire this time around, but check again in a short time.\r\n                timeout = setTimeout(() => {\r\n                    setCheckTime(new Date().getTime());\r\n                }, 20);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            clearTimeout(timeout);\r\n        };\r\n    }, [now, nextFireTime, isPlaying, delay, callback]);\r\n}\r\n\r\nexport default useAccurateTimer;\r\n","import { memo, useCallback, useEffect, useRef, useState } from 'react';\r\nimport cn from 'classnames';\r\nimport useAccurateTimer from 'hooks/useAccurateTimer';\r\nimport clamp from 'utils/clamp';\r\nimport styles from './styles.module.scss';\r\nimport { useSettings } from 'providers/Settings';\r\nimport { IFontInfo } from 'types/fontInfo';\r\n\r\ninterface IRSVPReaderProps {\r\n    fontInfo: IFontInfo;\r\n    width: number;\r\n    mode: 'view' | 'play' | 'pause';\r\n    words: string[];\r\n    initialIndex?: number;\r\n    onNextWord?: (index: number) => void;\r\n    showPreviousOnPause: boolean;\r\n}\r\n\r\ninterface IRSPVReaderState {\r\n    currentWord: string;\r\n    currentIndex: number;\r\n    hasNextWord: boolean;\r\n}\r\n\r\nfunction usePrevious(value: any) {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n        ref.current = value;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nconst getOrpPos = (length: number) => {\r\n    return length === 1 ? 1 : Math.ceil((length - 1) / 4) + 1;\r\n};\r\n\r\nclass CharMeasurer {\r\n    private ctx: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D;\r\n    private templateChars =\r\n        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz1234567890~!@#$%^&*()_+={}:\\'\"\\\\,./<>?';\r\n    private chars: Map<string, number> = new Map();\r\n    constructor(fontInfo: IFontInfo) {\r\n        if ('OffscreenCanvas' in globalThis) {\r\n            this.ctx = new OffscreenCanvas(1, 1).getContext('2d')!;\r\n        } else {\r\n            this.ctx = document.createElement('canvas').getContext('2d')!;\r\n        }\r\n        this.ctx.font = `${fontInfo.fontSize}px ${fontInfo.fontFamily}`;\r\n        this.measureChars();\r\n    }\r\n    private measure(char: string) {\r\n        return this.ctx.measureText(char).width;\r\n    }\r\n    measureChars() {\r\n        this.chars = new Map(\r\n            this.templateChars.split('').map((v) => [v, this.measure(v)])\r\n        );\r\n    }\r\n    setFont(fontInfo: IFontInfo) {\r\n        this.ctx.font = `${fontInfo.fontSize}px ${fontInfo.fontFamily}`;\r\n        this.measureChars();\r\n    }\r\n    longestWidth() {\r\n        let maxWidth = 0;\r\n        this.chars.forEach((width, char) => {\r\n            if (width > maxWidth) {\r\n                // console.log(char)\r\n                maxWidth = width;\r\n            }\r\n        });\r\n        return maxWidth;\r\n    }\r\n    measureChar(char: string) {\r\n        let charWidth = this.chars.get(char);\r\n        if (!charWidth) {\r\n            charWidth = this.measure(char);\r\n            this.chars.set(char, charWidth);\r\n        }\r\n        return charWidth;\r\n    }\r\n}\r\n\r\nfunction useORPWord({\r\n    fontInfo,\r\n    word,\r\n    width,\r\n}: {\r\n    fontInfo: IFontInfo;\r\n    word: string;\r\n    width: number;\r\n}) {\r\n    const measureRef = useRef<CharMeasurer | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (measureRef.current) {\r\n            measureRef.current.setFont(fontInfo);\r\n        }\r\n    }, [fontInfo]);\r\n\r\n    useEffect(() => {\r\n        measureRef.current = new CharMeasurer(fontInfo);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const [{ orpMiddlePointPx, maxOffset, maxWords }, set] = useState({\r\n        maxOffset: 0,\r\n        maxWords: 0,\r\n        orpMiddlePointPx: 0,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (measureRef.current) {\r\n            // console.log(measureRef.current.longestWidth())\r\n\r\n            const maxWords =\r\n                Math.floor((width || 0) / measureRef.current.longestWidth()) -\r\n                1;\r\n            const orpPos =\r\n                getOrpPos(maxWords) * measureRef.current.longestWidth() +\r\n                measureRef.current.longestWidth() / 2;\r\n            const maxOffset = getOrpPos(maxWords) + 1;\r\n\r\n            // console.log(measureRef.current.longestWidth())\r\n\r\n            set({\r\n                maxOffset,\r\n                maxWords: maxWords - (maxOffset - getOrpPos(maxWords)),\r\n                orpMiddlePointPx: orpPos,\r\n            });\r\n        }\r\n    }, [width]);\r\n\r\n    let r = word.trim().substr(0, maxWords);\r\n\r\n    const trimmedWord = r.replaceAll(/^[^a-zа-я\\d]*|[^a-zа-я\\d]*$/gi, '');\r\n    // const length = trimmedWord.split('').map(v => measurer.measureChar(v));\r\n    const orp = getOrpPos(trimmedWord.length);\r\n\r\n    const lpad = ''.padStart(maxOffset - orp, '\\u00A0');\r\n    const chars = [\r\n        <span key={1}>{lpad + r.substr(0, orp - 1)}</span>,\r\n        <span key={2}>{r[orp - 1]}</span>,\r\n        <span key={3}>{trimmedWord.length > 2 ? r.substr(orp) : ''}</span>,\r\n    ];\r\n\r\n    return { chars, orpMiddlePointPx, maxOffset };\r\n}\r\n\r\nconst RSVPReader = ({\r\n    fontInfo,\r\n    width,\r\n    mode,\r\n    words,\r\n    initialIndex = 0,\r\n    onNextWord,\r\n    showPreviousOnPause,\r\n}: IRSVPReaderProps) => {\r\n    const { settings } = useSettings();\r\n\r\n    const [\r\n        { currentWord, currentIndex, hasNextWord },\r\n        set,\r\n    ] = useState<IRSPVReaderState>({\r\n        currentWord: '',\r\n        currentIndex: 0,\r\n        hasNextWord: false,\r\n    });\r\n\r\n    useEffect(() => {\r\n        const wordCount = words.length;\r\n\r\n        const state = {\r\n            currentWord: '',\r\n            currentIndex: 0,\r\n            hasNextWord: false,\r\n        };\r\n\r\n        if (wordCount > 0) {\r\n            const initial = clamp(0, initialIndex || 0, wordCount);\r\n\r\n            const currentWord = words[initial];\r\n\r\n            if (currentWord) {\r\n                state.currentIndex = initial;\r\n                state.currentWord = currentWord;\r\n                state.hasNextWord = wordCount > initial;\r\n            }\r\n        }\r\n\r\n        set(state);\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [words, onNextWord]);\r\n\r\n    const prevMode = usePrevious(mode);\r\n    useEffect(() => {\r\n        if (prevMode === 'view' && mode !== 'view') {\r\n            const wordCount = words.length;\r\n\r\n            const state = {\r\n                currentWord: '',\r\n                currentIndex: 0,\r\n                hasNextWord: false,\r\n            };\r\n\r\n            if (wordCount > 0) {\r\n                const initial = clamp(0, initialIndex || 0, wordCount);\r\n\r\n                const currentWord = words[initial];\r\n\r\n                if (currentWord) {\r\n                    state.currentIndex = initial;\r\n                    state.currentWord = currentWord;\r\n                    state.hasNextWord = wordCount > initial;\r\n                }\r\n            }\r\n\r\n            set(state);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [prevMode, mode]);\r\n\r\n    useEffect(() => {\r\n        onNextWord?.(currentIndex);\r\n    }, [onNextWord, currentIndex]);\r\n\r\n    const onTick = useCallback(() => {\r\n        set((currState) => {\r\n            const newState = { ...currState };\r\n            const nextWord = words[currState.currentIndex + 1];\r\n            if (nextWord) {\r\n                newState.currentWord = nextWord;\r\n                newState.currentIndex++;\r\n                newState.hasNextWord = words.length > newState.currentIndex;\r\n            } else {\r\n                newState.hasNextWord = false;\r\n            }\r\n            return newState;\r\n        });\r\n    }, [words]);\r\n\r\n    const delay = (60 / settings.wordsPerMinute) * 1000;\r\n    useAccurateTimer(mode === 'play' && hasNextWord, delay, onTick);\r\n    const { chars, orpMiddlePointPx } = useORPWord({\r\n        fontInfo,\r\n        word: currentWord,\r\n        width,\r\n    });\r\n\r\n    if (mode === 'view') {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={styles.container}\r\n            style={{\r\n                fontFamily: fontInfo.fontFamily,\r\n                fontSize: `${fontInfo.fontSize}px`,\r\n            }}\r\n        >\r\n            <div\r\n                className={cn(styles.previous, {\r\n                    [styles.show]: mode === 'pause' && showPreviousOnPause,\r\n                })}\r\n            >\r\n                {words\r\n                    .slice(\r\n                        clamp(0, currentIndex - 50, words.length),\r\n                        currentIndex\r\n                    )\r\n                    .join(' ')}\r\n            </div>\r\n            <div\r\n                className={cn(styles.ORPGuideline, {\r\n                    [styles.disabled]: !settings.ORPGuideLine,\r\n                    [styles.orp]: settings.ORP,\r\n                })}\r\n                style={\r\n                    {\r\n                        '--orpPos': `${orpMiddlePointPx}px`,\r\n                        fontFamily: 'SFMono',\r\n                        lineHeight: '82px',\r\n                    } as any\r\n                }\r\n            >\r\n                {chars}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default memo(RSVPReader);\r\n","import cn from 'classnames';\r\nimport useBackgroundColor from 'hooks/useBackgroundColor';\r\nimport useElementSize from 'hooks/useElementSize';\r\nimport { useSettings } from 'providers/Settings';\r\nimport { useCallback, useMemo, useRef, useState } from 'react';\r\nimport { IBookInfo } from '../../providers/Library';\r\nimport { useReadingStats } from '../../providers/ReadingStats';\r\nimport BookRender from '../BookRender';\r\nimport ReaderControls from '../ReaderControls';\r\nimport ReaderStatusBar from '../ReaderStatusBar';\r\nimport ReaderHeader from '../ReaderHeader';\r\nimport RSVPReader from '../RSVPReader';\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IBookReaderProps {\r\n    info: IBookInfo;\r\n    words: string[];\r\n\r\n    onBack: () => void;\r\n}\r\n\r\nfunction wrapText(words: string[], maxWidth: number) {\r\n    if (maxWidth === 0) {\r\n        return [];\r\n    }\r\n\r\n    const rows = [];\r\n    let index = 0;\r\n\r\n    let bufferLength = 0;\r\n\r\n    let i = 0;\r\n    let startIndex = 0;\r\n    let l = words.length;\r\n    while (i < l) {\r\n        const currWordLength = words[i].length;\r\n        if (bufferLength + currWordLength + 1 > maxWidth) {\r\n            rows.push({\r\n                index,\r\n                startIndex: startIndex,\r\n                endIndex: i,\r\n            });\r\n            index += i - startIndex;\r\n            bufferLength = 0;\r\n            startIndex = i;\r\n        }\r\n        bufferLength += currWordLength + 1;\r\n        ++i;\r\n    }\r\n\r\n    return rows;\r\n}\r\n\r\nconst INCREMENT_VALUE = 20;\r\n\r\nconst BookReader = ({ info, words, onBack }: IBookReaderProps) => {\r\n    const {\r\n        settings,\r\n        readerFontInfo,\r\n        rsvpFontInfo,\r\n        fontWidth,\r\n        set,\r\n    } = useSettings();\r\n\r\n    const [uiHidden, setUiHidden] = useState(false);\r\n    const [mode, setMode] = useState<'view' | 'play' | 'pause'>('view');\r\n    const { stats, setStats } = useReadingStats(info.id);\r\n    const onNextWord = useCallback(\r\n        (index: number) => setStats(info.id, 'index', index),\r\n        [info.id, setStats]\r\n    );\r\n\r\n    useBackgroundColor(mode === 'view' ? '#FEFEFE' : '#edd1b0');\r\n\r\n    const timerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    const togglePlay = useCallback(() => {\r\n        setMode((value) => {\r\n            if (value === 'play') {\r\n                if (timerRef.current) {\r\n                    clearTimeout(timerRef.current);\r\n                    timerRef.current = null;\r\n                }\r\n                return 'pause';\r\n            }\r\n            return 'play';\r\n        });\r\n    }, []);\r\n\r\n    const onCurrentIndexChange = useCallback(\r\n        (index: number) => {\r\n            setStats(info.id, 'index', index);\r\n        },\r\n        [info.id, setStats]\r\n    );\r\n\r\n    const ref = useRef<HTMLDivElement>(null);\r\n    const { width } = useElementSize(ref);\r\n\r\n    // Header\r\n\r\n    const onBackButton = useCallback(() => {\r\n        if (mode === 'pause' || mode === 'play') {\r\n            setMode('view');\r\n        } else {\r\n            onBack();\r\n        }\r\n    }, [mode, onBack]);\r\n\r\n    const onChangeFont = useCallback(() => {\r\n        togglePlay();\r\n    }, [togglePlay]);\r\n    const onSetORP = useCallback(() => set('ORP', (v) => !v), [set]);\r\n    const onSetORPGuidelines = useCallback(\r\n        () => set('ORPGuideLine', (v) => !v),\r\n        [set]\r\n    );\r\n\r\n    // Controls\r\n\r\n    const onPlayPause = useCallback(() => togglePlay(), [togglePlay]);\r\n    const onSpeedUp = useCallback(\r\n        () => set('wordsPerMinute', (prev) => prev + INCREMENT_VALUE),\r\n        [set]\r\n    );\r\n    const onSpeedDown = useCallback(\r\n        () => set('wordsPerMinute', (prev) => prev - INCREMENT_VALUE),\r\n        [set]\r\n    );\r\n\r\n    const onReaderClick = useCallback(() => {\r\n        if (mode === 'play' && uiHidden) {\r\n            setUiHidden(false);\r\n        } else if (mode === 'play' && !uiHidden) {\r\n            setUiHidden(true);\r\n        } else if (mode !== 'play' && uiHidden) {\r\n            setUiHidden(false);\r\n        }\r\n    }, [mode, uiHidden]);\r\n\r\n    const rows = useMemo(() => {\r\n        if (width === 0) {\r\n            return [];\r\n        }\r\n        return wrapText(words, Math.floor((width - 10) / fontWidth));\r\n    }, [words, width, fontWidth]);\r\n\r\n    return (\r\n        <div\r\n            className={cn(styles.container, {\r\n                [styles.playing]: mode !== 'view',\r\n            })}\r\n            onClick={onReaderClick}\r\n        >\r\n            <ReaderHeader\r\n                mode={mode}\r\n                hidden={uiHidden}\r\n                title={info.title}\r\n                onBackButton={onBackButton}\r\n                onChangeFont={onChangeFont}\r\n                onSetORP={onSetORP}\r\n                onSetORPGuidelines={onSetORPGuidelines}\r\n            />\r\n            <div className={styles.content}>\r\n                <div ref={ref} className={styles.reader}>\r\n                    <RSVPReader\r\n                        fontInfo={rsvpFontInfo}\r\n                        width={width}\r\n                        mode={mode}\r\n                        words={words}\r\n                        initialIndex={stats.index}\r\n                        onNextWord={onNextWord}\r\n                        showPreviousOnPause={settings.showPreviousOnPause}\r\n                    />\r\n                    <BookRender\r\n                        fontInfo={readerFontInfo}\r\n                        width={width}\r\n                        mode={mode}\r\n                        words={words}\r\n                        rows={rows}\r\n                        currentIndex={stats.index}\r\n                        onCurrentIndexChange={onCurrentIndexChange}\r\n                    />\r\n                </div>\r\n                <ReaderControls\r\n                    mode={mode}\r\n                    hidden={uiHidden}\r\n                    wordsPerMinute={settings.wordsPerMinute}\r\n                    onPlayPause={onPlayPause}\r\n                    onSpeedUp={onSpeedUp}\r\n                    onSpeedDown={onSpeedDown}\r\n                />\r\n                <ReaderStatusBar\r\n                    mode={mode}\r\n                    hidden={uiHidden}\r\n                    totalWords={info.totalWords}\r\n                    currentWord={stats.index}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookReader;\r\n","import BookReader from 'components/BookReader';\r\nimport { IBookInfo, useLibraryContext } from 'providers/Library';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport styles from './styles.module.scss';\r\n\r\nfunction useBook(id: string) {\r\n    const { getBook } = useLibraryContext();\r\n\r\n    const [bookData, setBook] = useState<{\r\n        info: IBookInfo;\r\n        words: string[];\r\n    } | null>(null);\r\n\r\n    useEffect(() => {\r\n        getBook(id).then(({ info, words }) => {\r\n            setBook({\r\n                info,\r\n                words,\r\n            });\r\n        });\r\n    }, [id, getBook]);\r\n\r\n    return bookData;\r\n}\r\n\r\nconst Reader = () => {\r\n    const { id } = useParams<{ id: string }>();\r\n    const bookInfo = useBook(id);\r\n    const history = useHistory();\r\n    const onBack = useCallback(() => history.push('/'), [history]);\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            {bookInfo && (\r\n                <BookReader\r\n                    info={bookInfo.info}\r\n                    words={bookInfo.words}\r\n                    onBack={onBack}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Reader;\r\n","import { useCallback } from 'react';\r\n\r\nfunction useFileInput(options: any, callback: (files: File[]) => void) {\r\n    const onAction = useCallback(() => {\r\n        const input = document.createElement('input');\r\n        input.type = 'file';\r\n        input.multiple = true;\r\n        input.onchange = (event) => {\r\n            if (!event.target || (event.target as any).files.length === 0) {\r\n                return callback([]);\r\n            }\r\n            callback((event.target as any).files);\r\n        };\r\n        input.click();\r\n    }, [callback]);\r\n\r\n    return onAction;\r\n}\r\n\r\nexport default useFileInput;\r\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRest(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 4,\n    viewBox: \"0 0 16 4\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 0C0.895161 0 0 0.895161 0 2C0 3.10484 0.895161 4 2 4C3.10484 4 4 3.10484 4 2C4 0.895161 3.10484 0 2 0Z\",\n    fill: \"#868485\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 0C6.89516 0 6 0.895161 6 2C6 3.10484 6.89516 4 8 4C9.10484 4 10 3.10484 10 2C10 0.895161 9.10484 0 8 0Z\",\n    fill: \"#868485\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 0C12.8952 0 12 0.895161 12 2C12 3.10484 12.8952 4 14 4C15.1048 4 16 3.10484 16 2C16 0.895161 15.1048 0 14 0Z\",\n    fill: \"#868485\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRest);\nexport default __webpack_public_path__ + \"static/media/rest.d74d9462.svg\";\nexport { ForwardRef as ReactComponent };","\r\nimport cn from 'classnames';\r\n\r\nimport styles from './styles.module.scss';\r\nimport { ReactComponent as PlusIcon } from 'assets/icons/plus-solid.svg'; \r\n\r\ninterface IHeaderProps {\r\n    title: string;\r\n    editMode: boolean;\r\n    allSelected: boolean;\r\n    onBookAdd: () => void;\r\n    onEdit: () => void;\r\n\r\n    onSelectAll: () => void;\r\n    onDone: () => void;\r\n}\r\n\r\nconst Header = ({ title, editMode, allSelected, onBookAdd, onEdit, onSelectAll, onDone }: IHeaderProps) => {\r\n    return (\r\n        <div className={styles.container}>\r\n            {!editMode && <div className={styles.leftButton} onClick={onBookAdd}><PlusIcon/></div>}\r\n            {editMode && <div className={cn(styles.leftButton, styles.selectAllButton)} onClick={onSelectAll}>{allSelected ? 'Des' : 'S'}elect All</div>}\r\n            <div className={styles.title}>{title}</div>\r\n            {!editMode && <div className={styles.leftButton} onClick={onEdit}>Edit</div>}\r\n            {editMode && <div className={styles.leftButton} onClick={onDone}>Done</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IBookCoverProps {\r\n    title: string;\r\n    creator?: string;\r\n    cover?: string;\r\n}\r\n\r\nconst BookCover = ({ title, creator, cover }: IBookCoverProps) => {\r\n\r\n    return (\r\n        <div \r\n            className={styles.container}\r\n            style={{\r\n                '--imageOrColor': cover ? `url(${cover})` : '#995621',\r\n            } as any}\r\n        >\r\n            <div className={styles.wrapper}>\r\n                <div\r\n                    className={styles.title}\r\n                >\r\n                    {title}\r\n                </div>\r\n                <div\r\n                    className={styles.creator}\r\n                >\r\n                    {creator || ''}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BookCover;","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11, _path12, _path13, _path14;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLibrary(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"480pt\",\n    viewBox: \"0 0 480.00958 480\",\n    width: \"480pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m128 104.003906v-32c0-4.417968-3.582031-8-8-8h-112c-4.417969 0-8 3.582032-8 8v32zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 120.003906v264h128v-264zm96 104h-64c-4.417969 0-8-3.582031-8-8v-64c0-4.417968 3.582031-8 8-8h64c4.417969 0 8 3.582032 8 8v64c0 4.417969-3.582031 8-8 8zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 432.003906v40c0 4.417969 3.582031 8 8 8h112c4.417969 0 8-3.582031 8-8v-40zm0 0\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 400.003906h128v16h-128zm0 0\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 400.003906h104v16h-104zm0 0\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m248 32.003906v-24c0-4.417968-3.582031-7.99999975-8-7.99999975h-88c-4.417969 0-8 3.58203175-8 7.99999975v24zm0 0\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 88.003906h104v296h-104zm0 0\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 432.003906v40c0 4.417969 3.582031 8 8 8h88c4.417969 0 8-3.582031 8-8v-40zm0 0\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 48.003906h104v24h-104zm0 0\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m263.808594 165.667969 4.28125 16.433593 135.484375-36.128906-4.285157-16.433594zm0 0\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m330.664062 421.949219 135.480469-36.128907-8.578125-32.886718-135.488281 36.128906zm0 0\"\n  })), _path12 || (_path12 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m453.527344 337.453125-45.910156-176-135.488282 36.128906 45.910156 176zm0 0\"\n  })), _path13 || (_path13 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m259.769531 150.1875 135.476563-36.125-11.484375-44.058594c-1.183594-4.265625-5.542969-6.816406-9.839844-5.757812l-120 32c-4.238281 1.160156-6.765625 5.5-5.683594 9.757812zm0 0\"\n  })), _path14 || (_path14 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m470.183594 401.300781-135.488282 36.128907 9.542969 36.574218c.554688 2.0625 1.90625 3.820313 3.761719 4.882813 1.207031.730469 2.589844 1.117187 4 1.117187.699219 0 1.398438-.082031 2.078125-.238281l120-32c4.238281-1.160156 6.765625-5.503906 5.683594-9.761719zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLibrary);\nexport default __webpack_public_path__ + \"static/media/library.30727038.svg\";\nexport { ForwardRef as ReactComponent };","\r\nimport cn from 'classnames';\r\n\r\nimport BookCover from \"components/BookCover\";\r\nimport { IBookInfo } from \"providers/Library\";\r\n\r\nimport { ReactComponent as RestIcon } from 'assets/icons/rest.svg';\r\n\r\nimport styles from './styles.module.scss';\r\nimport { timestampToHumanTime } from 'utils/time';\r\n\r\ninterface IBookItemProps {\r\n    bookInfo: IBookInfo;\r\n    currentWord: number;\r\n    wordsPerMinute: number;\r\n    selectable?: boolean;\r\n    selected?: boolean;\r\n\r\n    onBookClick: (id: string) => void;\r\n    onRestClick: (id: string) => void;\r\n}\r\n\r\nconst BookItem = ({\r\n    bookInfo,\r\n    currentWord,\r\n    wordsPerMinute,\r\n    selectable = false,\r\n    selected = false,\r\n    onBookClick,\r\n    onRestClick,\r\n}: IBookItemProps) => {\r\n\r\n    const position = Math.floor((100 / bookInfo.totalWords) * currentWord);\r\n    const timeToRead =\r\n        Math.floor((bookInfo.totalWords - currentWord) / (wordsPerMinute / 60)) * 1000;\r\n\r\n    return (\r\n        <div\r\n            className={cn(styles.container, {\r\n                [styles.selectable]: selectable,\r\n                [styles.selected]: selected,\r\n            })}\r\n        >\r\n            <div className={styles.wrapper}>\r\n                <div className={styles.book} onClick={() => onBookClick(bookInfo.id)}>\r\n                    <BookCover\r\n                        title={bookInfo.title}\r\n                        creator={bookInfo.creator}\r\n                        cover={bookInfo.cover ? (bookInfo.cover as string) : undefined}\r\n                    />\r\n                </div>\r\n                <div className={styles.bottom}>\r\n                    <div>\r\n                        {position !== 100\r\n                            ? `${position} %`\r\n                            : 'FINISHED'}\r\n                    </div>\r\n                    <div> {timestampToHumanTime(timeToRead)}</div>\r\n                    <div onClick={() => onRestClick(bookInfo.id)}>\r\n                        <RestIcon />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookItem;","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16, _g17, _g18;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M490.667,405.333h-56.811C424.619,374.592,396.373,352,362.667,352s-61.931,22.592-71.189,53.333H21.333 C9.557,405.333,0,414.891,0,426.667S9.557,448,21.333,448h270.144c9.237,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,405.333,490.667,405.333z M362.667,458.667 c-17.643,0-32-14.357-32-32s14.357-32,32-32s32,14.357,32,32S380.309,458.667,362.667,458.667z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M490.667,64h-56.811c-9.259-30.741-37.483-53.333-71.189-53.333S300.736,33.259,291.477,64H21.333 C9.557,64,0,73.557,0,85.333s9.557,21.333,21.333,21.333h270.144C300.736,137.408,328.96,160,362.667,160 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,64,490.667,64z M362.667,117.333 c-17.643,0-32-14.357-32-32c0-17.643,14.357-32,32-32s32,14.357,32,32C394.667,102.976,380.309,117.333,362.667,117.333z\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M490.667,234.667H220.523c-9.259-30.741-37.483-53.333-71.189-53.333s-61.931,22.592-71.189,53.333H21.333 C9.557,234.667,0,244.224,0,256c0,11.776,9.557,21.333,21.333,21.333h56.811c9.259,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h270.144c11.797,0,21.333-9.557,21.333-21.333C512,244.224,502.464,234.667,490.667,234.667z  M149.333,288c-17.643,0-32-14.357-32-32s14.357-32,32-32c17.643,0,32,14.357,32,32S166.976,288,149.333,288z\"\n  })))), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", null)), _g18 || (_g18 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.30ae4518.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 25,\n    viewBox: \"0 0 22 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.5625 22.6563C1.5625 23.2779 1.80943 23.874 2.24897 24.3135C2.68851 24.7531 3.28465 25 3.90625 25H17.9688C18.5904 25 19.1865 24.7531 19.626 24.3135C20.0656 23.874 20.3125 23.2779 20.3125 22.6563V6.25001H1.5625V22.6563ZM14.8438 10.1563C14.8438 9.94906 14.9261 9.75034 15.0726 9.60383C15.2191 9.45732 15.4178 9.37501 15.625 9.37501C15.8322 9.37501 16.0309 9.45732 16.1774 9.60383C16.3239 9.75034 16.4062 9.94906 16.4062 10.1563V21.0938C16.4062 21.301 16.3239 21.4997 16.1774 21.6462C16.0309 21.7927 15.8322 21.875 15.625 21.875C15.4178 21.875 15.2191 21.7927 15.0726 21.6462C14.9261 21.4997 14.8438 21.301 14.8438 21.0938V10.1563ZM10.1562 10.1563C10.1562 9.94906 10.2386 9.75034 10.3851 9.60383C10.5316 9.45732 10.7303 9.37501 10.9375 9.37501C11.1447 9.37501 11.3434 9.45732 11.4899 9.60383C11.6364 9.75034 11.7188 9.94906 11.7188 10.1563V21.0938C11.7188 21.301 11.6364 21.4997 11.4899 21.6462C11.3434 21.7927 11.1447 21.875 10.9375 21.875C10.7303 21.875 10.5316 21.7927 10.3851 21.6462C10.2386 21.4997 10.1562 21.301 10.1562 21.0938V10.1563ZM5.46875 10.1563C5.46875 9.94906 5.55106 9.75034 5.69757 9.60383C5.84409 9.45732 6.0428 9.37501 6.25 9.37501C6.4572 9.37501 6.65591 9.45732 6.80243 9.60383C6.94894 9.75034 7.03125 9.94906 7.03125 10.1563V21.0938C7.03125 21.301 6.94894 21.4997 6.80243 21.6462C6.65591 21.7927 6.4572 21.875 6.25 21.875C6.0428 21.875 5.84409 21.7927 5.69757 21.6462C5.55106 21.4997 5.46875 21.301 5.46875 21.0938V10.1563ZM21.0938 1.56251H15.2344L14.7754 0.649423C14.6782 0.454215 14.5284 0.29001 14.3429 0.175281C14.1575 0.0605526 13.9437 -0.00014785 13.7256 8.5609e-06H8.14453C7.92694 -0.000827891 7.71352 0.0596463 7.52871 0.174503C7.34391 0.289359 7.19519 0.453951 7.09961 0.649423L6.64062 1.56251H0.78125C0.57405 1.56251 0.375336 1.64482 0.228823 1.79133C0.08231 1.93784 0 2.13656 0 2.34376L0 3.90626C0 4.11346 0.08231 4.31217 0.228823 4.45869C0.375336 4.6052 0.57405 4.68751 0.78125 4.68751H21.0938C21.301 4.68751 21.4997 4.6052 21.6462 4.45869C21.7927 4.31217 21.875 4.11346 21.875 3.90626V2.34376C21.875 2.13656 21.7927 1.93784 21.6462 1.79133C21.4997 1.64482 21.301 1.56251 21.0938 1.56251Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.dec50ce7.svg\";\nexport { ForwardRef as ReactComponent };","\r\nimport cn from 'classnames';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { ReactComponent as LibraryIcon } from 'assets/icons/library.svg';\r\nimport { ReactComponent as SettingsIcon } from 'assets/icons/settings.svg';\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IMenuProps {\r\n\r\n}\r\n\r\n// eslint-disable-next-line no-empty-pattern\r\nconst Menu = ({}: IMenuProps) => {\r\n    const location = useLocation();\r\n    return (\r\n        <div className={styles.container}>\r\n            <Link\r\n                to=\"/\" \r\n                className={cn(styles.item, { \r\n                    [styles.selected]: location.pathname === '/'\r\n                })}\r\n            >\r\n                <LibraryIcon />\r\n                Library\r\n            </Link>\r\n            <Link\r\n                to=\"/settings\"\r\n                className={cn(styles.item, { \r\n                    [styles.selected]: location.pathname === '/settings'\r\n                })}\r\n            >\r\n                <SettingsIcon/>\r\n                Settings\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Menu;","var _rect;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinusSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 3,\n    viewBox: \"0 0 16 3\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 3,\n    rx: 1,\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusSmall);\nexport default __webpack_public_path__ + \"static/media/minus-small.ce20e032.svg\";\nexport { ForwardRef as ReactComponent };","\r\nimport cn from 'classnames';\r\nimport { ReactComponent as TrashIcon } from 'assets/icons/trash.svg';\r\n\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IEditMenuProps {\r\n    active: boolean;\r\n    onDelete: () => void;\r\n}\r\n\r\nconst EditMenu = ({ active, onDelete }: IEditMenuProps) => {\r\n    return (\r\n        <div className={cn(styles.container, { [styles.active]: active })}>\r\n            <div className={styles.item} onClick={onDelete}>\r\n                <TrashIcon />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditMenu;","import styles from './styles.module.scss';\r\n\r\nimport { useLibraryContext } from '../../providers/Library';\r\n// import { useReadingStatsContext } from '../../Providers/ReadingStats';\r\n\r\nimport useFileInput from '../../hooks/useFileInput';\r\nimport { useCallback, useState } from 'react';\r\n\r\nimport Header from 'pages/Library/Header';\r\nimport useBackgroundColor from 'hooks/useBackgroundColor';\r\nimport { useSettings } from 'providers/Settings';\r\nimport { useReadingStatsContext } from 'providers/ReadingStats';\r\nimport BookItem from 'components/BookItem';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Menu from 'components/Menu';\r\nimport EditMenu from './EditMenu';\r\n\r\nconst Library = () => {\r\n    useBackgroundColor('#FEFEFE');\r\n    const { settings } = useSettings();\r\n    const { getStats } = useReadingStatsContext();\r\n    const history = useHistory();\r\n\r\n    const { library, loadBooks, deleteBooks } = useLibraryContext();\r\n    // const { getBookStats } = useReadingStatsContext();\r\n\r\n    const onAdd = useFileInput({ multiple: true }, async (files: File[]) => {\r\n        if (files.length === 0) {\r\n            return;\r\n        }\r\n        await loadBooks(files);\r\n    });\r\n\r\n    const [editing, setEditing] = useState(false);\r\n    const [selected, setSelected] = useState<string[]>([]);\r\n\r\n    const onDelete = useCallback(() => {\r\n        deleteBooks(selected);\r\n    }, [deleteBooks, selected]);\r\n\r\n    const onBookClick = useCallback((id: string) => {\r\n        if (editing) {\r\n            setSelected((selected) => {\r\n                if (selected.includes(id)) {\r\n                    return selected.filter(v => v !== id);\r\n                }\r\n                return [...selected, id];\r\n            });\r\n        } else {\r\n            history.push(`/book/${id}`);\r\n        }\r\n    }, [editing, history]);\r\n\r\n    const onSelectAll = useCallback(() => {\r\n        setSelected((prev) => {\r\n            if (prev.length === library.length) {\r\n                return [];\r\n            }\r\n            return library.map((bookInfo) => bookInfo.id);\r\n        });\r\n    }, [library]);\r\n    const onEdit = useCallback(() => {\r\n        setEditing(true);\r\n    }, []);\r\n    const onDone = useCallback(() => {\r\n        setEditing(false);\r\n        setSelected([]);\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <Header\r\n                title=\"Library\"\r\n                editMode={editing}\r\n                allSelected={selected.length === library.length}\r\n                onBookAdd={onAdd}\r\n                onEdit={onEdit}\r\n                onSelectAll={onSelectAll}\r\n                onDone={onDone}\r\n            />\r\n            <div className={styles.listContainer}>\r\n                <div className={styles.list}>\r\n                    {library.map((book) => (\r\n                        <BookItem\r\n                            key={book.id}\r\n                            bookInfo={book}\r\n                            currentWord={getStats(book.id).index}\r\n                            wordsPerMinute={settings.wordsPerMinute}\r\n                            onBookClick={onBookClick}\r\n                            onRestClick={() => { }}\r\n                            selectable={editing}\r\n                            selected={selected.includes(book.id)}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            {editing\r\n                ? <EditMenu active={selected.length > 0} onDelete={onDelete} />\r\n                : <Menu />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Library;\r\n","\r\nimport styles from './styles.module.scss';\r\n\r\ninterface IHeaderProps {\r\n    title: string;\r\n}\r\n\r\nconst Header = ({ title }: IHeaderProps) => {\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.leftButton}></div>\r\n            <div className={styles.title}>{title}</div>\r\n            <div className={styles.rightButton}></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 8C0 7.44772 0.447715 7 1 7H15C15.5523 7 16 7.44772 16 8V9C16 9.55228 15.5523 10 15 10H1C0.447715 10 0 9.55228 0 9V8Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.5 16.5C6.94772 16.5 6.5 16.0523 6.5 15.5L6.5 1.5C6.5 0.947715 6.94771 0.5 7.5 0.5L8.5 0.5C9.05228 0.5 9.5 0.947715 9.5 1.5L9.5 15.5C9.5 16.0523 9.05229 16.5 8.5 16.5H7.5Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSmall);\nexport default __webpack_public_path__ + \"static/media/plus-small.3b872b4e.svg\";\nexport { ForwardRef as ReactComponent };","import Header from './Header';\r\nimport styles from './styles.module.scss';\r\n\r\nimport { ReactComponent as MinusSmallIcon } from 'assets/icons/minus-small.svg';\r\nimport { ReactComponent as PlusSmallIcon } from 'assets/icons/plus-small.svg';\r\n\r\nimport cn from 'classnames';\r\nimport { useSettings } from 'providers/Settings';\r\nimport { useCallback } from 'react';\r\nimport Menu from 'components/Menu';\r\nimport clamp from 'utils/clamp';\r\n\r\ninterface ISettingsProps {}\r\n\r\nfunction CheckBox({\r\n    active,\r\n    onClick,\r\n}: {\r\n    active: boolean;\r\n    onClick: () => void;\r\n}) {\r\n    return (\r\n        <div\r\n            className={cn(styles.checkbox, { [styles.active]: active })}\r\n            onClick={onClick}\r\n        />\r\n    );\r\n}\r\n\r\nfunction Item({ title, value }: { title: string; value: string }) {\r\n    return (\r\n        <div className={styles.item}>\r\n            <div>{title}</div>\r\n            <div>{value}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ItemCheckbox({\r\n    title,\r\n    onClick,\r\n    value,\r\n}: {\r\n    title: string;\r\n    value: boolean;\r\n    onClick: () => void;\r\n}) {\r\n    return (\r\n        <div className={styles.item}>\r\n            <div>{title}</div>\r\n            <div>\r\n                <CheckBox active={value} onClick={onClick} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ItemRange({\r\n    title,\r\n    onChange,\r\n    value,\r\n    min = 0,\r\n    max = 100,\r\n}: {\r\n    title: string;\r\n    value: number;\r\n    min?: number;\r\n    max?: number;\r\n    onChange: (number: number) => void;\r\n}) {\r\n    return (\r\n        <div className={cn(styles.item, styles.range)}>\r\n            <div>{title}</div>\r\n            <div className={styles.range}>\r\n                <div className={styles.value}>{value} px</div>\r\n                <div className={styles.incButtons}>\r\n                    <div\r\n                        className={styles.button}\r\n                        onClick={() => onChange(clamp(min, value - 2, max))}\r\n                    >\r\n                        <MinusSmallIcon />\r\n                    </div>\r\n                    <div\r\n                        className={styles.button}\r\n                        onClick={() => onChange(clamp(min, value + 2, max))}\r\n                    >\r\n                        <PlusSmallIcon />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ItemGroup({\r\n    title,\r\n    children,\r\n}: {\r\n    title?: string;\r\n    children: React.ReactNode;\r\n}) {\r\n    return (\r\n        <div className={styles.category}>\r\n            {title && <div className={styles.categoryTitle}>{title}</div>}\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\n// eslint-disable-next-line no-empty-pattern\r\nconst Settings = ({}: ISettingsProps) => {\r\n    const { settings, set } = useSettings();\r\n    const toggleORP = useCallback(() => set('ORP', (v) => !v), [set]);\r\n    const toggleORPGuideline = useCallback(\r\n        () => set('ORPGuideLine', (v) => !v),\r\n        [set]\r\n    );\r\n    const toggleSlowDown = useCallback(\r\n        () => set('slowDownOnLongWords', (v) => !v),\r\n        [set]\r\n    );\r\n    const toggleShowPreviousOnPause = useCallback(\r\n        () => set('showPreviousOnPause', (v) => !v),\r\n        [set]\r\n    );\r\n    return (\r\n        <div className={styles.container}>\r\n            <Header title=\"Settings\" />\r\n            <div className={styles.settings}>\r\n                <ItemGroup title=\"Book Reader\">\r\n                    <Item\r\n                        title=\"Font family\"\r\n                        value={settings.fontFamilyReader}\r\n                    />\r\n                    <ItemRange\r\n                        title=\"Font size\"\r\n                        value={settings.fontSizeReader}\r\n                        min={8}\r\n                        max={24}\r\n                        onChange={(value) => {\r\n                            set('fontSizeReader', value);\r\n                        }}\r\n                    />\r\n                </ItemGroup>\r\n                <ItemGroup title=\"RSVP Reader\">\r\n                    <Item title=\"Font family\" value={settings.fontFamilyRSVP} />\r\n                    <ItemRange\r\n                        title=\"Font size\"\r\n                        value={settings.fontSizeRSVP}\r\n                        min={24}\r\n                        max={48}\r\n                        onChange={(value) => {\r\n                            set('fontSizeRSVP', value);\r\n                        }}\r\n                    />\r\n                    <ItemCheckbox\r\n                        title=\"Show optimal recognition point\"\r\n                        value={settings.ORP}\r\n                        onClick={toggleORP}\r\n                    />\r\n                    <ItemCheckbox\r\n                        title=\"Show ORP guideline\"\r\n                        value={settings.ORPGuideLine}\r\n                        onClick={toggleORPGuideline}\r\n                    />\r\n                    <ItemCheckbox\r\n                        title=\"Slow down on long words\"\r\n                        value={settings.slowDownOnLongWords}\r\n                        onClick={toggleSlowDown}\r\n                    />\r\n                    <ItemCheckbox\r\n                        title=\"Show 50 previous words on pause\"\r\n                        value={settings.showPreviousOnPause}\r\n                        onClick={toggleShowPreviousOnPause}\r\n                    />\r\n                </ItemGroup>\r\n            </div>\r\n            <Menu />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;\r\n","import { Switch, Route, useLocation } from 'react-router-dom';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nimport Providers from 'providers';\r\n\r\nimport Reader from './pages/Reader';\r\nimport Library from './pages/Library';\r\nimport Settings from 'pages/Settings';\r\n\r\nimport styles from './styles.module.scss';\r\n\r\nfunction A() {\r\n    const location = useLocation();\r\n    return (\r\n        <TransitionGroup className={styles.container}>\r\n            {/*\r\n            This is no different than other usage of\r\n            <CSSTransition>, just make sure to pass\r\n            `location` to `Switch` so it can match\r\n            the old location as it animates out.\r\n          */}\r\n            <CSSTransition\r\n                key={location.pathname}\r\n                classNames=\"fade\"\r\n                timeout={300}\r\n            >\r\n                <Switch location={location}>\r\n                    <Route path=\"/book/:id\" exact component={Reader} />\r\n                    <Route path=\"/\">\r\n                        <Route path=\"/\" exact component={Library} />\r\n                        <Route path=\"/settings\" exact component={Settings} />\r\n                    </Route>\r\n                </Switch>\r\n            </CSSTransition>\r\n        </TransitionGroup>\r\n    );\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        <Providers>\r\n            <A />\r\n        </Providers>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n  );\r\n  \r\n  type Config = {\r\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n  };\r\n  \r\n  export function register(config?: Config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://cra.link/PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl: string, config?: Config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then((registration) => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://cra.link/PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl: string, config?: Config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then((response) => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then((registration) => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log('No internet connection found. App is running in offline mode.');\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then((registration) => {\r\n          registration.unregister();\r\n        })\r\n        .catch((error) => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n  }","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from 'App';\r\n\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport './styles/index.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}