(this.webpackJsonpreadero=this.webpackJsonpreadero||[]).push([[0],{15:function(e,t,n){e.exports={container:"styles_container__lgzGZ",hidden:"styles_hidden__3R_Vv",hide:"styles_hide__2eb_z",title:"styles_title__DVSKR",button:"styles_button__tIKOm",backButton:"styles_backButton__2Iift",buttons:"styles_buttons__9MwoY"}},16:function(e,t,n){e.exports={container:"styles_container__3L1DU",book:"styles_book__3kr_u",cover:"styles_cover__6Uu98",nocover:"styles_nocover__2Rzyk",bookWrapper:"styles_bookWrapper__385Le",title:"styles_title__2fozK",author:"styles_author__1rUEC",bottom:"styles_bottom__3ye7t"}},20:function(e,t,n){e.exports={container:"styles_container__xRGQ3",hidden:"styles_hidden__tkCK0",hide:"styles_hide__1SJDM",buttons:"styles_buttons__ooHsn",button:"styles_button__1pqxT",bottom:"styles_bottom__1djMp"}},21:function(e,t,n){e.exports={container:"styles_container__1OVl5",hidden:"styles_hidden__2LoYr",hide:"styles_hide__3l2xM",playing:"styles_playing__nBe_T",statusBar:"styles_statusBar__2j5Er",bottomBar:"styles_bottomBar__AwkZb",timeLeft:"styles_timeLeft__3TwoZ",wordsLeft:"styles_wordsLeft__APFUt"}},26:function(e,t,n){e.exports={container:"styles_container__3_mvM",item:"styles_item__3yruJ",selected:"styles_selected__3DBuv"}},29:function(e,t,n){e.exports={container:"styles_container__1g-wD",list:"styles_list__gpRA5",row:"styles_row__1cmOy",selected:"styles_selected__zOB1R"}},30:function(e,t,n){e.exports={container:"styles_container__3-HjY",ORPGuideline:"styles_ORPGuideline__3GB2g",disabled:"styles_disabled__3FT6u",orp:"styles_orp__1TDsQ"}},31:function(e,t,n){e.exports={container:"styles_container__2KjvO",content:"styles_content__rVeXI",reader:"styles_reader__hEHPF",playing:"styles_playing__MdtfO"}},32:function(e,t,n){e.exports={container:"styles_container__11T8G",title:"styles_title__2Sn61",leftButton:"styles_leftButton__l4X_F",rightButton:"styles_rightButton__3DyWY"}},33:function(e,t,n){e.exports={container:"styles_container__1WeyU",title:"styles_title__SbZyV",leftButton:"styles_leftButton__3wmXK",rightButton:"styles_rightButton__2SF5P"}},39:function(e,t,n){e.exports={container:"styles_container__HUCkD",listContainer:"styles_listContainer__26jV9",list:"styles_list__1Gvkp"}},50:function(e,t,n){e.exports={container:"styles_container__3TSyu"}},51:function(e,t,n){e.exports={container:"styles_container__1MT9X"}},52:function(e,t,n){e.exports={container:"styles_container__1YyHF"}},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(35),c=n.n(i),o=n(6),s=n(2),l=n(18),u=n(53),f=n(4),d=n(14),b=n(12);function h(){var e=Object(r.createContext)(void 0);return[function(){var t=Object(r.useContext)(e);if(void 0===t)throw new Error("useCtx must be inside a Provider with a value");return t},e.Provider]}var p=n(1),j=["fontFamily","fontSize","wordsPerMinute","ORP","ORPGuideLine","slowDownOnLongWords"],v={fontFamily:"Liberation Mono",fontSize:48,wordsPerMinute:320,ORP:!0,ORPGuideLine:!0,slowDownOnLongWords:!0},O=h(),m=Object(s.a)(O,2),x=m[0],y=m[1],g=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(s.a)(n,2),i=a[0],c=a[1];Object(r.useEffect)((function(){var e,t=v,n=Object(b.a)(j);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=localStorage.getItem(r);a&&(t[r]=JSON.parse(a).value)}}catch(i){n.e(i)}finally{n.f()}c(t)}),[]);var o=Object(r.useCallback)((function(e,t){c((function(n){if(!n)return null;var r="function"===typeof t?t(n[e]):t;return localStorage.setItem(e,JSON.stringify({value:r})),Object(d.a)(Object(d.a)({},n),{},Object(f.a)({},e,r))}))}),[]);return i?Object(p.jsx)(y,{value:{settings:i,set:o},children:t}):null},w=n(19),_=n(5),k=n.n(_),C=n(10),S=n(22),E=n.n(S),P=n(46),N=n.n(P),M=n(42),I=n.n(M),R=n(47),B=n.n(R),L=function(){};L.trim=function(e){for(;""===e[e.length-1];)e.pop();for(;""===e[0];)e.shift();return e},L.tokenize=function(e){var t=null;return t?(t=t.map(Function.prototype.call,String.prototype.trim),this.trim(t)):[e]};var W=L;function F(e,t){if(e.files[t])return e.files[t];var n=e.filter((function(e,n){return n.name.toLowerCase()===t.toLowerCase()}));return n.length>0?n[0]:null}function H(e){return V.apply(this,arguments)}function V(){return(V=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=F(t,"mimetype")){e.next=3;break}throw new Error("No mimetype file in archive");case 3:return e.next=5,n.async("text");case 5:if("application/epub+zip"===e.sent.toLowerCase().trim()){e.next=8;break}throw new Error("Unsupported mime type");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return z.apply(this,arguments)}function z(){return(z=Object(C.a)(k.a.mark((function e(t){var n,r,a,i,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=F(t,"meta-inf/container.xml")){e.next=3;break}throw new Error("No container file in archive");case 3:return e.next=5,n.async("text");case 5:if(r=e.sent,(a=I.a.parse(r,{ignoreAttributes:!1})).container.rootfiles&&a.container.rootfiles.rootfile){e.next=9;break}throw new Error("No rootfiles found");case 9:if("application/oebps-package+xml"===(i=a.container.rootfiles.rootfile)["@_media-type"]){e.next=12;break}throw new Error("Rootfile in unknown format");case 12:if(c=i["@_full-path"]){e.next=15;break}throw new Error("Empty rootfile");case 15:if(o=F(t,c)){e.next=18;break}throw new Error("Rootfile not found from archive");case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return A.apply(this,arguments)}function A(){return(A=Object(C.a)(k.a.mark((function e(t,n){var r,a,i,c,o,s,l,u,f,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.async("text");case 2:return r=e.sent,a=I.a.parse(r,{attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"value",ignoreAttributes:!1,ignoreNameSpace:!0,parseAttributeValue:!0}),i=U(a),c=Z(a),o=G(a),s=J(a),l=X(o,c),e.next=11,Q(t,n,l);case 11:return u=e.sent,f=K(o,s),e.next=15,Y(t,n,f);case 15:return d=e.sent,e.abrupt("return",{cover:d,metadata:i,items:u});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){for(var t={},n=e.package.attr["unique-identifier"],r=0,a=Object.entries(e.package.metadata);r<a.length;r++){var i=a[r];if(i){var c=Object(s.a)(i,2),o=c[0],l=c[1];if(l){var u=null;if("identifier"===o){if(u=l,Array.isArray(l)?(u=l.find((function(e){return e.attr.id===n})))&&(u=u.value):u=l.value,!u)throw new Error("Cannot determine book unique identifier");u=String(u).replace("urn:uuid:","").toUpperCase().trim()}else u="object"===typeof l?l.value:l;t[o]=u}}}return t}function Z(e){var t={items:[]};if("id"in e.package.spine.attr&&(t.id=e.package.spine.attr.id),"page-progression-direction"in e.package.spine.attr&&(t.direction=e.package.spine.attr["page-progression-direction"]),"toc"in e.package.spine.attr&&(t.toc=e.package.spine.attr.toc),Array.isArray(e.package.spine.itemref)){var n,r=Object(b.a)(e.package.spine.itemref);try{for(r.s();!(n=r.n()).done;){var a,i=n.value;null===(a=t.items)||void 0===a||a.push(i.attr.idref)}}catch(o){r.e(o)}finally{r.f()}}else{var c;null===(c=t.items)||void 0===c||c.push(e.package.spine.itemref.attr.idref)}return t}function G(e){var t,n=[],r=Object(b.a)(e.package.manifest.item);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.attr)}}catch(i){r.e(i)}finally{r.f()}return n}function J(e){if(e.package.guide&&"string"!==typeof e.package.guide)return e.package.guide.reference.attr}function K(e,t){if(t&&"cover"===t.type)return t;var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id.includes("cover.jpg"))return a}}catch(i){r.e(i)}finally{r.f()}}function X(e,t){var n,r=[],a=Object(b.a)(t.items);try{var i=function(){var t=n.value,a=e.find((function(e){return e.id===t}));a&&"application/xhtml+xml"===a["media-type"]&&r.push(a)};for(a.s();!(n=a.n()).done;)i()}catch(c){a.e(c)}finally{a.f()}return r}function Y(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(C.a)(k.a.mark((function e(t,n,r){var a,i,c,o,l,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return a=null===n||void 0===n?void 0:n.name.split("/"),i=Object(s.a)(a,1),c=i[0],o=[c,r.href].join("/"),e.next=6,t.files[o].async("blob");case 6:if(l=e.sent,u=r["media-type"]||B.a.lookup(r.href)){e.next=10;break}return e.abrupt("return",l);case 10:return e.abrupt("return",l.slice(0,l.size,u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(C.a)(k.a.mark((function e(t,n,r){var a,i,c,o,l,u,f,d,h,p,j;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===n||void 0===n?void 0:n.name.split("/"),i=Object(s.a)(a,1),c=i[0],o=[],l=Object(b.a)(r);try{for(l.s();!(u=l.n()).done;)f=u.value.href,d=[c,f].join("/"),o.push(t.files[d].async("text"))}catch(v){l.e(v)}finally{l.f()}return h=new DOMParser,e.next=7,Promise.all(o);case 7:return p=e.sent,j=p.map((function(e){var t,n;return W.tokenize(((null===(t=h.parseFromString(e,"application/xhtml+xml").body.textContent)||void 0===t||null===(n=t.trimStart())||void 0===n?void 0:n.trimEnd())+".").split("\n").join(". ")).map((function(e){return e.replaceAll(". .",".")})).filter((function(e){return"."!==e}))})).reduce((function(e,t){return[].concat(Object(w.a)(e),Object(w.a)(t))}),[]),e.abrupt("return",j);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(C.a)(k.a.mark((function e(t){var n,r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/epub+zip"===t.type){e.next=2;break}throw new Error("Not an Epub file");case 2:return n=new N.a,e.next=5,n.loadAsync(t);case 5:if(r=e.sent,0!==Object.keys(r.files).length){e.next=8;break}throw new Error("No files in archive");case 8:return e.next=10,H(r);case 10:return e.next=12,T(r);case 12:return a=e.sent,e.next=15,D(r,a);case 15:return i=e.sent,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){return ee.apply(this,arguments)},ne=h(),re=Object(s.a)(ne,2),ae=re[0],ie=re[1],ce=function(e){var t=e.children,n=Object(r.useState)(!0),a=Object(s.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)([]),l=Object(s.a)(o,2),u=l[0],f=l[1];Object(r.useEffect)((function(){Object(C.a)(k.a.mark((function e(){var t,n,r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.getItem("library");case 2:t=e.sent,f(t||[]),n=Object(b.a)(t||[]),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=15;break}return a=r.value,e.next=11,E.a.getItem("".concat(a.id,"_cover"));case 11:(i=e.sent)&&(a.cover=URL.createObjectURL(i));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:c(!1);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))()}),[]);var h=Object(r.useCallback)(function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Array.from(t).map((function(e){return te(e)})));case 2:return n=e.sent,r=n.map((function(e){var t=e.items.reduce((function(e,t){return e+t.split(" ").length}),0),n={id:e.metadata.identifier,title:e.metadata.title||"",creator:e.metadata.creator||"",cover:!!e.cover,totalWords:t,totalSentences:e.items.length};return{id:n.id,info:n,items:e.items,cover:e.cover,coverUrl:!!e.cover&&URL.createObjectURL(e.cover)}})),e.next=6,Promise.all(r.map((function(e){var t=e.id,n=e.items;return E.a.setItem(t,n)})));case 6:return console.log(r),a=[].concat(Object(w.a)(u),Object(w.a)(r.map((function(e){return e.info})))),e.next=10,E.a.setItem("library",a);case 10:return e.next=12,Promise.all(r.filter((function(e){return!!e.cover})).map((function(e){var t=e.id,n=e.cover;return E.a.setItem("".concat(t,"_cover"),n)})));case 12:f([].concat(Object(w.a)(u),Object(w.a)(r.map((function(e){var t=e.info,n=e.coverUrl;return Object(d.a)(Object(d.a)({},t),{},{cover:n})})))));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),j=Object(r.useCallback)((function(e){}),[]),v=Object(r.useCallback)(function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.getItem(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return n=e.t0,r=u.find((function(e){return e.id===t})),e.abrupt("return",{info:r,items:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]);return i?null:Object(p.jsx)(ie,{value:{library:u,loadBooks:h,deleteBook:j,getBook:v},children:t})},oe=h(),se=Object(s.a)(oe,2),le=se[0],ue=se[1];var fe=function(e){var t=e.children,n=Object(r.useCallback)((function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{index:0}}),[]),a=Object(r.useCallback)((function(e,t,n){var r={index:0},a=localStorage.getItem(e);return a&&(r=JSON.parse(a)),r[t]=n,localStorage.setItem(e,JSON.stringify(r)),r}),[]);return Object(p.jsx)(ue,{value:{getStats:n,setStats:a},children:t})},de=n(38),be=Object(de.b)({name:"settings",initialState:{fontFamily:"",fontSizeRSVP:42,fontSizeReader:16,fontWidthRSVP:0,fontWidthReader:0},reducers:{setFontFamily:function(e,t){e.fontFamily=t.payload},setFontSizeRSVP:function(e,t){e.fontSizeRSVP=t.payload},setFontSizeReader:function(e,t){e.fontSizeReader=t.payload}}}),he=be.actions,pe=(he.setFontFamily,he.setFontSizeRSVP,he.setFontSizeReader,be.reducer),je=Object(de.a)({reducer:{settings:pe}}),ve=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){Promise.all([document.fonts.load("16px Liberation Mono"),document.fonts.load("48px SFMono")]).then((function(){c(!0)}))}),[]),Object(p.jsx)(u.a,{store:je,children:Object(p.jsx)(l.a,{basename:"readero",children:Object(p.jsx)(g,{children:Object(p.jsx)(fe,{children:Object(p.jsx)(ce,{children:i&&t})})})})})},Oe=n(7),me=n.n(Oe);var xe=function(e){Object(r.useEffect)((function(){document.documentElement.style.backgroundColor=e,document.body.style.backgroundColor=e}),[e])};var ye,ge=function(e){var t=Object(r.useState)({width:0,height:0}),n=Object(s.a)(t,2),a=n[0],i=n[1],c=Object(r.useCallback)((function(){var t=null===e||void 0===e?void 0:e.current;t&&i({width:t.offsetWidth||0,height:t.offsetHeight||0})}),[e]);return Object(r.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;t&&(new ResizeObserver(c).observe(t,{box:"content-box"}),c())}),[]),Object(r.useEffect)((function(){}),[]),a},we=n(54),_e=n(29),ke=n.n(_e),Ce=function(e){var t=e.mode,n=e.rows,a=e.width,i=e.currentIndex,c=e.onCurrentIndexChange,o=e.fontInfo,s=Object(r.useRef)(null),l=Object(r.useRef)(null),u=ge(s).height;Object(r.useEffect)((function(){if(l.current){for(var e=-1,t=0;t<n.length;t++)if(i<n[t].index){e=0===t?0:t-1;break}-1!==e&&l.current.scrollToItem(e,"smart")}}),["view"===t,n]);var d=Object(r.useCallback)((function(e,t){null===c||void 0===c||c(n[e].index+t)}),[c,n]);return"view"!==t?null:Object(p.jsx)("div",{ref:s,className:ke.a.container,style:{fontFamily:o.fontFamily},children:Object(p.jsx)(we.a,{ref:l,height:u,width:a,itemSize:24,itemCount:n.length,className:ke.a.list,overscanCount:20,children:function(e){var t=e.style,r=e.index,a=-1,c=-1;return(!n[r+1]||i<n[r+1].index)&&(a=r,c=i-n[r].index),Object(p.jsx)("div",{className:ke.a.row,style:t,children:n[r].words.map((function(e,t){return Object(p.jsx)("span",{onClick:function(){return d(r,t)},className:me()(Object(f.a)({},ke.a.selected,r===a&&t===c)),children:" "+e+" "},(r+1)*t)}))})}})})},Se=["title","titleId"];function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ne(e,t){var n=e.title,a=e.titleId,i=Pe(e,Se);return r.createElement("svg",Ee({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"play",className:"svg-inline--fa fa-play fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ye||(ye=r.createElement("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})))}var Me,Ie,Re=r.forwardRef(Ne),Be=(n.p,["title","titleId"]);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fe(e,t){var n=e.title,a=e.titleId,i=We(e,Be);return r.createElement("svg",Le({width:27,height:36,viewBox:"0 0 27 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Me||(Me=r.createElement("path",{d:"M7.50006 36H2.50006C0.370593 36 0 34.2723 0 32.1429V3.85715C0 1.72769 0.370593 7.62939e-06 2.50006 7.62939e-06H7.50006C9.62952 7.62939e-06 10.0001 1.72769 10.0001 3.85715V32.1429C10.0001 34.2723 9.62952 36 7.50006 36Z",fill:"black"})),Ie||(Ie=r.createElement("path",{d:"M24.5001 36H19.5001C17.3706 36 17 34.2723 17 32.1429V3.85714C17 1.72768 17.3706 0 19.5001 0H24.5001C26.6295 0 27.0001 1.72768 27.0001 3.85714V32.1429C27.0001 34.2723 26.6295 36 24.5001 36Z",fill:"black"})))}var He,Ve=r.forwardRef(Fe),Te=(n.p,["title","titleId"]);function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ae(e,t){var n=e.title,a=e.titleId,i=De(e,Te);return r.createElement("svg",ze({width:24,height:3,viewBox:"0 0 24 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,He||(He=r.createElement("path",{d:"M22.2857 0H1.71429C0.767679 0 0 0.447812 0 1V2C0 2.55219 0.767679 3 1.71429 3H22.2857C23.2323 3 24 2.55219 24 2V1C24 0.447812 23.2323 0 22.2857 0Z",fill:"black"})))}var Ue,Ze=r.forwardRef(Ae),Ge=(n.p,["title","titleId"]);function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xe(e,t){var n=e.title,a=e.titleId,i=Ke(e,Ge);return r.createElement("svg",Je({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Ue||(Ue=r.createElement("path",{d:"M22.2857 10H13.5V1.71429C13.5 0.767679 13.8038 0 12.8571 0H11.1429C10.1962 0 10.5 0.767679 10.5 1.71429V10H1.71429C0.767679 10 0 10.1962 0 11.1429V12C0 12.9466 0.553393 13 1.5 13H10.5V22C10.5 22.9466 10.1962 24 11.1429 24H12.8571C13.8038 24 13.5 22.9466 13.5 22V13H22.2857C23.2323 13 24 12.9466 24 12V11C24 10.0534 23.2323 10 22.2857 10Z",fill:"black"})))}var Ye,qe,Qe=r.forwardRef(Xe),$e=(n.p,n(20)),et=n.n($e),tt=function(e){var t=e.mode,n=e.hidden,r=e.wordsPerMinute,a=e.onPlayPause,i=e.onSpeedUp,c=e.onSpeedDown;return Object(p.jsxs)("div",{className:me()(et.a.container,Object(f.a)({},et.a.hidden,n)),onClick:function(e){return e.stopPropagation()},children:[Object(p.jsxs)("div",{className:et.a.buttons,children:[Object(p.jsx)("div",{className:et.a.button,onClick:c,children:Object(p.jsx)(Ze,{})}),Object(p.jsx)("div",{className:et.a.button,onClick:a,children:"play"===t?Object(p.jsx)(Ve,{}):Object(p.jsx)(Re,{})}),Object(p.jsx)("div",{className:et.a.button,onClick:i,children:Object(p.jsx)(Qe,{})})]}),Object(p.jsx)("div",{className:et.a.bottom,children:r})]})},nt=Object(r.memo)(tt),rt=function(e,t,n){return Math.max(e,Math.min(t,n))},at=function(e){var t=Math.floor(e/1e3),n="",r=Math.floor(t%31536e3/86400);r&&(n+="".concat(r,"d "));var a=Math.floor(t%86400/3600);a&&(n+="".concat(a,"h "));var i=Math.floor(t%3600/60);i&&(n+="".concat(i,"m "));var c=t%60;return c&&(n+="".concat(c,"s")),""===n?"0":n},it=n(21),ct=n.n(it),ot=function(e){var t,n=e.mode,r=e.hidden,a=e.totalWords,i=e.currentWord,c=x().settings.wordsPerMinute,o=1e3*Math.floor((a-i)/(c/60)),s=100/a*i,l=a-i;return Object(p.jsxs)("div",{className:me()(ct.a.container,(t={},Object(f.a)(t,ct.a.hidden,r),Object(f.a)(t,ct.a.playing,"view"!==n),t)),children:[Object(p.jsx)("div",{className:ct.a.statusBar,style:{"--position":"".concat(rt(0,s,100),"%")}}),Object(p.jsxs)("div",{className:ct.a.bottomBar,children:[Object(p.jsx)("span",{className:ct.a.timeLeft,children:at(o)}),Object(p.jsxs)("span",{className:ct.a.wordsLeft,children:[l," word",l>1?"s":""," left"]})]})]})},st=n(15),lt=n.n(st),ut=["title","titleId"];function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bt(e,t){var n=e.title,a=e.titleId,i=dt(e,ut);return r.createElement("svg",ft({width:11,height:20,viewBox:"0 0 11 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Ye||(Ye=r.createElement("path",{d:"M8.62132 0.424532C9.16548 -0.141511 10.0477 -0.141511 10.5919 0.424532C11.136 0.990575 11.136 1.90831 10.5919 2.47436L2.37868 11.0179C1.83453 11.584 0.952275 11.584 0.408119 11.0179C-0.136036 10.4519 -0.136036 9.53414 0.408119 8.96809L8.62132 0.424532Z",fill:"black"})),qe||(qe=r.createElement("path",{d:"M0.408117 11.0319C-0.136039 10.4659 -0.136039 9.54813 0.408117 8.98208C0.952272 8.41604 1.83452 8.41604 2.37868 8.98208L10.5919 17.5256C11.136 18.0917 11.136 19.0094 10.5919 19.5755C10.0477 20.1415 9.16548 20.1415 8.62132 19.5755L0.408117 11.0319Z",fill:"black"})))}var ht,pt=r.forwardRef(bt),jt=(n.p,["title","titleId"]);function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mt(e,t){var n=e.title,a=e.titleId,i=Ot(e,jt);return r.createElement("svg",vt({width:22,height:13,viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ht||(ht=r.createElement("path",{d:"M6.65137 10.4023H2.48145L1.54492 13H0.191406L3.99219 3.04688H5.14062L8.94824 13H7.60156L6.65137 10.4023ZM2.87793 9.32227H6.26172L4.56641 4.66699L2.87793 9.32227ZM17.5 10.3633H12.877L11.998 13H9.19434L13.958 0.203125H16.4014L21.1914 13H18.3877L17.5 10.3633ZM13.5889 8.22754H16.7881L15.1797 3.4375L13.5889 8.22754Z",fill:"black"})))}var xt,yt,gt=r.forwardRef(mt),wt=(n.p,["title","titleId"]);function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ct(e,t){var n=e.title,a=e.titleId,i=kt(e,wt);return r.createElement("svg",_t({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,xt||(xt=r.createElement("path",{d:"M3.43652 0.1875V2.49023H5.21191V3.74707H3.43652V9.64453C3.43652 10.0254 3.51562 10.3125 3.67383 10.5059C3.83203 10.6934 4.10156 10.7871 4.48242 10.7871C4.66992 10.7871 4.92773 10.752 5.25586 10.6816V12C4.82812 12.1172 4.41211 12.1758 4.00781 12.1758C3.28125 12.1758 2.7334 11.9561 2.36426 11.5166C1.99512 11.0771 1.81055 10.4531 1.81055 9.64453V3.74707H0.0791016V2.49023H1.81055V0.1875H3.43652ZM19.8545 5.96191L21.9639 2.49023H23.8623L20.751 7.19238L23.959 12H22.0781L19.8809 8.44043L17.6836 12H15.7939L19.002 7.19238L15.8906 2.49023H17.7715L19.8545 5.96191ZM27.7998 0.1875V2.49023H29.5752V3.74707H27.7998V9.64453C27.7998 10.0254 27.8789 10.3125 28.0371 10.5059C28.1953 10.6934 28.4648 10.7871 28.8457 10.7871C29.0332 10.7871 29.291 10.752 29.6191 10.6816V12C29.1914 12.1172 28.7754 12.1758 28.3711 12.1758C27.6445 12.1758 27.0967 11.9561 26.7275 11.5166C26.3584 11.0771 26.1738 10.4531 26.1738 9.64453V3.74707H24.4424V2.49023H26.1738V0.1875H27.7998Z",fill:"black"})),yt||(yt=r.createElement("path",{d:"M11.0654 12.1758C9.77637 12.1758 8.72754 11.7539 7.91895 10.9102C7.11035 10.0605 6.70605 8.92676 6.70605 7.50879V7.20996C6.70605 6.2666 6.88477 5.42578 7.24219 4.6875C7.60547 3.94336 8.10938 3.36328 8.75391 2.94727C9.4043 2.52539 10.1074 2.31445 10.8633 2.31445C12.0996 2.31445 13.0605 2.72168 13.7461 3.53613C14.4316 4.35059 14.7744 5.5166 14.7744 7.03418V7.71094H8.33203C8.35547 8.64844 8.62793 9.40723 9.14941 9.9873C9.67676 10.5615 10.3447 10.8486 11.1533 10.8486C11.7275 10.8486 12.2139 10.7314 12.6123 10.4971C13.0107 10.2627 13.3594 9.95215 13.6582 9.56543L14.6514 10.3389C13.8545 11.5635 12.6592 12.1758 11.0654 12.1758ZM10.8633 3.65039C10.207 3.65039 9.65625 3.89062 9.21094 4.37109C8.76562 4.8457 8.49023 5.51367 8.38477 6.375H13.1484V6.25195C13.1016 5.42578 12.8789 4.78711 12.4805 4.33594C12.082 3.87891 11.543 3.65039 10.8633 3.65039Z",fill:"#FF0000"})))}var St,Et,Pt,Nt,Mt=r.forwardRef(Ct),It=(n.p,["title","titleId"]);function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lt(e,t){var n=e.title,a=e.titleId,i=Bt(e,It);return r.createElement("svg",Rt({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,St||(St=r.createElement("rect",{width:18,height:2,rx:1,fill:"black"})),Et||(Et=r.createElement("rect",{x:6,width:2,height:6,rx:1,fill:"black"})),Pt||(Pt=r.createElement("rect",{width:18,height:2,rx:1,transform:"matrix(1 0 0 -1 0 16)",fill:"black"})),Nt||(Nt=r.createElement("rect",{width:2,height:6,rx:1,transform:"matrix(1 0 0 -1 6 16)",fill:"black"})))}var Wt=r.forwardRef(Lt),Ft=(n.p,function(e){var t=e.title,n=e.mode,r=e.hidden,a=e.onBackButton,i=e.onChangeFont,c=e.onSetORP,o=e.onSetORPGuidelines;return Object(p.jsxs)("div",{className:me()(lt.a.container,Object(f.a)({},lt.a.hidden,r)),onClick:function(e){return e.stopPropagation()},children:[Object(p.jsx)("div",{className:me()(lt.a.button,lt.a.backButton),onClick:a,children:Object(p.jsx)(pt,{})}),"view"===n&&Object(p.jsx)("span",{className:lt.a.title,children:t}),Object(p.jsx)("div",{className:lt.a.buttons,children:"view"!==n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:me()(lt.a.button),onClick:i,children:Object(p.jsx)(gt,{})}),Object(p.jsx)("div",{className:me()(lt.a.button),onClick:c,children:Object(p.jsx)(Mt,{})}),Object(p.jsx)("div",{className:me()(lt.a.button),onClick:o,children:Object(p.jsx)(Wt,{})})]})})]})}),Ht=Object(r.memo)(Ft),Vt=n(48),Tt=n(49),zt=Number.MAX_SAFE_INTEGER;var Dt=function(e,t,n){var a=(new Date).getTime(),i=Object(r.useState)(a),c=Object(s.a)(i,2)[1],o=Object(r.useState)(zt),l=Object(s.a)(o,2),u=l[0],f=l[1];Object(r.useEffect)((function(){if(e){var n=(new Date).getTime()+t,r=t?Math.max(n,n):zt;f(r)}else f(zt)}),[e,t]),Object(r.useEffect)((function(){var r;if(t&&e){var i=Math.max(0,Math.floor((a-u)/t));if(i%2!==1)if(a>=u){var o=0;if("function"===typeof n)try{o=n()||0}catch(d){console.error(d)}var s=i*t,l=Math.max(a,u+t+s+o);f(l),r=setTimeout((function(){c((new Date).getTime())}),Math.max(l-(new Date).getTime(),1))}else u<zt&&(r=setTimeout((function(){c((new Date).getTime())}),Math.max(u-(new Date).getTime(),1)));else r=setTimeout((function(){c((new Date).getTime())}),20)}return function(){clearTimeout(r)}}),[a,u,e,t,n])},At=n(30),Ut=n.n(At);var Zt=function(e){return 1===e?1:Math.ceil((e-1)/4)+1},Gt=function(){function e(){Object(Vt.a)(this,e),this.ctx=void 0,this.templateChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz1234567890~!@#$%^&*()_+={}:'\"\\,./<>?",this.chars=new Map,"OffscreenCanvas"in globalThis?this.ctx=new OffscreenCanvas(1,1).getContext("2d"):this.ctx=document.createElement("canvas").getContext("2d"),this.ctx.font="".concat(48,"px SFMono"),this.measureChars()}return Object(Tt.a)(e,[{key:"measure",value:function(e){return this.ctx.measureText(e).width}},{key:"measureChars",value:function(){var e=this;this.chars=new Map(this.templateChars.split("").map((function(t){return[t,e.measure(t)]})))}},{key:"setFont",value:function(){this.measureChars()}},{key:"longestWidth",value:function(){var e=0;return this.chars.forEach((function(t,n){t>e&&(e=t)})),e}},{key:"measureChar",value:function(e){var t=this.chars.get(e);return t||(t=this.measure(e),this.chars.set(e,t)),t}}]),e}();var Jt=function(e){var t,n=e.width,a=e.mode,i=e.text,c=e.initialIndex,o=void 0===c?0:c,l=e.onNextWord,u=x().settings,b=Object(r.useState)({currentWord:"",currentIndex:0,hasNextWord:!1,items:[]}),h=Object(s.a)(b,2),j=h[0],v=j.currentWord,O=j.currentIndex,m=j.hasNextWord,y=h[1];Object(r.useEffect)((function(){if(i){var e=i.split(" "),t=e.length,n={currentWord:"",currentIndex:0,hasNextWord:!1,items:e};if(t>0){var r=rt(0,o||0,t),a=e[r];a&&(n.currentIndex=r,n.currentWord=a,n.hasNextWord=e.length>r)}y(n)}}),[i,l]);var g=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(a);Object(r.useEffect)((function(){if("view"===g&&"view"!==a){var e=i.split(" "),t=e.length,n={currentWord:"",currentIndex:0,hasNextWord:!1,items:e};if(t>0){var r=rt(0,o||0,t),c=e[r];c&&(n.currentIndex=r,n.currentWord=c,n.hasNextWord=e.length>r)}y(n)}}),[g,a]),Object(r.useEffect)((function(){null===l||void 0===l||l(O)}),[l,O]);var w=Object(r.useCallback)((function(){y((function(e){var t=Object(d.a)({},e),n=e.items[e.currentIndex+1];return n?(t.currentWord=n,t.currentIndex++,t.hasNextWord=e.items.length>t.currentIndex):t.hasNextWord=!1,t}))}),[]),_=60/u.wordsPerMinute*1e3;Dt("play"===a&&m,_,w);var k=function(e){var t=e.word,n=e.width,a=Object(r.useRef)(null);Object(r.useEffect)((function(){a.current=new Gt}),[]);var i=Object(r.useState)({maxOffset:0,maxWords:0,orpMiddlePointPx:0}),c=Object(s.a)(i,2),o=c[0],l=o.orpMiddlePointPx,u=o.maxOffset,f=o.maxWords,d=c[1];Object(r.useEffect)((function(){if(a.current){var e=Math.floor((n||0)/a.current.longestWidth())-1,t=Zt(e)*a.current.longestWidth()+a.current.longestWidth()/2,r=Zt(e)+1;d({maxOffset:r,maxWords:e-(r-Zt(e)),orpMiddlePointPx:t})}}),[n]);var b=t.trim().substr(0,f),h=b.replaceAll(/^[^a-z\u0430-\u044f\d]*|[^a-z\u0430-\u044f\d]*$/gi,""),j=Zt(h.length),v="".padStart(u-j,"\xa0");return{chars:[Object(p.jsx)("span",{children:v+b.substr(0,j-1)},1),Object(p.jsx)("span",{children:b[j-1]},2),Object(p.jsx)("span",{children:h.length>2?b.substr(j):""},3)],orpMiddlePointPx:l,maxOffset:u}}({word:v,width:n}),C=k.chars,S=k.orpMiddlePointPx;return"view"===a?null:Object(p.jsx)("div",{className:Ut.a.container,style:{fontFamily:u.fontFamily,fontSize:"".concat(u.fontSize,"px")},children:Object(p.jsx)("div",{className:me()(Ut.a.ORPGuideline,(t={},Object(f.a)(t,Ut.a.disabled,!u.ORPGuideLine),Object(f.a)(t,Ut.a.orp,u.ORP),t)),style:{"--orpPos":"".concat(S,"px"),fontFamily:"SFMono",lineHeight:"82px"},children:C})})},Kt=Object(r.memo)(Jt),Xt=n(31),Yt=n.n(Xt),qt=null;function Qt(e,t){if(qt||(qt=document.createElement("canvas").getContext("2d")),qt){qt.font="".concat(t,"px ").concat(e),qt.textBaseline="top";var n=qt.measureText("B");return(Math.abs(n.actualBoundingBoxLeft)+Math.abs(n.actualBoundingBoxRight))/"B".length}return 0}var $t=function(e,t){var n=Object(r.useState)(Qt(e,t)),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){c(Qt(e,t))}),[e,t]),i};function en(e,t){var n=Object(r.useState)([]),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){c(function(e,t){if(0===t)return[];var n,r=e.split(" "),a=[],i=[],c=0,o=Object(b.a)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(i.push(s),i.join(" ").length>t){var l=i.pop();a.push({index:c,text:i.join(" "),words:i}),c+=i.length,i=[l]}}}catch(u){o.e(u)}finally{o.f()}return a}(e,t))}),[e,t]),i}var tn=function(e){var t=e.info,n=e.text,a=e.onBack,i=x(),c=i.settings,o=i.set,l=Object(r.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],h=Object(r.useState)("view"),j=Object(s.a)(h,2),v=j[0],O=j[1],m=function(e){var t=le(),n=t.getStats,a=t.setStats,i=Object(r.useState)(n(e)),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(r.useCallback)((function(e,t,n){l(a(e,t,n))}),[a]);return Object(r.useEffect)((function(){l(n(e))}),[e]),{stats:o,setStats:u}}(t.id),y=m.stats,g=m.setStats,w=Object(r.useCallback)((function(e){return g(t.id,"index",e)}),[t.id,g]);xe("view"===v?"#FEFEFE":"#edd1b0");var _=Object(r.useRef)(null),k=Object(r.useCallback)((function(){O((function(e){return"play"===e?(_.current&&(clearTimeout(_.current),_.current=null),"pause"):"play"}))}),[]),C=Object(r.useCallback)((function(e){g(t.id,"index",e)}),[t.id,g]),S=Object(r.useRef)(null),E=ge(S).width,P=Object(r.useCallback)((function(){"pause"===v||"play"===v?O("view"):a()}),[v,a]),N=Object(r.useCallback)((function(){k()}),[k]),M=Object(r.useCallback)((function(){return o("ORP",(function(e){return!e}))}),[o]),I=Object(r.useCallback)((function(){return o("ORPGuideLine",(function(e){return!e}))}),[o]),R=Object(r.useCallback)((function(){return k()}),[k]),B=Object(r.useCallback)((function(){return o("wordsPerMinute",(function(e){return e+20}))}),[o]),L=Object(r.useCallback)((function(){return o("wordsPerMinute",(function(e){return e-20}))}),[o]),W=Object(r.useCallback)((function(){"play"===v&&d?b(!1):"play"!==v||d?"play"!==v&&d&&b(!1):b(!0)}),[v,d]),F={fontFamily:"SFMono",fontSize:16,fontWeight:"normal",lineHeight:17},H=$t(F.fontFamily,F.fontSize),V=en(n,Math.floor(E/H));return Object(p.jsxs)("div",{className:me()(Yt.a.container,Object(f.a)({},Yt.a.playing,"view"!==v)),onClick:W,children:[Object(p.jsx)(Ht,{mode:v,hidden:d,title:t.title,onBackButton:P,onChangeFont:N,onSetORP:M,onSetORPGuidelines:I}),Object(p.jsxs)("div",{className:Yt.a.content,children:[Object(p.jsxs)("div",{ref:S,className:Yt.a.reader,children:[Object(p.jsx)(Kt,{width:E,mode:v,text:n,initialIndex:y.index,onNextWord:w}),Object(p.jsx)(Ce,{fontInfo:F,width:E,mode:v,rows:V,currentIndex:y.index,onCurrentIndexChange:C})]}),Object(p.jsx)(nt,{mode:v,hidden:d,wordsPerMinute:c.wordsPerMinute,onPlayPause:R,onSpeedUp:B,onSpeedDown:L}),Object(p.jsx)(ot,{mode:v,hidden:d,totalWords:t.totalWords,currentWord:y.index})]})]})},nn=n(50),rn=n.n(nn);var an=function(){var e=function(e){var t=ae().getBook,n=Object(r.useState)(null),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){t(e).then((function(e){var t=e.info,n=e.items;c({info:t,items:n,text:n.join(" ").split(" ")})}))}),[e,t]),i}(Object(o.h)().id),t=Object(o.f)(),n=Object(r.useCallback)((function(){return t.goBack()}),[t]);return Object(p.jsx)("div",{className:rn.a.container,children:e&&Object(p.jsx)(tn,{info:Object(d.a)(Object(d.a)({},e.info),{},{totalSentences:1e3,totalWords:e.text.length}),text:e.text.join(" "),onBack:n})})},cn=n(16),on=n.n(cn);var sn=function(e){var t,n=e.book,a=e.stats,i=(e.onClick,Object(r.useRef)(null));return Object(p.jsxs)(l.b,{to:"/book/".concat(n.id),className:on.a.container,children:[Object(p.jsx)("div",{className:me()(on.a.book,on.a.nocover,(t={},Object(f.a)(t,on.a.nocover,!n.cover),Object(f.a)(t,on.a.nocover,n.cover),t)),children:(n.cover||!n.cover)&&Object(p.jsxs)("div",{ref:i,className:on.a.bookWrapper,children:[Object(p.jsx)("svg",{children:Object(p.jsx)("foreignObject",{x:"0",y:"0",width:"100%",height:"100%",children:Object(p.jsx)("div",{className:on.a.title,children:n.title})})}),Object(p.jsx)("svg",{children:Object(p.jsx)("foreignObject",{x:"0",y:"50%",width:"100%",height:"100%",children:Object(p.jsx)("div",{className:on.a.author,children:n.creator})})})]})}),Object(p.jsxs)("div",{className:on.a.bottom,children:[Object(p.jsx)("div",{children:"100"!==a.completed?"".concat(a.completed," %"):"FINISHED"}),Object(p.jsx)("div",{children:a.timeToRead})]})]})},ln=n(39),un=n.n(ln);var fn=function(e,t){return Object(r.useCallback)((function(){var e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=function(e){if(!e.target||0===e.target.files.length)return t([]);t(e.target.files)},e.click()}),[t])},dn=n(32),bn=n.n(dn),hn=function(e){var t=e.title,n=e.onBookAdd;return Object(p.jsxs)("div",{className:bn.a.container,children:[Object(p.jsx)("div",{className:bn.a.leftButton,onClick:n,children:Object(p.jsx)(Qe,{})}),Object(p.jsx)("div",{className:bn.a.title,children:t}),Object(p.jsx)("div",{className:bn.a.rightButton,children:"Edit"})]})},pn=function(){xe("#FEFEFE");var e=ae(),t=e.library,n=e.loadBooks,a=fn({multiple:!0},function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i=Object(r.useCallback)((function(e){}),[]);return Object(p.jsxs)("div",{className:un.a.container,children:[Object(p.jsx)(hn,{title:"Library",onBookAdd:a}),Object(p.jsx)("div",{className:un.a.listContainer,children:Object(p.jsx)("div",{className:un.a.list,children:t.map((function(e){return Object(p.jsx)(sn,{book:e,stats:{completed:"100",timeToRead:"1"},onClick:i},e.id)}))})})]})},jn=n(37),vn=n(33),On=n.n(vn),mn=function(e){var t=e.title;return Object(p.jsxs)("div",{className:On.a.container,children:[Object(p.jsx)("div",{className:On.a.leftButton}),Object(p.jsx)("div",{className:On.a.title,children:t}),Object(p.jsx)("div",{className:On.a.rightButton})]})},xn=n(51),yn=n.n(xn),gn=function(e){return Object(jn.a)(e),Object(p.jsxs)("div",{className:yn.a.container,children:[Object(p.jsx)(mn,{title:"Settings"}),Object(p.jsx)("div",{})]})},wn=n(26),_n=n.n(wn),kn=function(e){Object(jn.a)(e);var t=Object(o.g)();return Object(p.jsxs)("div",{className:_n.a.container,children:[Object(p.jsx)(l.b,{to:"/",className:me()(_n.a.item,Object(f.a)({},_n.a.selected,"/"===t.pathname)),children:"Library"}),Object(p.jsx)(l.b,{to:"/settings",className:me()(_n.a.item,Object(f.a)({},_n.a.selected,"/settings"===t.pathname)),children:"Settings"})]})},Cn=n(52),Sn=n.n(Cn);var En=function(){return Object(p.jsx)("div",{className:Sn.a.container,children:Object(p.jsx)(ve,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/book/:id",exact:!0,component:an}),Object(p.jsxs)(o.a,{path:"/",children:[Object(p.jsx)(o.a,{path:"/",exact:!0,component:pn}),Object(p.jsx)(o.a,{path:"/settings",exact:!0,component:gn}),Object(p.jsx)(kn,{})]})]})})})},Pn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Mn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};n(80);c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(En,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/readero",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/readero","/service-worker.js");Pn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Nn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Nn(t,e)}))}}(),Mn()}},[[81,1,2]]]);
//# sourceMappingURL=main.e506561d.chunk.js.map