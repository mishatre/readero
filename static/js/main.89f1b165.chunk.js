(this.webpackJsonpreadero=this.webpackJsonpreadero||[]).push([[0],{10:function(e,t,n){e.exports={container:"styles_container__3ID8i",settings:"styles_settings__2Mzkx",category:"styles_category__1KCl6",categoryTitle:"styles_categoryTitle__1ogBh",item:"styles_item__eHmu6",range:"styles_range__30lC1",value:"styles_value__sfwqz",incButtons:"styles_incButtons__GiVF9",button:"styles_button__ogfoz",checkbox:"styles_checkbox__38TuW",active:"styles_active__1cZ9e"}},17:function(e,t,n){e.exports={container:"styles_container__2UpUU",hidden:"styles_hidden__17XBo",hide:"styles_hide__3ehqe",title:"styles_title__2b9I9",button:"styles_button__3R9Ip",buttons:"styles_buttons__3FFPX"}},23:function(e,t,n){e.exports={container:"styles_container__2hUzD",hidden:"styles_hidden__zQ1_1",hide:"styles_hide__2nODP",buttons:"styles_buttons__2Kvdy",button:"styles_button__1fkmD",bottom:"styles_bottom__2RW1u"}},24:function(e,t,n){e.exports={container:"styles_container__3Avdh",hidden:"styles_hidden__9wFJW",hide:"styles_hide__37PWp",playing:"styles_playing__2vSC4",statusBar:"styles_statusBar__2wAgx",bottomBar:"styles_bottomBar__fCPqx",wordsLeft:"styles_wordsLeft__3Esj-",timeLeft:"styles_timeLeft__2SXD_"}},25:function(e,t,n){e.exports={container:"styles_container__3cdMj",title:"styles_title__1ckRm",leftButton:"styles_leftButton__327f6",selectAllButton:"styles_selectAllButton__3snlD",rightButton:"styles_rightButton__u7hwQ"}},26:function(e,t,n){e.exports={container:"styles_container__1bwPe",previous:"styles_previous__2TK4k",show:"styles_show__2NN0_",ORPGuideline:"styles_ORPGuideline__3GhQ7",disabled:"styles_disabled__3E1-7",orp:"styles_orp__1x73h"}},27:function(e,t,n){e.exports={container:"styles_container__1cLCO",selectable:"styles_selectable__I-DF2",wrapper:"styles_wrapper__3ZO0w",book:"styles_book__2HwNq",bottom:"styles_bottom__1Gxu6",selected:"styles_selected__3Vo7K"}},32:function(e,t,n){e.exports={container:"styles_container__1aaZW",list:"styles_list__3TU7g",row:"styles_row__2SAeP",selected:"styles_selected__2ydt1"}},34:function(e,t,n){e.exports={container:"styles_container__rM1m6",item:"styles_item__1wJVx",selected:"styles_selected__2qHDg"}},36:function(e,t,n){e.exports={container:"styles_container__3-DWs",content:"styles_content__2qNqM",reader:"styles_reader___TVRN",playing:"styles_playing__1My9Q"}},37:function(e,t,n){e.exports={container:"styles_container__3CpXc",wrapper:"styles_wrapper__Xq_T_",title:"styles_title__3ZIHZ",creator:"styles_creator__2KQlD"}},38:function(e,t,n){e.exports={container:"styles_container__3JM09",title:"styles_title__2LbXz",leftButton:"styles_leftButton__3xlRn",rightButton:"styles_rightButton__1uNRY"}},40:function(e,t,n){e.exports={container:"styles_container__1oZHV",listContainer:"styles_listContainer__1i-FL",list:"styles_list__JYuW6"}},41:function(e,t,n){e.exports={container:"styles_container__37QQS",active:"styles_active__2ep3A",item:"styles_item__1iVVY"}},51:function(e,t,n){e.exports={container:"styles_container__1x67Q"}},55:function(e,t,n){e.exports={container:"styles_container__EhViz"}},56:function(e,t,n){e.exports={container:"styles_container__1YyHF"}},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),i=n.n(c),o=n(8),l=n(88),s=n(87),u=n(2),f=n(21),d=n(3),b=n(22),h=n(13);function v(){var e=Object(r.createContext)(void 0);return[function(){var t=Object(r.useContext)(e);if(void 0===t)throw new Error("useCtx must be inside a Provider with a value");return t},e.Provider]}var p=null;var j=function(e,t){return Object(r.useMemo)((function(){return e&&t?function(e,t){if(p||(p=document.createElement("canvas").getContext("2d")),p){p.font="".concat(t,"px ").concat(e),p.textBaseline="top";var n=p.measureText("B");return(Math.abs(n.actualBoundingBoxLeft)+Math.abs(n.actualBoundingBoxRight))/"B".length}return 0}(e,t):0}),[e,t])},O=n(1),m=["fontFamilyRSVP","fontFamilyReader","fontSizeRSVP","fontSizeReader","wordsPerMinute","ORP","ORPGuideLine","slowDownOnLongWords","showPreviousOnPause"],x={fontFamilyRSVP:"SFMono",fontFamilyReader:"Liberation Mono",fontSizeRSVP:32,fontSizeReader:16,wordsPerMinute:320,ORP:!0,ORPGuideLine:!0,slowDownOnLongWords:!0,showPreviousOnPause:!0},y=v(),g=Object(u.a)(y,2),w=g[0],_=g[1],C=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(u.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){var e,t=x,n=Object(h.a)(m);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=localStorage.getItem(r);a&&(t[r]=JSON.parse(a).value)}}catch(c){n.e(c)}finally{n.f()}i(t)}),[]);var o=Object(r.useCallback)((function(e,t){i((function(n){if(!n)return null;var r="function"===typeof t?t(n[e]):t;return localStorage.setItem(e,JSON.stringify({value:r})),Object(b.a)(Object(b.a)({},n),{},Object(d.a)({},e,r))}))}),[]),l=j(null===c||void 0===c?void 0:c.fontFamilyReader,null===c||void 0===c?void 0:c.fontSizeReader);if(!c)return null;var s={fontFamily:c.fontFamilyReader,fontSize:c.fontSizeReader,fontWeight:"normal",lineHeight:17},f={fontFamily:c.fontFamilyRSVP,fontSize:c.fontSizeRSVP,fontWeight:"normal",lineHeight:17};return Object(O.jsx)(_,{value:{settings:c,readerFontInfo:s,rsvpFontInfo:f,fontWidth:l,set:o},children:t})},k=n(19),E=n(6),S=n.n(E),P=n(11),N=n(16),I=n.n(N),M=n(49),R=n.n(M),B=n(44),L=n.n(B),H=n(50),V=n.n(H);function W(e,t){if(e.files[t])return e.files[t];var n=e.filter((function(e,n){return n.name.toLowerCase()===t.toLowerCase()}));return n.length>0?n[0]:null}function z(e){return F.apply(this,arguments)}function F(){return(F=Object(P.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=W(t,"mimetype")){e.next=3;break}throw new Error("No mimetype file in archive");case 3:return e.next=5,n.async("text");case 5:if("application/epub+zip"===e.sent.toLowerCase().trim()){e.next=8;break}throw new Error("Unsupported mime type");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(P.a)(S.a.mark((function e(t){var n,r,a,c,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=W(t,"meta-inf/container.xml")){e.next=3;break}throw new Error("No container file in archive");case 3:return e.next=5,n.async("text");case 5:if(r=e.sent,(a=L.a.parse(r,{ignoreAttributes:!1})).container.rootfiles&&a.container.rootfiles.rootfile){e.next=9;break}throw new Error("No rootfiles found");case 9:if("application/oebps-package+xml"===(c=a.container.rootfiles.rootfile)["@_media-type"]){e.next=12;break}throw new Error("Rootfile in unknown format");case 12:if(i=c["@_full-path"]){e.next=15;break}throw new Error("Empty rootfile");case 15:if(o=W(t,i)){e.next=18;break}throw new Error("Rootfile not found from archive");case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return A.apply(this,arguments)}function A(){return(A=Object(P.a)(S.a.mark((function e(t,n){var r,a,c,i,o,l,s,u,f,d,b,h;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.async("text");case 2:return r=e.sent,a=L.a.parse(r,{attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"value",ignoreAttributes:!1,ignoreNameSpace:!0,parseAttributeValue:!0}),c=U(a),i=G(a),o=J(a),l=q(a),s=X(o,i),e.next=11,$(t,n,s);case 11:return u=e.sent,f=u.text,d=u.words,b=Q(o,l),e.next=17,K(t,n,b);case 17:return h=e.sent,e.abrupt("return",{cover:h,metadata:c,text:f,words:d});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){for(var t={},n=e.package.attr["unique-identifier"],r=0,a=Object.entries(e.package.metadata);r<a.length;r++){var c=a[r];if(c){var i=Object(u.a)(c,2),o=i[0],l=i[1];if(l){var s=null;if("identifier"===o){if(s=l,Array.isArray(l)?(s=l.find((function(e){return e.attr.id===n})))&&(s=s.value):s=l.value,!s)throw new Error("Cannot determine book unique identifier");s=String(s).replace("urn:uuid:","").toUpperCase().trim()}else s="object"===typeof l?l.value:l;t[o]=s}}}return t}function G(e){var t={items:[]};if("id"in e.package.spine.attr&&(t.id=e.package.spine.attr.id),"page-progression-direction"in e.package.spine.attr&&(t.direction=e.package.spine.attr["page-progression-direction"]),"toc"in e.package.spine.attr&&(t.toc=e.package.spine.attr.toc),Array.isArray(e.package.spine.itemref)){var n,r=Object(h.a)(e.package.spine.itemref);try{for(r.s();!(n=r.n()).done;){var a,c=n.value;null===(a=t.items)||void 0===a||a.push(c.attr.idref)}}catch(o){r.e(o)}finally{r.f()}}else{var i;null===(i=t.items)||void 0===i||i.push(e.package.spine.itemref.attr.idref)}return t}function J(e){var t,n=[],r=Object(h.a)(e.package.manifest.item);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.attr)}}catch(c){r.e(c)}finally{r.f()}return n}function q(e){if(e.package.guide&&"string"!==typeof e.package.guide)return e.package.guide.reference.attr}function Q(e,t){if(t&&"cover"===t.type)return t;var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id.includes("cover.jpg"))return a}}catch(c){r.e(c)}finally{r.f()}}function X(e,t){var n,r=[],a=Object(h.a)(t.items);try{var c=function(){var t=n.value,a=e.find((function(e){return e.id===t}));a&&"application/xhtml+xml"===a["media-type"]&&r.push(a)};for(a.s();!(n=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return r}function K(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(P.a)(S.a.mark((function e(t,n,r){var a,c,i,o,l,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return a=null===n||void 0===n?void 0:n.name.split("/"),c=Object(u.a)(a,1),i=c[0],o=[i,r.href].join("/"),e.next=6,t.files[o].async("blob");case 6:if(l=e.sent,s=r["media-type"]||V.a.lookup(r.href)){e.next=10;break}return e.abrupt("return",l);case 10:return e.abrupt("return",l.slice(0,l.size,s));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(P.a)(S.a.mark((function e(t,n,r){var a,c,i,o,l,s,f,d,b,v,p,j,O,m,x,y,g,w;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===n||void 0===n?void 0:n.name.split("/"),c=Object(u.a)(a,1),i=c[0],o=[],l=Object(h.a)(r);try{for(l.s();!(s=l.n()).done;)f=s.value.href,d=[i,f].join("/"),o.push(t.files[d].async("text"))}catch(_){l.e(_)}finally{l.f()}return b=new DOMParser,e.next=7,Promise.all(o);case 7:v=e.sent,p=v.map((function(e){return""+b.parseFromString(e,"application/xhtml+xml").body.textContent})),j=[],O=[],m=Object(h.a)(p);try{for(m.s();!(x=m.n()).done;)g=x.value,(null===(w=null===g||void 0===g||null===(y=g.replaceAll("\n"," "))||void 0===y?void 0:y.split(" ").filter((function(e){return""!==e})))||void 0===w?void 0:w.length)>0&&(j.push.apply(j,Object(k.a)(w)),O.push(w.join(" ")))}catch(_){m.e(_)}finally{m.f()}return e.abrupt("return",{text:O.join(" "),words:j});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(P.a)(S.a.mark((function e(t){var n,r,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/epub+zip"===t.type){e.next=2;break}throw new Error("Not an Epub file");case 2:return n=new R.a,e.next=5,n.loadAsync(t);case 5:if(r=e.sent,0!==Object.keys(r.files).length){e.next=8;break}throw new Error("No files in archive");case 8:return e.next=10,z(r);case 10:return e.next=12,D(r);case 12:return a=e.sent,e.next=15,T(r,a);case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){return te.apply(this,arguments)},re=v(),ae=Object(u.a)(re,2),ce=ae[0],ie=ae[1],oe=function(e){var t=e.children,n=Object(r.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),s=l[0],f=l[1];Object(r.useEffect)((function(){Object(P.a)(S.a.mark((function e(){var t,n,r,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.getItem("library");case 2:t=e.sent,f(t||[]),n=Object(h.a)(t||[]),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=15;break}return a=r.value,e.next=11,I.a.getItem("".concat(a.id,"_cover"));case 11:(c=e.sent)&&(a.cover=URL.createObjectURL(c));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:i(!1);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))()}),[]);var d=Object(r.useCallback)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n,r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Array.from(t).map((function(e){return ne(e)})));case 2:return n=e.sent,r=n.filter((function(e){return!s.find((function(t){return t.id===e.metadata.identifier}))})).map((function(e){var t={id:e.metadata.identifier,title:e.metadata.title||"",creator:e.metadata.creator||"",cover:!!e.cover,totalWords:e.words.length};return{id:t.id,info:t,words:e.words,cover:e.cover,coverUrl:!!e.cover&&URL.createObjectURL(e.cover)}})),e.next=6,Promise.all(r.map((function(e){var t=e.id,n=e.words;return I.a.setItem(t,n)})));case 6:return a=[].concat(Object(k.a)(s),Object(k.a)(r.map((function(e){return e.info})))),e.next=9,I.a.setItem("library",a);case 9:return e.next=11,Promise.all(r.filter((function(e){return!!e.cover})).map((function(e){var t=e.id,n=e.cover;return I.a.setItem("".concat(t,"_cover"),n)})));case 11:f([].concat(Object(k.a)(s),Object(k.a)(r.map((function(e){var t=e.info,n=e.coverUrl;return Object(b.a)(Object(b.a)({},t),{},{cover:n})})))));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),v=Object(r.useCallback)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n,r,a,c,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=[],a=Object(h.a)(s);try{for(a.s();!(c=a.n()).done;)i=c.value,t.includes(i.id)?(i.cover&&r.push(I.a.removeItem("".concat(i.id,"_cover"))),r.push(I.a.removeItem(i.id)),localStorage.removeItem(i.id)):n.push(i)}catch(o){a.e(o)}finally{a.f()}return r.push(I.a.setItem("library",n)),e.next=7,Promise.all(r);case 7:f((function(e){return e.filter((function(e){return!t.includes(e.id)}))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),p=Object(r.useCallback)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.getItem(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return n=e.t0,r=s.find((function(e){return e.id===t})),e.abrupt("return",{info:r,words:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]);return c?null:Object(O.jsx)(ie,{value:{library:s,loadBooks:d,deleteBooks:v,getBook:p},children:t})},le=v(),se=Object(u.a)(le,2),ue=se[0],fe=se[1];var de=function(e){var t=e.children,n=Object(r.useCallback)((function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{index:0}}),[]),a=Object(r.useCallback)((function(e,t,n){var r={index:0},a=localStorage.getItem(e);return a&&(r=JSON.parse(a)),r[t]=n,localStorage.setItem(e,JSON.stringify(r)),r}),[]);return Object(O.jsx)(fe,{value:{getStats:n,setStats:a},children:t})},be=n(30),he=n.p+"static/media/logo.0f006855.png",ve=n(51),pe=n.n(ve),je=function(e){return Object(be.a)(e),Object(O.jsx)("div",{className:pe.a.container,style:{backgroundImage:"url(".concat(he,")")}})},Oe=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){Promise.all([document.fonts.load("16px Liberation Mono"),document.fonts.load("32px SFMono")]).then((function(){i(!0)}))}),[]),Object(O.jsx)(f.a,{children:Object(O.jsx)(C,{children:Object(O.jsx)(de,{children:Object(O.jsxs)(oe,{children:[!c&&Object(O.jsx)(je,{}),c&&t]})})})})},me=n(4),xe=n.n(me);var ye=function(e){Object(r.useEffect)((function(){document.documentElement.style.backgroundColor=e,document.body.style.backgroundColor=e}),[e])};var ge,we=function(e){var t=Object(r.useState)({width:0,height:0}),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useCallback)((function(){var t=null===e||void 0===e?void 0:e.current;t&&c({width:t.offsetWidth||0,height:t.offsetHeight||0})}),[e]);return Object(r.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;t&&(new ResizeObserver(i).observe(t,{box:"content-box"}),i())}),[]),Object(r.useEffect)((function(){}),[]),a},_e=n(57),Ce=v(),ke=Object(u.a)(Ce,2),Ee=ke[0],Se=ke[1],Pe=n(32),Ne=n.n(Pe),Ie=function(e){var t=e.style,n=e.index,r=Ee(),a=r.words,c=r.rows,i=r.currentIndex,o=r.onRowClick,l=-1,s=-1;(!c[n+1]||i<c[n+1].index)&&(l=n,s=i-c[n].index);var u=a.slice(c[n].startIndex,c[n].endIndex);return Object(O.jsx)("div",{className:Ne.a.row,style:t,children:u.map((function(e,t){return Object(O.jsx)("span",{onClick:function(){return o(n,t)},className:xe()(Object(d.a)({},Ne.a.selected,n===l&&t===s)),children:" "+e+" "},(n+1)*t)}))})},Me=function(e){var t=e.mode,n=e.words,a=e.rows,c=e.width,i=e.currentIndex,o=e.onCurrentIndexChange,l=e.fontInfo,s=Object(r.useRef)(null),u=Object(r.useRef)(null),f=we(s).height;Object(r.useEffect)((function(){if(u.current){for(var e=-1,t=0;t<a.length;t++)if(i<a[t].index){e=0===t?0:t-1;break}-1!==e&&u.current.scrollToItem(e,"smart")}}),["view"===t,a]);var d=Object(r.useCallback)((function(e,t){null===o||void 0===o||o(a[e].index+t)}),[o,a]),b=Object(r.useMemo)((function(){return{words:n,rows:a,currentIndex:i,onRowClick:d}}),[n,a,i,d]);return"view"!==t?null:Object(O.jsx)("div",{ref:s,className:Ne.a.container,style:{fontFamily:l.fontFamily,fontSize:l.fontSize},children:Object(O.jsx)(Se,{value:b,children:Object(O.jsx)(_e.a,{ref:u,height:f,width:c,itemSize:24,itemCount:a.length,className:Ne.a.list,overscanCount:20,children:Ie})})})},Re=["title","titleId"];function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function He(e,t){var n=e.title,a=e.titleId,c=Le(e,Re);return r.createElement("svg",Be({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"play",className:"svg-inline--fa fa-play fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,ge||(ge=r.createElement("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})))}var Ve,We,ze=r.forwardRef(He),Fe=(n.p,["title","titleId"]);function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e,t){var n=e.title,a=e.titleId,c=Ze(e,Fe);return r.createElement("svg",De({width:27,height:36,viewBox:"0 0 27 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Ve||(Ve=r.createElement("path",{d:"M7.50006 36H2.50006C0.370593 36 0 34.2723 0 32.1429V3.85715C0 1.72769 0.370593 7.62939e-06 2.50006 7.62939e-06H7.50006C9.62952 7.62939e-06 10.0001 1.72769 10.0001 3.85715V32.1429C10.0001 34.2723 9.62952 36 7.50006 36Z",fill:"black"})),We||(We=r.createElement("path",{d:"M24.5001 36H19.5001C17.3706 36 17 34.2723 17 32.1429V3.85714C17 1.72768 17.3706 0 19.5001 0H24.5001C26.6295 0 27.0001 1.72768 27.0001 3.85714V32.1429C27.0001 34.2723 26.6295 36 24.5001 36Z",fill:"black"})))}var Ae,Ue=r.forwardRef(Te),Ge=(n.p,["title","titleId"]);function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qe(e,t){var n=e.title,a=e.titleId,c=qe(e,Ge);return r.createElement("svg",Je({width:24,height:3,viewBox:"0 0 24 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Ae||(Ae=r.createElement("path",{d:"M22.2857 0H1.71429C0.767679 0 0 0.447812 0 1V2C0 2.55219 0.767679 3 1.71429 3H22.2857C23.2323 3 24 2.55219 24 2V1C24 0.447812 23.2323 0 22.2857 0Z",fill:"black"})))}var Xe,Ke=r.forwardRef(Qe),Ye=(n.p,["title","titleId"]);function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tt(e,t){var n=e.title,a=e.titleId,c=et(e,Ye);return r.createElement("svg",$e({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Xe||(Xe=r.createElement("path",{d:"M9 0C9.55225 0 10 0.447693 10 1V8H17C17.5522 8 18 8.44769 18 9C18 9.55231 17.5522 10 17 10H10V17C10 17.5523 9.55225 18 9 18C8.44775 18 8 17.5523 8 17V10H1C0.447754 10 0 9.55231 0 9C0 8.44769 0.447754 8 1 8H8V1C8 0.447693 8.44775 0 9 0Z",fill:"black"})))}var nt,rt,at=r.forwardRef(tt),ct=(n.p,n(23)),it=n.n(ct),ot=function(e){var t=e.mode,n=e.hidden,r=e.wordsPerMinute,a=e.onPlayPause,c=e.onSpeedUp,i=e.onSpeedDown;return Object(O.jsxs)("div",{className:xe()(it.a.container,Object(d.a)({},it.a.hidden,n)),onClick:function(e){return e.stopPropagation()},children:[Object(O.jsxs)("div",{className:it.a.buttons,children:[Object(O.jsx)("div",{className:it.a.button,onClick:i,children:Object(O.jsx)(Ke,{})}),Object(O.jsx)("div",{className:it.a.button,onClick:a,children:"play"===t?Object(O.jsx)(Ue,{}):Object(O.jsx)(ze,{})}),Object(O.jsx)("div",{className:it.a.button,onClick:c,children:Object(O.jsx)(at,{})})]}),Object(O.jsx)("div",{className:it.a.bottom,children:r})]})},lt=Object(r.memo)(ot),st=function(e,t,n){return Math.max(e,Math.min(t,n))},ut=function(e){var t=Math.floor(e/1e3),n="",r=Math.floor(t%31536e3/86400);r&&(n+="".concat(r,"d "));var a=Math.floor(t%86400/3600);a&&(n+="".concat(a,"h "));var c=Math.floor(t%3600/60);c&&(n+="".concat(c,"m "));var i=t%60;return i&&(n+="".concat(i,"s")),""===n?"0":n},ft=n(24),dt=n.n(ft),bt=function(e){var t,n=e.mode,r=e.hidden,a=e.totalWords,c=e.currentWord,i=w().settings.wordsPerMinute,o=1e3*Math.floor((a-c)/(i/60)),l=100/a*c,s=a-c;return Object(O.jsxs)("div",{className:xe()(dt.a.container,(t={},Object(d.a)(t,dt.a.hidden,r),Object(d.a)(t,dt.a.playing,"view"!==n),t)),children:[Object(O.jsx)("div",{className:dt.a.statusBar,style:{"--position":"".concat(st(0,l,100),"%")}}),Object(O.jsxs)("div",{className:dt.a.bottomBar,children:[Object(O.jsx)("span",{className:dt.a.timeLeft,children:ut(o)}),Object(O.jsxs)("span",{className:dt.a.wordsLeft,children:[s," word",s>1?"s":""," left"]})]})]})},ht=n(17),vt=n.n(ht),pt=["title","titleId"];function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mt(e,t){var n=e.title,a=e.titleId,c=Ot(e,pt);return r.createElement("svg",jt({width:11,height:20,viewBox:"0 0 11 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,nt||(nt=r.createElement("path",{d:"M8.62132 0.424532C9.16548 -0.141511 10.0477 -0.141511 10.5919 0.424532C11.136 0.990575 11.136 1.90831 10.5919 2.47436L2.37868 11.0179C1.83453 11.584 0.952275 11.584 0.408119 11.0179C-0.136036 10.4519 -0.136036 9.53414 0.408119 8.96809L8.62132 0.424532Z",fill:"black"})),rt||(rt=r.createElement("path",{d:"M0.408117 11.0319C-0.136039 10.4659 -0.136039 9.54813 0.408117 8.98208C0.952272 8.41604 1.83452 8.41604 2.37868 8.98208L10.5919 17.5256C11.136 18.0917 11.136 19.0094 10.5919 19.5755C10.0477 20.1415 9.16548 20.1415 8.62132 19.5755L0.408117 11.0319Z",fill:"black"})))}var xt,yt=r.forwardRef(mt),gt=(n.p,["title","titleId"]);function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ct(e,t){var n=e.title,a=e.titleId,c=_t(e,gt);return r.createElement("svg",wt({width:22,height:13,viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,xt||(xt=r.createElement("path",{d:"M6.65137 10.4023H2.48145L1.54492 13H0.191406L3.99219 3.04688H5.14062L8.94824 13H7.60156L6.65137 10.4023ZM2.87793 9.32227H6.26172L4.56641 4.66699L2.87793 9.32227ZM17.5 10.3633H12.877L11.998 13H9.19434L13.958 0.203125H16.4014L21.1914 13H18.3877L17.5 10.3633ZM13.5889 8.22754H16.7881L15.1797 3.4375L13.5889 8.22754Z",fill:"black"})))}var kt,Et,St=r.forwardRef(Ct),Pt=(n.p,["title","titleId"]);function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mt(e,t){var n=e.title,a=e.titleId,c=It(e,Pt);return r.createElement("svg",Nt({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,kt||(kt=r.createElement("path",{d:"M3.43652 0.1875V2.49023H5.21191V3.74707H3.43652V9.64453C3.43652 10.0254 3.51562 10.3125 3.67383 10.5059C3.83203 10.6934 4.10156 10.7871 4.48242 10.7871C4.66992 10.7871 4.92773 10.752 5.25586 10.6816V12C4.82812 12.1172 4.41211 12.1758 4.00781 12.1758C3.28125 12.1758 2.7334 11.9561 2.36426 11.5166C1.99512 11.0771 1.81055 10.4531 1.81055 9.64453V3.74707H0.0791016V2.49023H1.81055V0.1875H3.43652ZM19.8545 5.96191L21.9639 2.49023H23.8623L20.751 7.19238L23.959 12H22.0781L19.8809 8.44043L17.6836 12H15.7939L19.002 7.19238L15.8906 2.49023H17.7715L19.8545 5.96191ZM27.7998 0.1875V2.49023H29.5752V3.74707H27.7998V9.64453C27.7998 10.0254 27.8789 10.3125 28.0371 10.5059C28.1953 10.6934 28.4648 10.7871 28.8457 10.7871C29.0332 10.7871 29.291 10.752 29.6191 10.6816V12C29.1914 12.1172 28.7754 12.1758 28.3711 12.1758C27.6445 12.1758 27.0967 11.9561 26.7275 11.5166C26.3584 11.0771 26.1738 10.4531 26.1738 9.64453V3.74707H24.4424V2.49023H26.1738V0.1875H27.7998Z",fill:"black"})),Et||(Et=r.createElement("path",{d:"M11.0654 12.1758C9.77637 12.1758 8.72754 11.7539 7.91895 10.9102C7.11035 10.0605 6.70605 8.92676 6.70605 7.50879V7.20996C6.70605 6.2666 6.88477 5.42578 7.24219 4.6875C7.60547 3.94336 8.10938 3.36328 8.75391 2.94727C9.4043 2.52539 10.1074 2.31445 10.8633 2.31445C12.0996 2.31445 13.0605 2.72168 13.7461 3.53613C14.4316 4.35059 14.7744 5.5166 14.7744 7.03418V7.71094H8.33203C8.35547 8.64844 8.62793 9.40723 9.14941 9.9873C9.67676 10.5615 10.3447 10.8486 11.1533 10.8486C11.7275 10.8486 12.2139 10.7314 12.6123 10.4971C13.0107 10.2627 13.3594 9.95215 13.6582 9.56543L14.6514 10.3389C13.8545 11.5635 12.6592 12.1758 11.0654 12.1758ZM10.8633 3.65039C10.207 3.65039 9.65625 3.89062 9.21094 4.37109C8.76562 4.8457 8.49023 5.51367 8.38477 6.375H13.1484V6.25195C13.1016 5.42578 12.8789 4.78711 12.4805 4.33594C12.082 3.87891 11.543 3.65039 10.8633 3.65039Z",fill:"#FF0000"})))}var Rt,Bt,Lt,Ht,Vt=r.forwardRef(Mt),Wt=(n.p,["title","titleId"]);function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dt(e,t){var n=e.title,a=e.titleId,c=Ft(e,Wt);return r.createElement("svg",zt({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Rt||(Rt=r.createElement("rect",{width:18,height:2,rx:1,fill:"black"})),Bt||(Bt=r.createElement("rect",{x:6,width:2,height:6,rx:1,fill:"black"})),Lt||(Lt=r.createElement("rect",{width:18,height:2,rx:1,transform:"matrix(1 0 0 -1 0 16)",fill:"black"})),Ht||(Ht=r.createElement("rect",{width:2,height:6,rx:1,transform:"matrix(1 0 0 -1 6 16)",fill:"black"})))}var Zt=r.forwardRef(Dt),Tt=(n.p,function(e){var t=e.title,n=e.mode,r=e.hidden,a=e.onBackButton,c=e.onChangeFont,i=e.onSetORP,o=e.onSetORPGuidelines;return Object(O.jsxs)("div",{className:xe()(vt.a.container,Object(d.a)({},vt.a.hidden,r)),onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("div",{className:xe()(vt.a.button,vt.a.backButton),onClick:a,children:Object(O.jsx)(yt,{})}),"view"===n&&Object(O.jsx)("span",{className:vt.a.title,children:t}),Object(O.jsx)("div",{className:vt.a.buttons,children:"view"!==n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:xe()(vt.a.button),onClick:c,children:Object(O.jsx)(St,{})}),Object(O.jsx)("div",{className:xe()(vt.a.button),onClick:i,children:Object(O.jsx)(Vt,{})}),Object(O.jsx)("div",{className:xe()(vt.a.button),onClick:o,children:Object(O.jsx)(Zt,{})})]})})]})}),At=Object(r.memo)(Tt),Ut=n(53),Gt=n(54),Jt=Number.MAX_SAFE_INTEGER;var qt=function(e,t,n){var a=(new Date).getTime(),c=Object(r.useState)(a),i=Object(u.a)(c,2)[1],o=Object(r.useState)(Jt),l=Object(u.a)(o,2),s=l[0],f=l[1];Object(r.useEffect)((function(){if(e){var n=(new Date).getTime()+t,r=t?Math.max(n,n):Jt;f(r)}else f(Jt)}),[e,t]),Object(r.useEffect)((function(){var r;if(t&&e){var c=Math.max(0,Math.floor((a-s)/t));if(c%2!==1)if(a>=s){var o=0;if("function"===typeof n)try{o=n()||0}catch(d){console.error(d)}var l=c*t,u=Math.max(a,s+t+l+o);f(u),r=setTimeout((function(){i((new Date).getTime())}),Math.max(u-(new Date).getTime(),1))}else s<Jt&&(r=setTimeout((function(){i((new Date).getTime())}),Math.max(s-(new Date).getTime(),1)));else r=setTimeout((function(){i((new Date).getTime())}),20)}return function(){clearTimeout(r)}}),[a,s,e,t,n])},Qt=n(26),Xt=n.n(Qt);var Kt=function(e){return 1===e?1:Math.ceil((e-1)/4)+1},Yt=function(){function e(t){Object(Ut.a)(this,e),this.ctx=void 0,this.templateChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz1234567890~!@#$%^&*()_+={}:'\"\\,./<>?",this.chars=new Map,"OffscreenCanvas"in globalThis?this.ctx=new OffscreenCanvas(1,1).getContext("2d"):this.ctx=document.createElement("canvas").getContext("2d"),this.ctx.font="".concat(t.fontSize,"px ").concat(t.fontFamily),this.measureChars()}return Object(Gt.a)(e,[{key:"measure",value:function(e){return this.ctx.measureText(e).width}},{key:"measureChars",value:function(){var e=this;this.chars=new Map(this.templateChars.split("").map((function(t){return[t,e.measure(t)]})))}},{key:"setFont",value:function(e){this.ctx.font="".concat(e.fontSize,"px ").concat(e.fontFamily),this.measureChars()}},{key:"longestWidth",value:function(){var e=0;return this.chars.forEach((function(t,n){t>e&&(e=t)})),e}},{key:"measureChar",value:function(e){var t=this.chars.get(e);return t||(t=this.measure(e),this.chars.set(e,t)),t}}]),e}();var $t=function(e){var t,n=e.fontInfo,a=e.width,c=e.mode,i=e.words,o=e.initialIndex,l=void 0===o?0:o,s=e.onNextWord,f=e.showPreviousOnPause,h=w().settings,v=Object(r.useState)({currentWord:"",currentIndex:0,hasNextWord:!1}),p=Object(u.a)(v,2),j=p[0],m=j.currentWord,x=j.currentIndex,y=j.hasNextWord,g=p[1];Object(r.useEffect)((function(){var e=i.length,t={currentWord:"",currentIndex:0,hasNextWord:!1};if(e>0){var n=st(0,l||0,e),r=i[n];r&&(t.currentIndex=n,t.currentWord=r,t.hasNextWord=e>n)}g(t)}),[i,s]);var _=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(c);Object(r.useEffect)((function(){if("view"===_&&"view"!==c){var e=i.length,t={currentWord:"",currentIndex:0,hasNextWord:!1};if(e>0){var n=st(0,l||0,e),r=i[n];r&&(t.currentIndex=n,t.currentWord=r,t.hasNextWord=e>n)}g(t)}}),[_,c]),Object(r.useEffect)((function(){null===s||void 0===s||s(x)}),[s,x]);var C=Object(r.useCallback)((function(){g((function(e){var t=Object(b.a)({},e),n=i[e.currentIndex+1];return n?(t.currentWord=n,t.currentIndex++,t.hasNextWord=i.length>t.currentIndex):t.hasNextWord=!1,t}))}),[i]),k=60/h.wordsPerMinute*1e3;qt("play"===c&&y,k,C);var E=function(e){var t=e.fontInfo,n=e.word,a=e.width,c=Object(r.useRef)(null);Object(r.useEffect)((function(){c.current&&c.current.setFont(t)}),[t]),Object(r.useEffect)((function(){c.current=new Yt(t)}),[]);var i=Object(r.useState)({maxOffset:0,maxWords:0,orpMiddlePointPx:0}),o=Object(u.a)(i,2),l=o[0],s=l.orpMiddlePointPx,f=l.maxOffset,d=l.maxWords,b=o[1];Object(r.useEffect)((function(){if(c.current){var e=Math.floor((a||0)/c.current.longestWidth())-1,t=Kt(e)*c.current.longestWidth()+c.current.longestWidth()/2,n=Kt(e)+1;b({maxOffset:n,maxWords:e-(n-Kt(e)),orpMiddlePointPx:t})}}),[a]);var h=n.trim().substr(0,d),v=h.replaceAll(/^[^a-z\u0430-\u044f\d]*|[^a-z\u0430-\u044f\d]*$/gi,""),p=Kt(v.length),j="".padStart(f-p,"\xa0");return{chars:[Object(O.jsx)("span",{children:j+h.substr(0,p-1)},1),Object(O.jsx)("span",{children:h[p-1]},2),Object(O.jsx)("span",{children:v.length>2?h.substr(p):""},3)],orpMiddlePointPx:s,maxOffset:f}}({fontInfo:n,word:m,width:a}),S=E.chars,P=E.orpMiddlePointPx;return"view"===c?null:Object(O.jsxs)("div",{className:Xt.a.container,style:{fontFamily:n.fontFamily,fontSize:"".concat(n.fontSize,"px")},children:[Object(O.jsx)("div",{className:xe()(Xt.a.previous,Object(d.a)({},Xt.a.show,"pause"===c&&f)),children:i.slice(st(0,x-50,i.length),x).join(" ")}),Object(O.jsx)("div",{className:xe()(Xt.a.ORPGuideline,(t={},Object(d.a)(t,Xt.a.disabled,!h.ORPGuideLine),Object(d.a)(t,Xt.a.orp,h.ORP),t)),style:{"--orpPos":"".concat(P,"px"),fontFamily:"SFMono",lineHeight:"82px"},children:S})]})},en=Object(r.memo)($t),tn=n(36),nn=n.n(tn);var rn=function(e){var t=e.info,n=e.words,a=e.onBack,c=w(),i=c.settings,o=c.readerFontInfo,l=c.rsvpFontInfo,s=c.fontWidth,f=c.set,b=Object(r.useState)(!1),h=Object(u.a)(b,2),v=h[0],p=h[1],j=Object(r.useState)("view"),m=Object(u.a)(j,2),x=m[0],y=m[1],g=function(e){var t=ue(),n=t.getStats,a=t.setStats,c=Object(r.useState)(n(e)),i=Object(u.a)(c,2),o=i[0],l=i[1],s=Object(r.useCallback)((function(e,t,n){l(a(e,t,n))}),[a]);return Object(r.useEffect)((function(){l(n(e))}),[e]),{stats:o,setStats:s}}(t.id),_=g.stats,C=g.setStats,k=Object(r.useCallback)((function(e){return C(t.id,"index",e)}),[t.id,C]);ye("view"===x?"#FEFEFE":"#edd1b0");var E=Object(r.useRef)(null),S=Object(r.useCallback)((function(){y((function(e){return"play"===e?(E.current&&(clearTimeout(E.current),E.current=null),"pause"):"play"}))}),[]),P=Object(r.useCallback)((function(e){C(t.id,"index",e)}),[t.id,C]),N=Object(r.useRef)(null),I=we(N).width,M=Object(r.useCallback)((function(){"pause"===x||"play"===x?y("view"):a()}),[x,a]),R=Object(r.useCallback)((function(){S()}),[S]),B=Object(r.useCallback)((function(){return f("ORP",(function(e){return!e}))}),[f]),L=Object(r.useCallback)((function(){return f("ORPGuideLine",(function(e){return!e}))}),[f]),H=Object(r.useCallback)((function(){return S()}),[S]),V=Object(r.useCallback)((function(){return f("wordsPerMinute",(function(e){return e+20}))}),[f]),W=Object(r.useCallback)((function(){return f("wordsPerMinute",(function(e){return e-20}))}),[f]),z=Object(r.useCallback)((function(){"play"===x&&v?p(!1):"play"!==x||v?"play"!==x&&v&&p(!1):p(!0)}),[x,v]),F=Object(r.useMemo)((function(){return 0===I?[]:function(e,t){if(0===t)return[];for(var n=[],r=0,a=0,c=0,i=0,o=e.length;c<o;){var l=e[c].length;a+l+1>t&&(n.push({index:r,startIndex:i,endIndex:c}),r+=c-i,a=0,i=c),a+=l+1,++c}return n}(n,Math.floor((I-10)/s))}),[n,I,s]);return Object(O.jsxs)("div",{className:xe()(nn.a.container,Object(d.a)({},nn.a.playing,"view"!==x)),onClick:z,children:[Object(O.jsx)(At,{mode:x,hidden:v,title:t.title,onBackButton:M,onChangeFont:R,onSetORP:B,onSetORPGuidelines:L}),Object(O.jsxs)("div",{className:nn.a.content,children:[Object(O.jsxs)("div",{ref:N,className:nn.a.reader,children:[Object(O.jsx)(en,{fontInfo:l,width:I,mode:x,words:n,initialIndex:_.index,onNextWord:k,showPreviousOnPause:i.showPreviousOnPause}),Object(O.jsx)(Me,{fontInfo:o,width:I,mode:x,words:n,rows:F,currentIndex:_.index,onCurrentIndexChange:P})]}),Object(O.jsx)(lt,{mode:x,hidden:v,wordsPerMinute:i.wordsPerMinute,onPlayPause:H,onSpeedUp:V,onSpeedDown:W}),Object(O.jsx)(bt,{mode:x,hidden:v,totalWords:t.totalWords,currentWord:_.index})]})]})},an=n(55),cn=n.n(an);var on=function(){var e=function(e){var t=ce().getBook,n=Object(r.useState)(null),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){t(e).then((function(e){var t=e.info,n=e.words;i({info:t,words:n})}))}),[e,t]),c}(Object(o.h)().id),t=Object(o.f)(),n=Object(r.useCallback)((function(){return t.push("/")}),[t]);return Object(O.jsx)("div",{className:cn.a.container,children:e&&Object(O.jsx)(rn,{info:e.info,words:e.words,onBack:n})})},ln=n(40),sn=n.n(ln);var un,fn,dn,bn=function(e,t){return Object(r.useCallback)((function(){var e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=function(e){if(!e.target||0===e.target.files.length)return t([]);t(e.target.files)},e.click()}),[t])},hn=n(25),vn=n.n(hn),pn=function(e){var t=e.title,n=e.editMode,r=e.allSelected,a=e.onBookAdd,c=e.onEdit,i=e.onSelectAll,o=e.onDone;return Object(O.jsxs)("div",{className:vn.a.container,children:[!n&&Object(O.jsx)("div",{className:vn.a.leftButton,onClick:a,children:Object(O.jsx)(at,{})}),n&&Object(O.jsxs)("div",{className:xe()(vn.a.leftButton,vn.a.selectAllButton),onClick:i,children:[r?"Des":"S","elect All"]}),Object(O.jsx)("div",{className:vn.a.title,children:t}),!n&&Object(O.jsx)("div",{className:vn.a.leftButton,onClick:c,children:"Edit"}),n&&Object(O.jsx)("div",{className:vn.a.leftButton,onClick:o,children:"Done"})]})},jn=n(37),On=n.n(jn),mn=function(e){var t=e.title,n=e.creator,r=e.cover;return Object(O.jsx)("div",{className:On.a.container,style:{"--imageOrColor":r?"url(".concat(r,")"):"#995621"},children:Object(O.jsxs)("div",{className:On.a.wrapper,children:[Object(O.jsx)("div",{className:On.a.title,children:t}),Object(O.jsx)("div",{className:On.a.creator,children:n||""})]})})},xn=["title","titleId"];function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wn(e,t){var n=e.title,a=e.titleId,c=gn(e,xn);return r.createElement("svg",yn({width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,un||(un=r.createElement("path",{d:"M2 0C0.895161 0 0 0.895161 0 2C0 3.10484 0.895161 4 2 4C3.10484 4 4 3.10484 4 2C4 0.895161 3.10484 0 2 0Z",fill:"#868485"})),fn||(fn=r.createElement("path",{d:"M8 0C6.89516 0 6 0.895161 6 2C6 3.10484 6.89516 4 8 4C9.10484 4 10 3.10484 10 2C10 0.895161 9.10484 0 8 0Z",fill:"#868485"})),dn||(dn=r.createElement("path",{d:"M14 0C12.8952 0 12 0.895161 12 2C12 3.10484 12.8952 4 14 4C15.1048 4 16 3.10484 16 2C16 0.895161 15.1048 0 14 0Z",fill:"#868485"})))}var _n,Cn,kn,En,Sn,Pn,Nn,In,Mn,Rn,Bn,Ln,Hn,Vn,Wn=r.forwardRef(wn),zn=(n.p,n(27)),Fn=n.n(zn),Dn=function(e){var t,n=e.bookInfo,r=e.currentWord,a=e.wordsPerMinute,c=e.selectable,i=void 0!==c&&c,o=e.selected,l=void 0!==o&&o,s=e.onBookClick,u=e.onRestClick,f=Math.floor(100/n.totalWords*r),b=1e3*Math.floor((n.totalWords-r)/(a/60));return Object(O.jsx)("div",{className:xe()(Fn.a.container,(t={},Object(d.a)(t,Fn.a.selectable,i),Object(d.a)(t,Fn.a.selected,l),t)),children:Object(O.jsxs)("div",{className:Fn.a.wrapper,children:[Object(O.jsx)("div",{className:Fn.a.book,onClick:function(){return s(n.id)},children:Object(O.jsx)(mn,{title:n.title,creator:n.creator,cover:n.cover?n.cover:void 0})}),Object(O.jsxs)("div",{className:Fn.a.bottom,children:[Object(O.jsx)("div",{children:100!==f?"".concat(f," %"):"FINISHED"}),Object(O.jsxs)("div",{children:[" ",ut(b)]}),Object(O.jsx)("div",{onClick:function(){return u(n.id)},children:Object(O.jsx)(Wn,{})})]})]})})},Zn=["title","titleId"];function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function An(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Un(e,t){var n=e.title,a=e.titleId,c=An(e,Zn);return r.createElement("svg",Tn({height:"480pt",viewBox:"0 0 480.00958 480",width:"480pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,_n||(_n=r.createElement("path",{d:"m128 104.003906v-32c0-4.417968-3.582031-8-8-8h-112c-4.417969 0-8 3.582032-8 8v32zm0 0"})),Cn||(Cn=r.createElement("path",{d:"m0 120.003906v264h128v-264zm96 104h-64c-4.417969 0-8-3.582031-8-8v-64c0-4.417968 3.582031-8 8-8h64c4.417969 0 8 3.582032 8 8v64c0 4.417969-3.582031 8-8 8zm0 0"})),kn||(kn=r.createElement("path",{d:"m0 432.003906v40c0 4.417969 3.582031 8 8 8h112c4.417969 0 8-3.582031 8-8v-40zm0 0"})),En||(En=r.createElement("path",{d:"m0 400.003906h128v16h-128zm0 0"})),Sn||(Sn=r.createElement("path",{d:"m144 400.003906h104v16h-104zm0 0"})),Pn||(Pn=r.createElement("path",{d:"m248 32.003906v-24c0-4.417968-3.582031-7.99999975-8-7.99999975h-88c-4.417969 0-8 3.58203175-8 7.99999975v24zm0 0"})),Nn||(Nn=r.createElement("path",{d:"m144 88.003906h104v296h-104zm0 0"})),In||(In=r.createElement("path",{d:"m144 432.003906v40c0 4.417969 3.582031 8 8 8h88c4.417969 0 8-3.582031 8-8v-40zm0 0"})),Mn||(Mn=r.createElement("path",{d:"m144 48.003906h104v24h-104zm0 0"})),Rn||(Rn=r.createElement("path",{d:"m263.808594 165.667969 4.28125 16.433593 135.484375-36.128906-4.285157-16.433594zm0 0"})),Bn||(Bn=r.createElement("path",{d:"m330.664062 421.949219 135.480469-36.128907-8.578125-32.886718-135.488281 36.128906zm0 0"})),Ln||(Ln=r.createElement("path",{d:"m453.527344 337.453125-45.910156-176-135.488282 36.128906 45.910156 176zm0 0"})),Hn||(Hn=r.createElement("path",{d:"m259.769531 150.1875 135.476563-36.125-11.484375-44.058594c-1.183594-4.265625-5.542969-6.816406-9.839844-5.757812l-120 32c-4.238281 1.160156-6.765625 5.5-5.683594 9.757812zm0 0"})),Vn||(Vn=r.createElement("path",{d:"m470.183594 401.300781-135.488282 36.128907 9.542969 36.574218c.554688 2.0625 1.90625 3.820313 3.761719 4.882813 1.207031.730469 2.589844 1.117187 4 1.117187.699219 0 1.398438-.082031 2.078125-.238281l120-32c4.238281-1.160156 6.765625-5.503906 5.683594-9.761719zm0 0"})))}var Gn,Jn,qn,Qn,Xn,Kn,Yn,$n,er,tr,nr,rr,ar,cr,ir,or,lr,sr,ur=r.forwardRef(Un),fr=(n.p,["title","titleId"]);function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function br(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hr(e,t){var n=e.title,a=e.titleId,c=br(e,fr);return r.createElement("svg",dr({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Gn||(Gn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,405.333h-56.811C424.619,374.592,396.373,352,362.667,352s-61.931,22.592-71.189,53.333H21.333 C9.557,405.333,0,414.891,0,426.667S9.557,448,21.333,448h270.144c9.237,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,405.333,490.667,405.333z M362.667,458.667 c-17.643,0-32-14.357-32-32s14.357-32,32-32s32,14.357,32,32S380.309,458.667,362.667,458.667z"})))),Jn||(Jn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,64h-56.811c-9.259-30.741-37.483-53.333-71.189-53.333S300.736,33.259,291.477,64H21.333 C9.557,64,0,73.557,0,85.333s9.557,21.333,21.333,21.333h270.144C300.736,137.408,328.96,160,362.667,160 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,64,490.667,64z M362.667,117.333 c-17.643,0-32-14.357-32-32c0-17.643,14.357-32,32-32s32,14.357,32,32C394.667,102.976,380.309,117.333,362.667,117.333z"})))),qn||(qn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,234.667H220.523c-9.259-30.741-37.483-53.333-71.189-53.333s-61.931,22.592-71.189,53.333H21.333 C9.557,234.667,0,244.224,0,256c0,11.776,9.557,21.333,21.333,21.333h56.811c9.259,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h270.144c11.797,0,21.333-9.557,21.333-21.333C512,244.224,502.464,234.667,490.667,234.667z  M149.333,288c-17.643,0-32-14.357-32-32s14.357-32,32-32c17.643,0,32,14.357,32,32S166.976,288,149.333,288z"})))),Qn||(Qn=r.createElement("g",null)),Xn||(Xn=r.createElement("g",null)),Kn||(Kn=r.createElement("g",null)),Yn||(Yn=r.createElement("g",null)),$n||($n=r.createElement("g",null)),er||(er=r.createElement("g",null)),tr||(tr=r.createElement("g",null)),nr||(nr=r.createElement("g",null)),rr||(rr=r.createElement("g",null)),ar||(ar=r.createElement("g",null)),cr||(cr=r.createElement("g",null)),ir||(ir=r.createElement("g",null)),or||(or=r.createElement("g",null)),lr||(lr=r.createElement("g",null)),sr||(sr=r.createElement("g",null)))}var vr,pr=r.forwardRef(hr),jr=(n.p,n(34)),Or=n.n(jr),mr=function(e){Object(be.a)(e);var t=Object(o.g)();return Object(O.jsxs)("div",{className:Or.a.container,children:[Object(O.jsxs)(f.b,{to:"/",className:xe()(Or.a.item,Object(d.a)({},Or.a.selected,"/"===t.pathname)),children:[Object(O.jsx)(ur,{}),"Library"]}),Object(O.jsxs)(f.b,{to:"/settings",className:xe()(Or.a.item,Object(d.a)({},Or.a.selected,"/settings"===t.pathname)),children:[Object(O.jsx)(pr,{}),"Settings"]})]})},xr=["title","titleId"];function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wr(e,t){var n=e.title,a=e.titleId,c=gr(e,xr);return r.createElement("svg",yr({width:22,height:25,viewBox:"0 0 22 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,vr||(vr=r.createElement("path",{d:"M1.5625 22.6563C1.5625 23.2779 1.80943 23.874 2.24897 24.3135C2.68851 24.7531 3.28465 25 3.90625 25H17.9688C18.5904 25 19.1865 24.7531 19.626 24.3135C20.0656 23.874 20.3125 23.2779 20.3125 22.6563V6.25001H1.5625V22.6563ZM14.8438 10.1563C14.8438 9.94906 14.9261 9.75034 15.0726 9.60383C15.2191 9.45732 15.4178 9.37501 15.625 9.37501C15.8322 9.37501 16.0309 9.45732 16.1774 9.60383C16.3239 9.75034 16.4062 9.94906 16.4062 10.1563V21.0938C16.4062 21.301 16.3239 21.4997 16.1774 21.6462C16.0309 21.7927 15.8322 21.875 15.625 21.875C15.4178 21.875 15.2191 21.7927 15.0726 21.6462C14.9261 21.4997 14.8438 21.301 14.8438 21.0938V10.1563ZM10.1562 10.1563C10.1562 9.94906 10.2386 9.75034 10.3851 9.60383C10.5316 9.45732 10.7303 9.37501 10.9375 9.37501C11.1447 9.37501 11.3434 9.45732 11.4899 9.60383C11.6364 9.75034 11.7188 9.94906 11.7188 10.1563V21.0938C11.7188 21.301 11.6364 21.4997 11.4899 21.6462C11.3434 21.7927 11.1447 21.875 10.9375 21.875C10.7303 21.875 10.5316 21.7927 10.3851 21.6462C10.2386 21.4997 10.1562 21.301 10.1562 21.0938V10.1563ZM5.46875 10.1563C5.46875 9.94906 5.55106 9.75034 5.69757 9.60383C5.84409 9.45732 6.0428 9.37501 6.25 9.37501C6.4572 9.37501 6.65591 9.45732 6.80243 9.60383C6.94894 9.75034 7.03125 9.94906 7.03125 10.1563V21.0938C7.03125 21.301 6.94894 21.4997 6.80243 21.6462C6.65591 21.7927 6.4572 21.875 6.25 21.875C6.0428 21.875 5.84409 21.7927 5.69757 21.6462C5.55106 21.4997 5.46875 21.301 5.46875 21.0938V10.1563ZM21.0938 1.56251H15.2344L14.7754 0.649423C14.6782 0.454215 14.5284 0.29001 14.3429 0.175281C14.1575 0.0605526 13.9437 -0.00014785 13.7256 8.5609e-06H8.14453C7.92694 -0.000827891 7.71352 0.0596463 7.52871 0.174503C7.34391 0.289359 7.19519 0.453951 7.09961 0.649423L6.64062 1.56251H0.78125C0.57405 1.56251 0.375336 1.64482 0.228823 1.79133C0.08231 1.93784 0 2.13656 0 2.34376L0 3.90626C0 4.11346 0.08231 4.31217 0.228823 4.45869C0.375336 4.6052 0.57405 4.68751 0.78125 4.68751H21.0938C21.301 4.68751 21.4997 4.6052 21.6462 4.45869C21.7927 4.31217 21.875 4.11346 21.875 3.90626V2.34376C21.875 2.13656 21.7927 1.93784 21.6462 1.79133C21.4997 1.64482 21.301 1.56251 21.0938 1.56251Z",fill:"black"})))}var _r,Cr=r.forwardRef(wr),kr=(n.p,n(41)),Er=n.n(kr),Sr=function(e){var t=e.active,n=e.onDelete;return Object(O.jsx)("div",{className:xe()(Er.a.container,Object(d.a)({},Er.a.active,t)),children:Object(O.jsx)("div",{className:Er.a.item,onClick:n,children:Object(O.jsx)(Cr,{})})})},Pr=function(){ye("#FEFEFE");var e=w().settings,t=ue().getStats,n=Object(o.f)(),a=ce(),c=a.library,i=a.loadBooks,l=a.deleteBooks,s=bn({multiple:!0},function(){var e=Object(P.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(r.useState)(!1),d=Object(u.a)(f,2),b=d[0],h=d[1],v=Object(r.useState)([]),p=Object(u.a)(v,2),j=p[0],m=p[1],x=Object(r.useCallback)((function(){l(j)}),[l,j]),y=Object(r.useCallback)((function(e){b?m((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(k.a)(t),[e])})):n.push("/book/".concat(e))}),[b,n]),g=Object(r.useCallback)((function(){m((function(e){return e.length===c.length?[]:c.map((function(e){return e.id}))}))}),[c]),_=Object(r.useCallback)((function(){h(!0)}),[]),C=Object(r.useCallback)((function(){h(!1),m([])}),[]);return Object(O.jsxs)("div",{className:sn.a.container,children:[Object(O.jsx)(pn,{title:"Library",editMode:b,allSelected:j.length===c.length,onBookAdd:s,onEdit:_,onSelectAll:g,onDone:C}),Object(O.jsx)("div",{className:sn.a.listContainer,children:Object(O.jsx)("div",{className:sn.a.list,children:c.map((function(n){return Object(O.jsx)(Dn,{bookInfo:n,currentWord:t(n.id).index,wordsPerMinute:e.wordsPerMinute,onBookClick:y,onRestClick:function(){},selectable:b,selected:j.includes(n.id)},n.id)}))})}),b?Object(O.jsx)(Sr,{active:j.length>0,onDelete:x}):Object(O.jsx)(mr,{})]})},Nr=n(38),Ir=n.n(Nr),Mr=function(e){var t=e.title;return Object(O.jsxs)("div",{className:Ir.a.container,children:[Object(O.jsx)("div",{className:Ir.a.leftButton}),Object(O.jsx)("div",{className:Ir.a.title,children:t}),Object(O.jsx)("div",{className:Ir.a.rightButton})]})},Rr=n(10),Br=n.n(Rr),Lr=["title","titleId"];function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wr(e,t){var n=e.title,a=e.titleId,c=Vr(e,Lr);return r.createElement("svg",Hr({width:16,height:3,viewBox:"0 0 16 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,_r||(_r=r.createElement("rect",{width:16,height:3,rx:1,fill:"black"})))}var zr,Fr,Dr=r.forwardRef(Wr),Zr=(n.p,["title","titleId"]);function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ar(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ur(e,t){var n=e.title,a=e.titleId,c=Ar(e,Zr);return r.createElement("svg",Tr({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,zr||(zr=r.createElement("path",{d:"M0 8C0 7.44772 0.447715 7 1 7H15C15.5523 7 16 7.44772 16 8V9C16 9.55228 15.5523 10 15 10H1C0.447715 10 0 9.55228 0 9V8Z",fill:"black"})),Fr||(Fr=r.createElement("path",{d:"M7.5 16.5C6.94772 16.5 6.5 16.0523 6.5 15.5L6.5 1.5C6.5 0.947715 6.94771 0.5 7.5 0.5L8.5 0.5C9.05228 0.5 9.5 0.947715 9.5 1.5L9.5 15.5C9.5 16.0523 9.05229 16.5 8.5 16.5H7.5Z",fill:"black"})))}var Gr=r.forwardRef(Ur);n.p;function Jr(e){var t=e.active,n=e.onClick;return Object(O.jsx)("div",{className:xe()(Br.a.checkbox,Object(d.a)({},Br.a.active,t)),onClick:n})}function qr(e){var t=e.title,n=e.value;return Object(O.jsxs)("div",{className:Br.a.item,children:[Object(O.jsx)("div",{children:t}),Object(O.jsx)("div",{children:n})]})}function Qr(e){var t=e.title,n=e.onClick,r=e.value;return Object(O.jsxs)("div",{className:Br.a.item,children:[Object(O.jsx)("div",{children:t}),Object(O.jsx)("div",{children:Object(O.jsx)(Jr,{active:r,onClick:n})})]})}function Xr(e){var t=e.title,n=e.onChange,r=e.value,a=e.min,c=void 0===a?0:a,i=e.max,o=void 0===i?100:i;return Object(O.jsxs)("div",{className:xe()(Br.a.item,Br.a.range),children:[Object(O.jsx)("div",{children:t}),Object(O.jsxs)("div",{className:Br.a.range,children:[Object(O.jsxs)("div",{className:Br.a.value,children:[r," px"]}),Object(O.jsxs)("div",{className:Br.a.incButtons,children:[Object(O.jsx)("div",{className:Br.a.button,onClick:function(){return n(st(c,r-2,o))},children:Object(O.jsx)(Dr,{})}),Object(O.jsx)("div",{className:Br.a.button,onClick:function(){return n(st(c,r+2,o))},children:Object(O.jsx)(Gr,{})})]})]})]})}function Kr(e){var t=e.title,n=e.children;return Object(O.jsxs)("div",{className:Br.a.category,children:[t&&Object(O.jsx)("div",{className:Br.a.categoryTitle,children:t}),n]})}var Yr=function(e){Object(be.a)(e);var t=w(),n=t.settings,a=t.set,c=Object(r.useCallback)((function(){return a("ORP",(function(e){return!e}))}),[a]),i=Object(r.useCallback)((function(){return a("ORPGuideLine",(function(e){return!e}))}),[a]),o=Object(r.useCallback)((function(){return a("slowDownOnLongWords",(function(e){return!e}))}),[a]),l=Object(r.useCallback)((function(){return a("showPreviousOnPause",(function(e){return!e}))}),[a]);return Object(O.jsxs)("div",{className:Br.a.container,children:[Object(O.jsx)(Mr,{title:"Settings"}),Object(O.jsxs)("div",{className:Br.a.settings,children:[Object(O.jsxs)(Kr,{title:"Book Reader",children:[Object(O.jsx)(qr,{title:"Font family",value:n.fontFamilyReader}),Object(O.jsx)(Xr,{title:"Font size",value:n.fontSizeReader,min:8,max:24,onChange:function(e){a("fontSizeReader",e)}})]}),Object(O.jsxs)(Kr,{title:"RSVP Reader",children:[Object(O.jsx)(qr,{title:"Font family",value:n.fontFamilyRSVP}),Object(O.jsx)(Xr,{title:"Font size",value:n.fontSizeRSVP,min:24,max:48,onChange:function(e){a("fontSizeRSVP",e)}}),Object(O.jsx)(Qr,{title:"Show optimal recognition point",value:n.ORP,onClick:c}),Object(O.jsx)(Qr,{title:"Show ORP guideline",value:n.ORPGuideLine,onClick:i}),Object(O.jsx)(Qr,{title:"Slow down on long words",value:n.slowDownOnLongWords,onClick:o}),Object(O.jsx)(Qr,{title:"Show 50 previous words on pause",value:n.showPreviousOnPause,onClick:l})]})]}),Object(O.jsx)(mr,{})]})},$r=n(56),ea=n.n($r);function ta(){var e=Object(o.g)();return Object(O.jsx)(l.a,{className:ea.a.container,children:Object(O.jsx)(s.a,{classNames:"fade",timeout:300,children:Object(O.jsxs)(o.c,{location:e,children:[Object(O.jsx)(o.a,{path:"/book/:id",exact:!0,component:on}),Object(O.jsxs)(o.a,{path:"/",children:[Object(O.jsx)(o.a,{path:"/",exact:!0,component:Pr}),Object(O.jsx)(o.a,{path:"/settings",exact:!0,component:Yr})]})]})},e.pathname)})}var na=function(){return Object(O.jsx)(Oe,{children:Object(O.jsx)(ta,{})})},ra=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function aa(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ca=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(84);i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(na,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/readero",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/readero","/service-worker.js");ra?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):aa(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):aa(t,e)}))}}(),ca()}},[[85,1,2]]]);
//# sourceMappingURL=main.89f1b165.chunk.js.map