{"version":3,"sources":["pages/Settings/styles.module.scss","components/ReaderControls/styles.module.scss","components/ReaderHeader/styles.module.scss","components/ReaderStatusBar/styles.module.scss","pages/Library/Header/styles.module.scss","components/Menu/styles.module.scss","components/BookRender/styles.module.scss","components/BookItem/styles.module.scss","components/BookCover/styles.module.scss","components/RSVPReader/styles.module.scss","components/BookReader/styles.module.scss","pages/Statistics/Header/styles.module.scss","pages/Settings/Header/styles.module.scss","pages/BookInfo/Header/styles.module.scss","components/RSVPReader/ORPRender/styles.module.scss","pages/Library/styles.module.scss","pages/Library/EditMenu/styles.module.scss","components/RSVPReader/MiddlePointRender/styles.module.scss","components/LoadingScreen/styles.module.scss","pages/Reader/styles.module.scss","pages/Statistics/styles.module.scss","styles.module.scss","pages/BookInfo/styles.module.scss","utils/context.ts","hooks/useFontWidth.ts","providers/Settings/index.tsx","libraries/epubToTxt.ts","providers/Library/index.tsx","providers/ReadingStats/index.tsx","assets/logo.png","components/LoadingScreen/index.tsx","hooks/useRootDimensions.ts","providers/index.tsx","hooks/useBackgroundColor.ts","hooks/useElementSize.ts","components/BookRender/context.ts","components/BookRender/ListItem.tsx","components/BookRender/index.tsx","assets/icons/play-solid.svg","assets/icons/pause-solid.svg","assets/icons/minus-solid.svg","assets/icons/plus-solid.svg","assets/icons/history-back.svg","assets/icons/history-forward.svg","assets/icons/angle-left-solid.svg","components/ReaderControls/index.tsx","utils/clamp.ts","utils/time.ts","components/ReaderStatusBar/index.tsx","assets/icons/font-icon.svg","assets/icons/text-icon.svg","assets/icons/guideline-icon.svg","components/ReaderHeader/index.tsx","hooks/useAccurateTimer.ts","components/RSVPReader/ORPRender/index.tsx","components/RSVPReader/MiddlePointRender/index.tsx","components/RSVPReader/PreviousWords.tsx","components/RSVPReader/index.tsx","components/BookReader/index.tsx","pages/Reader/index.tsx","hooks/useFileInput.ts","assets/icons/rest.svg","pages/Library/Header/index.tsx","components/BookCover/index.tsx","assets/icons/library.svg","components/BookItem/index.tsx","assets/icons/thunder.svg","assets/icons/settings.svg","assets/icons/trash.svg","components/Menu/index.tsx","assets/icons/minus-small.svg","pages/Library/EditMenu/index.tsx","pages/Library/index.tsx","pages/Statistics/Header/index.tsx","pages/Statistics/index.tsx","pages/Settings/Header/index.tsx","assets/icons/plus-small.svg","pages/Settings/index.tsx","pages/BookInfo/Header/index.tsx","pages/BookInfo/index.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["module","exports","createCtx","ctx","createContext","undefined","c","useContext","Error","Provider","canvasCtx","useFontWidth","fontFamily","fontSize","useMemo","document","createElement","getContext","font","textBaseline","textMetrics","measureText","Math","abs","actualBoundingBoxLeft","actualBoundingBoxRight","length","measureFont","settingsList","defaultSettings","fontFamilyRSVP","fontFamilyReader","fontSizeRSVP","fontSizeReader","wordsPerMinute","ORP","ORPGuideLine","slowDownOnLongWords","showPreviousOnPause","renderType","useSettings","SettingsProvider","children","dimensions","useState","settings","setSettings","useEffect","key","jsonValue","localStorage","getItem","JSON","parse","value","set","useCallback","prevValue","nextValue","setItem","stringify","fontWidth","maxCharsPerRow","floor","width","readerFontInfo","fontWeight","lineHeight","rsvpFontInfo","findFile","archive","filename","files","result","filter","_","file","name","toLowerCase","validateMimeType","a","mimeFile","async","trim","validateRootFile","containerFile","xmlData","parsedXML","parser","ignoreAttributes","container","rootfiles","rootfile","rootFileInfo","rootFile","parseRootFile","rootFileXML","XMLData","attributeNamePrefix","attrNodeName","textNodeName","ignoreNameSpace","parseAttributeValue","metadata","parseMetadata","spine","parseSpine","manifest","parseManifest","guide","parseGuide","processingItems","processItems","loadItems","words","foundCover","findCover","loadCover","cover","uidName","package","attr","Object","entries","entry","parsedValue","Array","isArray","find","item","id","String","replace","toUpperCase","items","direction","toc","itemref","push","idref","reference","type","includes","split","path","filePath","href","join","blob","mime","lookup","slice","size","loadingItems","domParser","DOMParser","Promise","all","loadedItems","chapters","map","sentences","parseFromString","body","querySelectorAll","forEach","textContent","chapter","sentence","wordsArray","replaceAll","v","zip","JsZip","loadAsync","keys","parsedEpub","epubToTxt","useLibraryContext","LibraryProvider","isLoading","setIsLoading","library","setLibrary","localforage","data","coverBlob","URL","createObjectURL","loadBooks","from","text","then","console","log","identifier","title","parsedBooks","loadedBooks","book","bookInfo","creator","totalWords","info","coverUrl","newLibrary","deleteBooks","ids","promiseArray","removeItem","prev","getBook","useReadingStatsContext","ReadingStatsProvider","getStats","stringStats","index","setStats","currentStats","LoadingScreen","className","styles","style","backgroundImage","LogoIconSrc","useRootDimension","rootNode","getElementById","getBoundingClientRect","height","setDimensions","ResizeObserver","contentRect","observe","box","Providers","loaded","setLoaded","fonts","load","ReadingStats","useBackgroundColor","color","documentElement","backgroundColor","useElementSize","elementRef","setSize","updateSize","node","current","offsetWidth","offsetHeight","useBookRendererContext","ListItem","rows","currentIndex","onRowClick","rowIndex","colIndex","row","startIndex","endIndex","wordIndex","onClick","cn","selected","_path","BookRender","mode","onCurrentIndexChange","fontInfo","ref","useRef","listRef","maxWidth","bufferLength","i","l","currWordLength","wrapText","scrollToItem","contextValue","itemSize","itemCount","list","overscanCount","_excluded","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlaySolid","_ref","svgRef","titleId","props","viewBox","fill","xmlns","d","_path2","ForwardRef","SvgPauseSolid","SvgMinusSolid","SvgPlusSolid","SvgHistoryBack","SvgHistoryForward","ReaderControls","hidden","onPlay","onPause","onSpeedUp","onSpeedDown","onHistoryGoBack","onHistoryGoForward","e","stopPropagation","middle","button","bottom","wpm","label","memo","clamp","min","max","timestampToHumanTime","timestamp","temp","string","days","hours","minutes","seconds","ReaderStatusBar","currentWord","timeToRead","position","wordsLeft","playing","statusBar","bottomBar","timeLeft","SvgAngleLeftSolid","SvgFontIcon","_path3","SvgTextIcon","_path4","SvgGuidelineIcon","stroke","strokeWidth","strokeLinejoin","ReaderHeader","onBackButton","onChangeFont","onSetORP","onSetORPGuidelines","backButton","buttons","never","Number","MAX_SAFE_INTEGER","useAccurateTimer","isPlaying","delay","callback","now","Date","getTime","setCheckTime","nextFireTime","setNextFireTime","currentTime","newNextFireTime","timeout","overdueCalls","userDelay","error","overdueElapsedTime","newFireTime","setTimeout","clearTimeout","getOrpPos","ceil","CharMeasurer","templateChars","chars","Map","globalThis","OffscreenCanvas","measureChars","char","measure","charWidth","get","ORPRender","word","highlight","guideline","measureRef","setFont","maxOffset","maxWords","orpPoint","longestWidth","orpPos","r","substr","trimmedWord","orp","lpad","padStart","useORPWord","breakWordToParts","even","MiddlePointRender","part","PreviousWords","showPrevious","previous","show","usePrevious","RSVPReader","initialIndex","onNextWord","hasNextWord","wordCount","state","initial","prevMode","prevInitialIndex","onTick","currState","newState","nextWord","BookReader","onBack","stats","setStatsState","useReadingStats","uiHidden","setUiHidden","setMode","play","pause","toggle","reset","usePlayer","onReaderClick","content","reader","Reader","bookData","setBook","useBook","useParams","history","useHistory","textFormats","useFileInput","options","input","accept","multiple","onchange","event","click","Header","editMode","allSelected","onBookAdd","onEdit","onSelectAll","onDone","leftButton","selectAllButton","BookCover","nocover","wrapper","SvgRest","_path5","_path6","_path7","_path8","_path9","_path10","_path11","_path12","_path13","_path14","BookItem","selectable","onBookClick","onRestClick","SvgLibrary","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","SvgThunder","xmlnsXlink","x","y","enableBackground","xmlSpace","_g17","_g18","SvgSettings","Menu","location","useLocation","to","pathname","SvgTrash","_rect","EditMenu","active","onDelete","Library","onAdd","editing","setEditing","setSelected","listContainer","rightButton","Statistics","SvgMinusSmall","rx","SvgPlusSmall","CheckBox","checkbox","Item","ItemCheckbox","ItemRange","onChange","range","incButtons","ItemGroup","category","categoryTitle","Settings","toggleORP","toggleORPGuideline","toggleSlowDown","toggleShowPreviousOnPause","setRenderType","BookInfo","A","TransitionGroup","CSSTransition","classNames","exact","component","App","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","process","origin","addEventListener","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.ce970584.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__28OFW\",\"settings\":\"styles_settings__2x_3S\",\"category\":\"styles_category__1-kvu\",\"categoryTitle\":\"styles_categoryTitle__dr2yU\",\"item\":\"styles_item__1akUt\",\"range\":\"styles_range__22Sox\",\"value\":\"styles_value__2dj2a\",\"incButtons\":\"styles_incButtons__WZpMM\",\"button\":\"styles_button__1vjgx\",\"checkbox\":\"styles_checkbox__YPZEb\",\"active\":\"styles_active__30SJq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3iku9\",\"middle\":\"styles_middle__30W2G\",\"button\":\"styles_button__19NkF\",\"bottom\":\"styles_bottom__3xai2\",\"wpm\":\"styles_wpm__1NKZr\",\"label\":\"styles_label__3lkx6\",\"hidden\":\"styles_hidden__3Ewpe\",\"hide\":\"styles_hide__2Hweu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1eOz9\",\"hidden\":\"styles_hidden__2iTjX\",\"hide\":\"styles_hide__2JAHk\",\"title\":\"styles_title__lmsiw\",\"button\":\"styles_button__1Jf1L\",\"backButton\":\"styles_backButton__1tsG5\",\"buttons\":\"styles_buttons__18UEl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Ujws\",\"hidden\":\"styles_hidden__1ht2Z\",\"hide\":\"styles_hide__AtIqW\",\"playing\":\"styles_playing__1U5nY\",\"statusBar\":\"styles_statusBar__2ChiL\",\"bottomBar\":\"styles_bottomBar__3T2jf\",\"wordsLeft\":\"styles_wordsLeft__161g4\",\"timeLeft\":\"styles_timeLeft___qbxM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__27xll\",\"title\":\"styles_title__2xz_H\",\"leftButton\":\"styles_leftButton__K-sYm\",\"selectAllButton\":\"styles_selectAllButton__3t7u0\",\"rightButton\":\"styles_rightButton__2PJVT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3QPup\",\"item\":\"styles_item__12B4O\",\"selected\":\"styles_selected__2s8YY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__H22c3\",\"list\":\"styles_list__1kZPG\",\"item\":\"styles_item__1Gd0s\",\"row\":\"styles_row__2F3Gs\",\"selected\":\"styles_selected__3aOxm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3cfxF\",\"selectable\":\"styles_selectable__14WWH\",\"wrapper\":\"styles_wrapper__3iYea\",\"book\":\"styles_book__24dPt\",\"bottom\":\"styles_bottom__2E__F\",\"selected\":\"styles_selected__1tH2S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__tauyI\",\"nocover\":\"styles_nocover__39Wyh\",\"wrapper\":\"styles_wrapper__1SI0h\",\"title\":\"styles_title__1B8Cz\",\"creator\":\"styles_creator__3X5fO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2YbNB\",\"previous\":\"styles_previous__3idgL\",\"show\":\"styles_show__287T-\",\"ORPGuideline\":\"styles_ORPGuideline__rKRK8\",\"disabled\":\"styles_disabled__ZfsTG\",\"orp\":\"styles_orp__1maWe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3NPmA\",\"content\":\"styles_content__2IGdR\",\"reader\":\"styles_reader__21Czz\",\"playing\":\"styles_playing__34E29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1r-Iv\",\"title\":\"styles_title__2GPmG\",\"leftButton\":\"styles_leftButton__1B3ff\",\"rightButton\":\"styles_rightButton__3MdCM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3A0Bq\",\"title\":\"styles_title__1WiP2\",\"leftButton\":\"styles_leftButton__moyhw\",\"rightButton\":\"styles_rightButton__2isCM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__nbUZG\",\"button\":\"styles_button__2vnWV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__c63xC\",\"highlight\":\"styles_highlight__eMpOG\",\"guideline\":\"styles_guideline__H0PPm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2QO7t\",\"listContainer\":\"styles_listContainer__2uuhs\",\"list\":\"styles_list__2KWKs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1I4pS\",\"active\":\"styles_active__BQskZ\",\"item\":\"styles_item__AM4Ww\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3f1Ot\",\"highlight\":\"styles_highlight__31xJ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1A6zu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1YIH5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3KNUe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__332Lk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1RuXw\"};","\nimport { createContext, useContext } from \"react\";\n\nexport default function createCtx<A extends {} | null>() {\n    const ctx = createContext<A | undefined>(undefined);\n    function useCtx() {\n        const c = useContext(ctx);\n        if (c === undefined) {\n            throw new Error('useCtx must be inside a Provider with a value');\n        }\n        return c;\n    }\n    return [useCtx, ctx.Provider] as const;\n}","import { useMemo } from 'react';\n\nlet canvasCtx: CanvasRenderingContext2D | null = null;\n\nfunction measureFont(fontFamily: string, fontSize: number) {\n    if (!canvasCtx) {\n        canvasCtx = document.createElement('canvas').getContext('2d');\n    }\n\n    if (canvasCtx) {\n        const text = 'B';\n        canvasCtx.font = `${fontSize}px ${fontFamily}`;\n        canvasCtx.textBaseline = 'top';\n        const textMetrics = canvasCtx.measureText(text);\n        const width =\n            Math.abs(textMetrics.actualBoundingBoxLeft) +\n            Math.abs(textMetrics.actualBoundingBoxRight);\n        return width / text.length;\n    }\n\n    return 0;\n}\n\nfunction useFontWidth(fontFamily?: string, fontSize?: number) {\n    return useMemo(() => {\n        if (fontFamily && fontSize) {\n            return measureFont(fontFamily, fontSize);\n        }\n        return 0;\n    }, [fontFamily, fontSize]);\n}\n\nexport default useFontWidth;\n","import createCtx from '../../utils/context';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { IFontInfo } from 'types/fontInfo';\nimport useFontWidth from 'hooks/useFontWidth';\n\ntype SetStateAction<S> = S | ((prevState: S) => S);\n\ninterface ISettingsProviderProps {\n    dimensions: {\n        width: number;\n        height: number;\n    };\n    children: React.ReactNode;\n}\n\ninterface ISettingsContext {\n    settings: ISettings;\n    readerFontInfo: IFontInfo;\n    rsvpFontInfo: IFontInfo;\n    fontWidth: number;\n    maxCharsPerRow: number;\n    dimensions: {\n        width: number;\n        height: number;\n    };\n    renderType: 'ORP' | 'middle';\n    set: <K extends keyof ISettings>(\n        key: K,\n        value: SetStateAction<ISettings[K]>\n    ) => void;\n}\n\nexport interface ISettings {\n    fontFamilyRSVP: string;\n    fontFamilyReader: string;\n    fontSizeRSVP: number;\n    fontSizeReader: number;\n    wordsPerMinute: number;\n    ORP: boolean;\n    ORPGuideLine: boolean;\n    slowDownOnLongWords: boolean;\n    showPreviousOnPause: boolean;\n    renderType: 'ORP' | 'middle';\n}\n\nconst settingsList = [\n    'fontFamilyRSVP',\n    'fontFamilyReader',\n    'fontSizeRSVP',\n    'fontSizeReader',\n    'wordsPerMinute',\n    'ORP',\n    'ORPGuideLine',\n    'slowDownOnLongWords',\n    'showPreviousOnPause',\n    'renderType'\n] as const;\n\nconst defaultSettings = {\n    fontFamilyRSVP: 'SFMono',\n    fontFamilyReader: 'Liberation Mono',\n    fontSizeRSVP: 32,\n    fontSizeReader: 16,\n    wordsPerMinute: 320,\n    ORP: true,\n    ORPGuideLine: true,\n    slowDownOnLongWords: true,\n    showPreviousOnPause: true,\n    renderType: 'ORP',\n} as const;\n\nconst [useSettings, Provider] = createCtx<ISettingsContext>();\n\nconst SettingsProvider = ({ children, dimensions }: ISettingsProviderProps) => {\n    const [settings, setSettings] = useState<ISettings | null>(null);\n\n    useEffect(() => {\n        const settings = defaultSettings;\n        for (const key of settingsList) {\n            const jsonValue = localStorage.getItem(key);\n            if (jsonValue) {\n                (settings[key] as ISettings[typeof key]) = JSON.parse(\n                    jsonValue\n                ).value;\n            }\n        }\n        setSettings(settings);\n    }, []);\n\n    const set = useCallback(\n        <K extends keyof ISettings>(\n            key: K,\n            value: SetStateAction<ISettings[K]>\n        ) => {\n            setSettings((prevValue) => {\n                if (!prevValue) {\n                    return null;\n                }\n                const nextValue =\n                    typeof value === 'function' ? value(prevValue[key]) : value;\n                localStorage.setItem(key, JSON.stringify({ value: nextValue }));\n                return { ...prevValue, [key]: nextValue };\n            });\n        },\n        []\n    );\n\n    const fontWidth = useFontWidth(\n        settings?.fontFamilyReader,\n        settings?.fontSizeReader\n    );\n\n    const maxCharsPerRow = useMemo(\n        () => Math.floor((dimensions.width - 80) / fontWidth),\n        [dimensions.width, fontWidth]\n    );\n\n    if (!settings) {\n        return null;\n    }\n\n    const readerFontInfo = {\n        fontFamily: settings.fontFamilyReader,\n        fontSize: settings.fontSizeReader,\n        fontWeight: 'normal',\n        lineHeight: 17,\n    };\n\n    const rsvpFontInfo = {\n        fontFamily: settings.fontFamilyRSVP,\n        fontSize: settings.fontSizeRSVP,\n        fontWeight: 'normal',\n        lineHeight: 17,\n    };\n\n    return (\n        <Provider\n            value={{\n                settings,\n                readerFontInfo,\n                rsvpFontInfo,\n                fontWidth,\n                maxCharsPerRow,\n                dimensions,\n                renderType: settings.renderType,\n                set,\n            }}\n        >\n            {children}\n        </Provider>\n    );\n};\n\nexport { useSettings };\n\nexport default SettingsProvider;\n","import JsZip from 'jszip';\nimport parser from 'fast-xml-parser';\nimport mime from 'mime-types';\n\ntype PickByValue<T, V> = Pick<\n    T,\n    { [K in keyof T]: T[K] extends V ? K : never }[keyof T]\n>;\ntype Entries<T> = {\n    [K in keyof T]: [keyof PickByValue<T, T[K]>, T[K]];\n}[keyof T][];\n\ntype TEpubXMLIdentifier = {\n    value: string;\n    attr: {\n        id: string;\n    };\n};\n\ninterface IEpubXMLMetadata {\n    identifier: TEpubXMLIdentifier | TEpubXMLIdentifier[];\n    title: string;\n    language: string;\n    creator?: string;\n\n    description?: string;\n    subject?: string;\n    publisher?: string;\n\n    date?: string | number;\n\n    meta: Array<{ attr: { name: string; content: string | number } }>;\n}\n\ninterface IEpubXMLManifest {\n    item: Array<{ attr: { href: string; 'media-type': string; id: string } }>;\n}\n\ninterface IEpubXMLSpineItemRef {\n    attr: {\n        id?: string;\n        idref: string;\n        linear?: 'yes' | 'no';\n    };\n}\n\ninterface IEpubXMLSpine {\n    attr: {\n        id?: string;\n        'page-progression-direction'?: 'rtl' | 'ltr';\n        toc?: string;\n    };\n    itemref: IEpubXMLSpineItemRef | IEpubXMLSpineItemRef[];\n}\n\ninterface IXMLData {\n    package: {\n        attr: {\n            version: number;\n            'unique-identifier': string;\n        };\n        metadata: IEpubXMLMetadata;\n        manifest: IEpubXMLManifest;\n        spine: IEpubXMLSpine;\n        guide?:\n            | string\n            | {\n                  reference: {\n                      attr: {\n                          href: string;\n                          type: string;\n                          title: string;\n                      };\n                  };\n              };\n    };\n}\n\ninterface IEpubMetadata {\n    identifier: string;\n    publisher?: string;\n    language?: string;\n    title?: string;\n    subject?: string;\n    description?: string;\n    creator?: string;\n    date?: string;\n}\n\ninterface IEpubSpine {\n    id?: string;\n    direction?: 'rtl' | 'ltr';\n    toc?: string;\n    items: Array<string>;\n}\n\ntype TEpubManifest = {\n    href: string;\n    'media-type': string;\n    id: string;\n}[];\n\ntype TEpubGuide = {\n    href: string;\n    type: string;\n    title: string;\n};\n\nfunction findFile(archive: JsZip, filename: string) {\n    if (archive.files[filename]) {\n        return archive.files[filename];\n    }\n    const result = archive.filter(\n        (_, file) => file.name.toLowerCase() === filename.toLowerCase()\n    );\n    if (result.length > 0) {\n        return result[0];\n    }\n    return null;\n}\n\nasync function validateMimeType(archive: JsZip) {\n    const mimeFile = findFile(archive, 'mimetype');\n    if (!mimeFile) {\n        throw new Error('No mimetype file in archive');\n    }\n\n    const epubMimeType = await mimeFile.async('text');\n\n    if (epubMimeType.toLowerCase().trim() !== 'application/epub+zip') {\n        throw new Error('Unsupported mime type');\n    }\n}\n\nasync function validateRootFile(archive: JsZip) {\n    const containerFile = findFile(archive, 'meta-inf/container.xml');\n    if (!containerFile) {\n        throw new Error('No container file in archive');\n    }\n\n    const xmlData = await containerFile.async('text');\n    const parsedXML = parser.parse(xmlData, { ignoreAttributes: false });\n\n    if (\n        !parsedXML.container.rootfiles ||\n        !parsedXML.container.rootfiles.rootfile\n    ) {\n        throw new Error('No rootfiles found');\n    }\n\n    const rootFileInfo = parsedXML.container.rootfiles.rootfile;\n    let filename: string;\n\n    if (rootFileInfo['@_media-type'] !== 'application/oebps-package+xml') {\n        throw new Error('Rootfile in unknown format');\n    }\n\n    filename = rootFileInfo['@_full-path'];\n\n    if (!filename) {\n        throw new Error('Empty rootfile');\n    }\n\n    const rootFile = findFile(archive, filename);\n    if (!rootFile) {\n        throw new Error('Rootfile not found from archive');\n    }\n\n    return rootFile;\n}\n\nasync function parseRootFile(archive: JsZip, rootFile: JsZip.JSZipObject) {\n    const rootFileXML = await rootFile.async('text');\n    const XMLData = parser.parse(rootFileXML, {\n        attributeNamePrefix: '',\n        attrNodeName: 'attr',\n        textNodeName: 'value',\n        ignoreAttributes: false,\n        ignoreNameSpace: true,\n        parseAttributeValue: true,\n    }) as IXMLData;\n\n    const metadata = parseMetadata(XMLData);\n    const spine = parseSpine(XMLData);\n    const manifest = parseManifest(XMLData);\n    const guide = parseGuide(XMLData);\n\n    // console.log(XMLData, spine)\n\n    const processingItems = processItems(manifest, spine);\n    const words = await loadItems(archive, rootFile, processingItems);\n\n    const foundCover = findCover(manifest, guide);\n    const cover = await loadCover(archive, rootFile, foundCover);\n\n    return {\n        cover,\n        metadata,\n        words,\n    };\n}\n\nfunction parseMetadata(XMLData: IXMLData) {\n    const metadata: Partial<IEpubMetadata> = {};\n\n    const uidName = XMLData.package.attr['unique-identifier'];\n    const entries = Object.entries(\n        XMLData.package.metadata\n    ) as Entries<IEpubXMLMetadata>;\n    for (const entry of entries) {\n        if (entry) {\n            const [key, value] = entry;\n\n            if (value) {\n                let parsedValue = null;\n                if (key === 'identifier') {\n                    parsedValue = value;\n                    if (Array.isArray(value)) {\n                        parsedValue = (value as TEpubXMLIdentifier[]).find(\n                            (item) => item.attr.id === uidName\n                        );\n                        if (parsedValue) {\n                            parsedValue = parsedValue.value;\n                        }\n                    } else {\n                        parsedValue = (value as TEpubXMLIdentifier).value;\n                    }\n                    if (parsedValue) {\n                        parsedValue = String(parsedValue)\n                            .replace('urn:uuid:', '')\n                            .toUpperCase()\n                            .trim();\n                    } else {\n                        throw new Error(\n                            'Cannot determine book unique identifier'\n                        );\n                    }\n                } else {\n                    if (typeof value === 'object') {\n                        // TODO: Do better typings\n                        parsedValue = (value as any).value;\n                    } else {\n                        parsedValue = value;\n                    }\n                }\n                metadata[key as keyof IEpubMetadata] = parsedValue;\n            }\n        }\n    }\n\n    return metadata as IEpubMetadata;\n}\n\nfunction parseSpine(XMLData: IXMLData) {\n    const spine: Partial<IEpubSpine> = {\n        items: [],\n    };\n    if ('id' in XMLData.package.spine.attr) {\n        spine.id = XMLData.package.spine.attr.id;\n    }\n    if ('page-progression-direction' in XMLData.package.spine.attr) {\n        spine.direction =\n            XMLData.package.spine.attr['page-progression-direction'];\n    }\n    if ('toc' in XMLData.package.spine.attr) {\n        spine.toc = XMLData.package.spine.attr.toc;\n    }\n\n    if (Array.isArray(XMLData.package.spine.itemref)) {\n        for (const item of XMLData.package.spine.itemref) {\n            spine.items?.push(item.attr.idref);\n        }\n    } else {\n        spine.items?.push(XMLData.package.spine.itemref.attr.idref);\n    }\n\n    return spine as IEpubSpine;\n}\n\nfunction parseManifest(XMLData: IXMLData) {\n    const manifest: TEpubManifest = [];\n    for (const item of XMLData.package.manifest.item) {\n        manifest.push(item.attr);\n    }\n    return manifest;\n}\n\nfunction parseGuide(XMLData: IXMLData) {\n    if (!XMLData.package.guide || typeof XMLData.package.guide === 'string') {\n        return undefined;\n    }\n    // There is books where guide is array;\n    return XMLData.package.guide.reference.attr;\n}\n\n//\n\nfunction findCover(manifest: TEpubManifest, guide?: TEpubGuide) {\n    if (guide && guide.type === 'cover') {\n        return guide;\n    }\n    for (const item of manifest) {\n        if (item.id.includes('cover.jpg')) {\n            return item;\n        }\n    }\n}\nfunction processItems(manifest: TEpubManifest, spine: IEpubSpine) {\n    const items = [];\n    for (const id of spine.items) {\n        const item = manifest.find((item) => item.id === id);\n        if (item && item['media-type'] === 'application/xhtml+xml') {\n            items.push(item);\n        }\n    }\n    return items;\n}\n\n//\n\nasync function loadCover(\n    archive: JsZip,\n    rootFile: JsZip.JSZipObject,\n    cover?: { href: string; 'media-type'?: string }\n) {\n    if (!cover) {\n        return null;\n    }\n\n    const [path] = rootFile?.name.split('/');\n    const filePath = [path, cover.href].join('/');\n    const blob = await archive.files[filePath].async('blob');\n\n    const type = cover['media-type'] || mime.lookup(cover.href);\n\n    if (!type) {\n        return blob;\n    }\n\n    return blob.slice(0, blob.size, type);\n}\n\nasync function loadItems(\n    archive: JsZip,\n    rootFile: JsZip.JSZipObject,\n    processingItems: Array<{ href: string }>\n) {\n    const [path] = rootFile?.name.split('/');\n\n    const loadingItems = [];\n    for (const { href } of processingItems) {\n        const filePath = [path, href].join('/');\n        loadingItems.push(archive.files[filePath].async('text'));\n    }\n    const domParser = new DOMParser();\n    const loadedItems = await Promise.all(loadingItems);\n\n    const chapters = loadedItems.map((item) => {\n\n        const sentences: string[] = [];\n        const sentencesNodes = domParser.parseFromString(item, 'application/xhtml+xml').body.querySelectorAll('p');\n        sentencesNodes.forEach((value) => {\n            sentences.push(value.textContent || '');\n        })\n\n        return sentences;\n\n        // return '' + domParser.parseFromString(item, 'application/xhtml+xml').body.textContent\n    });\n\n    const words = [];\n\n    for(const chapter of chapters) {\n        for(const sentence of chapter) {\n\n            const wordsArray = sentence?.replaceAll('\\n', ' ')?.split(' ').filter(v => v !== '').map(v => v.trim());\n            if(wordsArray?.length > 0) {\n                words.push(...wordsArray);\n            }\n\n        }\n    }\n\n    return words\n\n}\n\nasync function epubToTxt(blob: Blob) {\n    if (blob.type !== 'application/epub+zip') {\n        throw new Error('Not an Epub file');\n    }\n\n    const zip = new JsZip();\n    const archive = await zip.loadAsync(blob);\n\n    if (Object.keys(archive.files).length === 0) {\n        throw new Error('No files in archive');\n    }\n\n    await validateMimeType(archive);\n    const rootFile = await validateRootFile(archive);\n    const parsedEpub = await parseRootFile(archive, rootFile);\n\n    return parsedEpub;\n}\n\nexport default epubToTxt;\n","import createCtx from 'utils/context';\nimport localforage from 'localforage';\nimport { useCallback, useEffect, useState } from 'react';\nimport epubToTxt from 'libraries/epubToTxt';\n\ninterface ILibraryProviderProps {\n    children: React.ReactNode;\n}\n\nexport interface IBookInfo {\n    id: string;\n    title: string;\n    creator?: string;\n    cover: string | boolean;\n\n    totalWords: number;\n}\n\ninterface ILibraryContext {\n    library: IBookInfo[];\n\n    loadBooks: (files: File[]) => void;\n    deleteBooks: (id: string[]) => void;\n\n    getBook: (\n        id: string\n    ) => Promise<{\n        info: IBookInfo;\n        words: string[];\n    }>;\n}\n\nconst [useLibraryContext, Provider] = createCtx<ILibraryContext>();\n\nconst LibraryProvider = ({ children }: ILibraryProviderProps) => {\n    const [isLoading, setIsLoading] = useState(true);\n    const [library, setLibrary] = useState<IBookInfo[]>([]);\n\n    useEffect(() => {\n        (async () => {\n            const data = await localforage.getItem<IBookInfo[]>('library');\n            setLibrary((data as any) || []);\n\n            for (let item of (data || []) as any) {\n                const coverBlob = await localforage.getItem(`${item.id}_cover`);\n                if (coverBlob) {\n                    (item as any).cover = URL.createObjectURL(coverBlob);\n                }\n            }\n            setIsLoading(false);\n        })();\n    }, []);\n\n    const loadBooks = useCallback(\n        async (files: File[]) => {\n\n            const parsedBooks = await Promise.all(\n                Array.from(files).map((file) => {\n\n                    if(file.type === 'text/plain') {\n                        return file.text().then((text) => {\n                            console.log(text)\n                            const words = text.replaceAll('\\n', '').split(' ');\n                            const bookInfo = {\n                                metadata: {\n                                    identifier: file.name,\n                                    title: file.name,   \n                                } as { identifier: string; title?: string; creator?: string },\n                                cover: null as Blob | null,\n                                words\n                            }\n                            return bookInfo;\n                        })                       \n                    } else {\n                        return epubToTxt(file);\n                    }\n\n                })\n            );\n\n            const loadedBooks = parsedBooks\n                .filter((book) => {\n                    return !library.find(\n                        (item) => item.id === book.metadata.identifier\n                    );\n                })\n                .map((book) => {\n                    const bookInfo = {\n                        id: book.metadata.identifier,\n                        title: book.metadata.title || '',\n                        creator: book.metadata.creator || '',\n                        cover: !!book.cover,\n\n                        totalWords: book.words.length,\n                    };\n\n                    return {\n                        id: bookInfo.id,\n                        info: bookInfo,\n                        words: book.words,\n                        cover: book.cover,\n                        coverUrl: book.cover\n                            ? URL.createObjectURL(book.cover)\n                            : false,\n                    };\n                });\n\n            await Promise.all(\n                loadedBooks.map(({ id, words }) =>\n                    localforage.setItem(id, words)\n                )\n            );\n\n            const newLibrary = [\n                ...library,\n                ...loadedBooks.map(({ info }) => info),\n            ];\n            await localforage.setItem('library', newLibrary);\n\n            await Promise.all(\n                loadedBooks\n                    .filter(({ cover }) => !!cover)\n                    .map(({ id, cover }) =>\n                        localforage.setItem(`${id}_cover`, cover)\n                    )\n            );\n\n            setLibrary([\n                ...library,\n                ...loadedBooks.map(({ info, coverUrl }) => ({\n                    ...info,\n                    cover: coverUrl,\n                })),\n            ]);\n        },\n        [library]\n    );\n\n    const deleteBooks = useCallback(\n        async (ids: string[]) => {\n            const newLibrary = [];\n\n            const promiseArray = [];\n            for (const bookInfo of library) {\n                if (ids.includes(bookInfo.id)) {\n                    if (bookInfo.cover) {\n                        promiseArray.push(\n                            localforage.removeItem(`${bookInfo.id}_cover`)\n                        );\n                    }\n                    promiseArray.push(localforage.removeItem(bookInfo.id));\n\n                    localStorage.removeItem(bookInfo.id);\n                } else {\n                    newLibrary.push(bookInfo);\n                }\n            }\n\n            promiseArray.push(localforage.setItem('library', newLibrary));\n\n            await Promise.all(promiseArray as Promise<any>[]);\n            setLibrary((prev) => prev.filter((v) => !ids.includes(v.id)));\n        },\n        [library]\n    );\n\n    const getBook = useCallback(\n        async (id: string) => {\n            const words = (await localforage.getItem<string[]>(id)) || [];\n            const info = library!.find((item) => item.id === id)!;\n            return {\n                info,\n                words,\n            };\n        },\n        [library]\n    );\n\n    if (isLoading) {\n        return null;\n    }\n\n    return (\n        <Provider\n            value={{\n                library,\n\n                loadBooks,\n                deleteBooks,\n\n                getBook,\n            }}\n        >\n            {children}\n        </Provider>\n    );\n};\n\nexport { useLibraryContext };\n\nexport default LibraryProvider;\n","import createCtx from '../../utils/context';\nimport { useCallback, useEffect, useState } from 'react';\n\ninterface IReadingStatsProviderProps {\n    children: React.ReactNode;\n}\n\ninterface IReadingStatsContext {\n    getStats: (id: string) => IBookStat;\n    setStats: <K extends keyof IBookStat>(\n        id: string,\n        key: K,\n        value: IBookStat[K]\n    ) => IBookStat;\n}\n\nexport interface IBookStat {\n    index: number;\n}\n\nconst [useReadingStatsContext, Provider] = createCtx<IReadingStatsContext>();\n\nconst ReadingStatsProvider = ({ children }: IReadingStatsProviderProps) => {\n    const getStats = useCallback((id: string) => {\n        const stringStats = localStorage.getItem(id);\n        if (stringStats) {\n            return JSON.parse(stringStats);\n        }\n        return {\n            index: 0,\n        };\n    }, []);\n    const setStats = useCallback(\n        <K extends keyof IBookStat>(\n            id: string,\n            key: K,\n            value: IBookStat[K]\n        ) => {\n            let currentStats = {\n                index: 0,\n            };\n\n            const stringStats = localStorage.getItem(id);\n            if (stringStats) {\n                currentStats = JSON.parse(stringStats);\n            }\n            currentStats[key] = value;\n            localStorage.setItem(id, JSON.stringify(currentStats));\n\n            return currentStats;\n        },\n        []\n    );\n\n    return (\n        <Provider\n            value={{\n                getStats,\n                setStats,\n            }}\n        >\n            {children}\n        </Provider>\n    );\n};\n\nfunction useReadingStats(id: string) {\n    const { getStats, setStats: set } = useReadingStatsContext();\n    const [stats, setStatsState] = useState<IBookStat>(getStats(id));\n    const setStats = useCallback(\n        <K extends keyof IBookStat>(\n            id: string,\n            key: K,\n            value: IBookStat[K]\n        ) => {\n            setStatsState(set(id, key, value));\n        },\n        [set]\n    );\n    useEffect(() => {\n        setStatsState(getStats(id));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [id]);\n    return { stats, setStats };\n}\n\nexport { useReadingStatsContext, useReadingStats };\n\nexport default ReadingStatsProvider;\n","export default __webpack_public_path__ + \"static/media/logo.0f006855.png\";","import LogoIconSrc from 'assets/logo.png';\n\nimport styles from './styles.module.scss';\n\ninterface ILoadingScreenProps {}\n\n// eslint-disable-next-line no-empty-pattern\nconst LoadingScreen = ({}: ILoadingScreenProps) => {\n    return (\n        <div\n            className={styles.container}\n            style={{\n                backgroundImage: `url(${LogoIconSrc})`,\n            }}\n        ></div>\n    );\n};\n\nexport default LoadingScreen;\n","import { useEffect, useState } from 'react';\n\nfunction useRootDimension() {\n    const [dimensions, setDimensions] = useState(() => {\n        const rootNode = document.getElementById('root');\n        if (rootNode) {\n            const { width, height } = rootNode.getBoundingClientRect();\n            return { width, height };\n        }\n    });\n\n    useEffect(() => {\n        const rootNode = document.getElementById('root');\n\n        if (rootNode) {\n            const callback = (entries: ResizeObserverEntry[]) => {\n                if (entries.length > 0) {\n                    const { width, height } = entries[0].contentRect;\n                    setDimensions({ width, height });\n                }\n            };\n            const observer = new ResizeObserver(callback);\n            observer.observe(rootNode, { box: 'content-box' });\n        }\n    }, []);\n\n    if (!dimensions) {\n        return null;\n    }\n\n    return dimensions;\n}\n\nexport default useRootDimension;\n","import { HashRouter as Router } from 'react-router-dom';\nimport SettingsProvider from './Settings';\nimport StorageProvider from './Library';\nimport ReadingStatsProvider from './ReadingStats';\n\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport LoadingScreen from 'components/LoadingScreen';\nimport useRootDimension from 'hooks/useRootDimensions';\n\ninterface IProvidersProps {\n    children: React.ReactNode;\n}\n\nconst Providers = ({ children }: IProvidersProps) => {\n    const [loaded, setLoaded] = useState(false);\n    useEffect(() => {\n        Promise.all([\n            (document as any).fonts.load('16px Liberation Mono'),\n            (document as any).fonts.load('32px SFMono'),\n        ]).then(() => {\n            setLoaded(true);\n        });\n    }, []);\n\n    const dimensions = useRootDimension();\n    if (!dimensions) {\n        return null;\n    }\n\n    return (\n        <Router>\n            <SettingsProvider dimensions={dimensions}>\n                <ReadingStatsProvider>\n                    <StorageProvider>\n                        {!loaded && <LoadingScreen />}\n                        {loaded && children}\n                    </StorageProvider>\n                </ReadingStatsProvider>\n            </SettingsProvider>\n        </Router>\n    );\n};\n\nexport default Providers;\n","import { useEffect } from \"react\";\n\nfunction useBackgroundColor(color: string) {\n    useEffect(() => {\n        document.documentElement.style.backgroundColor = color;\n        document.body.style.backgroundColor = color;\n    }, [color]);\n}\n\nexport default useBackgroundColor;","import { RefObject, useCallback, useEffect, useState } from 'react';\n\n// See: https://usehooks-typescript.com/react-hook/use-event-listener\n// import useEventListener from './useEventListener';\n\ninterface Size {\n    width: number;\n    height: number;\n}\n\nfunction useElementSize<T extends HTMLElement = HTMLDivElement>(\n    elementRef: RefObject<T>\n): Size {\n    const [size, setSize] = useState<Size>({\n        width: 0,\n        height: 0,\n    });\n\n    // Prevent too many rendering using useCallback\n    const updateSize = useCallback(() => {\n        const node = elementRef?.current;\n        if (node) {\n            setSize({\n                width: node.offsetWidth || 0,\n                height: node.offsetHeight || 0,\n            });\n        }\n    }, [elementRef]);\n\n    // Initial size on mount\n    useEffect(() => {\n        const node = elementRef?.current;\n        if (node) {\n            const observer = new ResizeObserver(updateSize);\n            observer.observe(node, { box: 'content-box' });\n            updateSize();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(() => {}, []);\n\n    return size;\n}\n\nexport default useElementSize;\n","\nimport createCtx from 'utils/context';\n\ninterface IBookReaderContext {\n    words: string[];\n    rows: Array<{\n        index: number;\n        startIndex: number;\n        endIndex: number;\n    }>;\n    currentIndex: number;\n    onRowClick: (row: number, col: number) => void;\n}\n\nconst [useBookRendererContext, Provider] = createCtx<IBookReaderContext>();\n\nexport {\n    useBookRendererContext,\n}\n\nexport default Provider;","\nimport cn from 'classnames';\nimport { useBookRendererContext } from './context';\nimport styles from './styles.module.scss';\n\ninterface IListItemProps {\n    style: React.CSSProperties;\n    index: number;\n}\n\nconst ListItem = ({ style, index }: IListItemProps) => {\n\n    const { words, rows, currentIndex, onRowClick } = useBookRendererContext();\n\n    let rowIndex = -1;\n    let colIndex = -1;\n\n    if (!rows[index + 1] || currentIndex < rows[index + 1].index) {\n        rowIndex = index;\n        colIndex = currentIndex - rows[index].index;\n    }\n\n    const row = words.slice(rows[index].startIndex, rows[index].endIndex);\n\n    return (\n        <div className={styles.item} style={style}>\n            <div className={styles.row}>\n                {row.map((item, wordIndex) => (\n                    <span\n                        key={(index + 1) * wordIndex}\n                        onClick={() => onRowClick(index, wordIndex)}\n                        className={cn({\n                            [styles.selected]:\n                                index === rowIndex &&\n                                wordIndex === colIndex,\n                        })}\n                    >\n                        {' ' + item + ' '}\n                    </span>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default ListItem;","import { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { FixedSizeList as List } from 'react-window';\n\nimport useElementSize from 'hooks/useElementSize';\n\nimport Provider from './context';\n\nimport { IFontInfo } from 'types/fontInfo';\n\nimport styles from './styles.module.scss';\nimport ListItem from './ListItem';\n\ninterface IBookRenderProps {\n    mode: 'view' | 'play' | 'pause';\n    words: string[];\n    width: number;\n    currentIndex: number;\n    onCurrentIndexChange?: (index: number) => void;\n    maxCharsPerRow: number;\n    fontInfo: IFontInfo;\n}\n\nfunction wrapText(words: string[], maxWidth: number) {\n    if (maxWidth === 0) {\n        return [];\n    }\n\n    const rows = [];\n    let index = 0;\n\n    let bufferLength = 0;\n\n    let i = 0;\n    let startIndex = 0;\n    let l = words.length;\n    while (i < l) {\n        const currWordLength = words[i].length;\n        if (bufferLength + currWordLength > maxWidth) {\n            rows.push({\n                index,\n                startIndex: startIndex,\n                endIndex: i,\n            });\n            index += i - startIndex;\n            bufferLength = 0;\n            startIndex = i;\n        }\n        bufferLength += currWordLength + 1;\n        ++i;\n    }\n\n    return rows;\n}\n\nconst BookRender = ({\n    mode,\n    words,\n    width,\n    currentIndex,\n    onCurrentIndexChange,\n    maxCharsPerRow,\n    fontInfo,\n}: IBookRenderProps) => {\n    const ref = useRef<HTMLDivElement>(null);\n    const listRef = useRef<List>(null);\n    const { height } = useElementSize(ref);\n\n    const rows = useMemo(() => wrapText(words, maxCharsPerRow), [\n        words,\n        maxCharsPerRow,\n    ]);\n\n    useEffect(() => {\n        if (listRef.current) {\n            let rowIndex = -1;\n            for (let i = 0; i < rows.length; i++) {\n                if (currentIndex < rows[i].index) {\n                    rowIndex = i === 0 ? 0 : i - 1;\n                    break;\n                }\n            }\n            if (rowIndex !== -1) {\n                listRef.current.scrollToItem(rowIndex, 'smart');\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [mode === 'view', rows]);\n\n    const onRowClick = useCallback(\n        (rowIndex: number, wordIndex) => {\n            onCurrentIndexChange?.(rows[rowIndex].index + wordIndex);\n        },\n        [onCurrentIndexChange, rows]\n    );\n\n    const contextValue = useMemo(\n        () => ({\n            words,\n            rows,\n            currentIndex,\n            onRowClick,\n        }),\n        [words, rows, currentIndex, onRowClick]\n    );\n\n    if (mode !== 'view') {\n        return null;\n    }\n\n    return (\n        <div\n            ref={ref}\n            className={styles.container}\n            style={{\n                fontFamily: fontInfo.fontFamily,\n                fontSize: fontInfo.fontSize,\n            }}\n        >\n            <Provider value={contextValue}>\n                <List\n                    ref={listRef}\n                    height={height}\n                    width={width}\n                    itemSize={20}\n                    itemCount={rows.length}\n                    className={styles.list}\n                    overscanCount={20}\n                >\n                    {ListItem}\n                </List>\n            </Provider>\n        </div>\n    );\n};\n\nexport default BookRender;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlaySolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 32,\n    viewBox: \"0 0 28 32\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.5257 13.4162L4.52513 0.41048C2.73758 -0.645727 0 0.379231 0 2.99162V28.9968C0 31.3405 2.54382 32.7529 4.52513 31.578L26.5257 18.5785C28.4883 17.4223 28.4945 14.5724 26.5257 13.4162Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlaySolid);\nexport default __webpack_public_path__ + \"static/media/play-solid.cc9e27a6.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPauseSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 27,\n    height: 36,\n    viewBox: \"0 0 27 36\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.50006 36H2.50006C0.370593 36 0 34.2723 0 32.1429V3.85715C0 1.72769 0.370593 7.62939e-06 2.50006 7.62939e-06H7.50006C9.62952 7.62939e-06 10.0001 1.72769 10.0001 3.85715V32.1429C10.0001 34.2723 9.62952 36 7.50006 36Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5001 36H19.5001C17.3706 36 17 34.2723 17 32.1429V3.85714C17 1.72768 17.3706 0 19.5001 0H24.5001C26.6295 0 27.0001 1.72768 27.0001 3.85714V32.1429C27.0001 34.2723 26.6295 36 24.5001 36Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPauseSolid);\nexport default __webpack_public_path__ + \"static/media/pause-solid.be1337ee.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 4,\n    viewBox: \"0 0 24 4\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.2857 0H1.71429C0.767679 0 0 0.597083 0 1.33333V2.66667C0 3.40292 0.767679 4 1.71429 4H22.2857C23.2323 4 24 3.40292 24 2.66667V1.33333C24 0.597083 23.2323 0 22.2857 0Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusSolid);\nexport default __webpack_public_path__ + \"static/media/minus-solid.8d8a2b64.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.2857 10H13.5V1.71429C13.5 0.767679 13.8038 0 12.8571 0H11.1429C10.1963 0 10.5 0.767679 10.5 1.71429V10H1.71429C0.767679 10 0 10.1963 0 11.1429V12C0 12.9466 0.553393 13 1.5 13H10.5V22C10.5 22.9466 10.1963 24 11.1429 24H12.8571C13.8038 24 13.5 22.9466 13.5 22V13H22.2857C23.2323 13 24 12.9466 24 12V11C24 10.0534 23.2323 10 22.2857 10Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSolid);\nexport default __webpack_public_path__ + \"static/media/plus-solid.80e09eda.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHistoryBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24 11.9773C24.0122 18.589 18.6203 23.9954 12.0087 24C9.15314 24.002 6.53017 23.0066 4.46893 21.343C3.93295 20.9104 3.89288 20.1072 4.37995 19.6201L4.92512 19.0749C5.34169 18.6583 6.00672 18.6128 6.46824 18.9789C7.98686 20.184 9.90875 20.9033 12 20.9033C16.9212 20.9033 20.9032 16.9205 20.9032 12C20.9032 7.0788 16.9204 3.09678 12 3.09678C9.63802 3.09678 7.49278 4.01464 5.89993 5.51285L8.35577 7.96869C8.84351 8.45644 8.49807 9.29034 7.80836 9.29034H0.774193C0.346596 9.29034 0 8.94374 0 8.51614V1.48195C0 0.792243 0.833902 0.446807 1.32164 0.934502L3.71061 3.32347C5.86495 1.26465 8.78477 0 12 0C18.6198 0 23.9877 5.36033 24 11.9773Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.48407 16.1161V11.2761C9.48407 11.1628 9.48407 11.0428 9.48407 10.9161C9.49074 10.7828 9.4974 10.6461 9.50407 10.5061C9.2774 10.7261 9.01407 10.9195 8.71407 11.0861C8.41407 11.2461 8.1074 11.3628 7.79407 11.4361L7.58407 10.7061C7.70407 10.6928 7.85407 10.6495 8.03407 10.5761C8.22074 10.4961 8.41407 10.3995 8.61407 10.2861C8.82074 10.1661 9.01074 10.0395 9.18407 9.90614C9.3574 9.77281 9.49074 9.64281 9.58407 9.51614H10.2841V16.1161H9.48407ZM14.1706 16.2161C13.5839 16.2161 13.1106 16.0828 12.7506 15.8161C12.3972 15.5495 12.1239 15.1795 11.9306 14.7061L12.7106 14.2961C12.8172 14.6428 12.9806 14.9261 13.2006 15.1461C13.4272 15.3595 13.7572 15.4661 14.1906 15.4661C14.6439 15.4661 15.0006 15.3428 15.2606 15.0961C15.5272 14.8428 15.6606 14.4961 15.6606 14.0561C15.6606 13.5895 15.5372 13.2361 15.2906 12.9961C15.0506 12.7561 14.7072 12.6361 14.2606 12.6361C13.9406 12.6361 13.6539 12.6861 13.4006 12.7861C13.1472 12.8861 12.9439 13.0495 12.7906 13.2761L12.0906 13.1461L12.4806 9.51614H16.1906V10.2661H13.1606L12.9006 12.3461L12.8806 12.4361H12.9006C13.0606 12.2695 13.2639 12.1361 13.5106 12.0361C13.7639 11.9361 14.0639 11.8861 14.4106 11.8861C14.8306 11.8861 15.1939 11.9761 15.5006 12.1561C15.8139 12.3295 16.0572 12.5761 16.2306 12.8961C16.4039 13.2161 16.4906 13.5895 16.4906 14.0161C16.4906 14.4695 16.3906 14.8628 16.1906 15.1961C15.9972 15.5228 15.7272 15.7761 15.3806 15.9561C15.0339 16.1295 14.6306 16.2161 14.1706 16.2161Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHistoryBack);\nexport default __webpack_public_path__ + \"static/media/history-back.ed5c5e47.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHistoryForward(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.28882e-05 11.9773C-0.012219 18.589 5.3797 23.9954 11.9913 24C14.8469 24.002 17.4698 23.0066 19.5311 21.343C20.0671 20.9104 20.1071 20.1072 19.6201 19.6201L19.0749 19.0749C18.6583 18.6583 17.9933 18.6128 17.5318 18.9789C16.0131 20.184 14.0913 20.9033 12 20.9033C7.07881 20.9033 3.09679 16.9205 3.09679 12C3.09679 7.0788 7.07958 3.09678 12 3.09678C14.362 3.09678 16.5072 4.01464 18.1001 5.51285L15.6442 7.96869C15.1565 8.45644 15.5019 9.29034 16.1916 9.29034H23.2258C23.6534 9.29034 24 8.94374 24 8.51614V1.48195C24 0.792243 23.1661 0.446807 22.6784 0.934502L20.2894 3.32347C18.1351 1.26465 15.2152 0 12 0C5.38018 0 0.0122648 5.36033 2.28882e-05 11.9773Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.39957 16.4V11.56C8.39957 11.4467 8.39957 11.3267 8.39957 11.2C8.40623 11.0667 8.4129 10.93 8.41957 10.79C8.1929 11.01 7.92958 11.2033 7.62958 11.37C7.32958 11.53 7.02291 11.6467 6.70958 11.72L6.49957 10.99C6.61957 10.9767 6.76957 10.9333 6.94957 10.86C7.13624 10.78 7.32957 10.6833 7.52957 10.57C7.73624 10.45 7.92625 10.3233 8.09958 10.19C8.27291 10.0567 8.40624 9.92667 8.49957 9.8H9.19957V16.4H8.39957ZM13.0861 16.5C12.4994 16.5 12.0261 16.3667 11.6661 16.1C11.3127 15.8333 11.0394 15.4633 10.8461 14.99L11.6261 14.58C11.7327 14.9267 11.8961 15.21 12.1161 15.43C12.3427 15.6433 12.6727 15.75 13.1061 15.75C13.5594 15.75 13.9161 15.6267 14.1761 15.38C14.4427 15.1267 14.576 14.78 14.576 14.34C14.576 13.8733 14.4527 13.52 14.2061 13.28C13.9661 13.04 13.6227 12.92 13.1761 12.92C12.8561 12.92 12.5694 12.97 12.3161 13.07C12.0627 13.17 11.8594 13.3333 11.7061 13.56L11.0061 13.43L11.3961 9.8H15.1061V10.55H12.076L11.8161 12.63L11.7961 12.72H11.8161C11.9761 12.5533 12.1794 12.42 12.4261 12.32C12.6794 12.22 12.9794 12.17 13.3261 12.17C13.7461 12.17 14.1094 12.26 14.4161 12.44C14.7294 12.6133 14.9727 12.86 15.1461 13.18C15.3194 13.5 15.4061 13.8733 15.4061 14.3C15.4061 14.7533 15.3061 15.1467 15.1061 15.48C14.9127 15.8067 14.6427 16.06 14.2961 16.24C13.9494 16.4133 13.5461 16.5 13.0861 16.5Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHistoryForward);\nexport default __webpack_public_path__ + \"static/media/history-forward.855ae46d.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAngleLeftSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 11,\n    height: 20,\n    viewBox: \"0 0 11 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.62132 0.424532C9.16548 -0.141511 10.0477 -0.141511 10.5919 0.424532C11.136 0.990575 11.136 1.90831 10.5919 2.47436L2.37868 11.0179C1.83453 11.584 0.952275 11.584 0.408119 11.0179C-0.136036 10.4519 -0.136036 9.53414 0.408119 8.96809L8.62132 0.424532Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.408117 11.0319C-0.136039 10.4659 -0.136039 9.54813 0.408117 8.98208C0.952272 8.41604 1.83452 8.41604 2.37868 8.98208L10.5919 17.5256C11.136 18.0917 11.136 19.0094 10.5919 19.5755C10.0477 20.1415 9.16548 20.1415 8.62132 19.5755L0.408117 11.0319Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleLeftSolid);\nexport default __webpack_public_path__ + \"static/media/angle-left-solid.84f195c2.svg\";\nexport { ForwardRef as ReactComponent };","import { memo } from 'react';\nimport cn from 'classnames';\n\nimport { ReactComponent as PlayIcon } from 'assets/icons/play-solid.svg';\nimport { ReactComponent as PauseIcon } from 'assets/icons/pause-solid.svg';\nimport { ReactComponent as MinusIcon } from 'assets/icons/minus-solid.svg';\nimport { ReactComponent as PlusIcon } from 'assets/icons/plus-solid.svg';\n\nimport { ReactComponent as HistoryBackIcon } from 'assets/icons/history-back.svg';\nimport { ReactComponent as HistoryForwardIcon } from 'assets/icons/history-forward.svg';\n\nimport styles from './styles.module.scss';\n\ninterface IReaderControlsProps {\n    mode: 'view' | 'play' | 'pause';\n    hidden: boolean;\n    wordsPerMinute: number;\n    onPlay: () => void;\n    onPause: () => void;\n    onSpeedUp: () => void;\n    onSpeedDown: () => void;\n    onHistoryGoBack: () => void;\n    onHistoryGoForward: () => void;\n}\n\nconst ReaderControls = ({\n    mode,\n    hidden,\n    wordsPerMinute,\n    onPlay,\n    onPause,\n    onSpeedUp,\n    onSpeedDown,\n    onHistoryGoBack,\n    onHistoryGoForward,\n}: IReaderControlsProps) => {\n    return (\n        <div\n            className={cn(styles.container, {\n                [styles.hidden]: hidden,\n            })}\n            onClick={(e) => e.stopPropagation()}\n        >\n            <div className={styles.middle}>\n                <div className={styles.button} onClick={onSpeedDown}>\n                    <MinusIcon />\n                </div>\n                <div\n                    className={styles.button}\n                    onClick={mode === 'play' ? onPause : onPlay}\n                >\n                    {mode === 'play' ? <PauseIcon /> : <PlayIcon />}\n                </div>\n                <div className={styles.button} onClick={onSpeedUp}>\n                    <PlusIcon />\n                </div>\n            </div>\n            <div className={styles.bottom}>\n                <div className={styles.button} onClick={onHistoryGoBack}>\n                    <HistoryBackIcon />\n                </div>\n                <div className={styles.wpm}>\n                    <div>{wordsPerMinute || 420}</div>\n                    <div className={styles.label}>wpm</div>\n                </div>\n                <div className={styles.button} onClick={onHistoryGoForward}>\n                    <HistoryForwardIcon />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default memo(ReaderControls);\n","\nconst clamp = (min: number, value: number, max: number) => {\n    return Math.max(min, Math.min(value, max));\n}\n\nexport default clamp;","\nconst timestampToHumanTime = (timestamp: number) => {\n\n    const temp = Math.floor(timestamp / 1000);\n\n    let string = '';\n\n    const days = Math.floor((temp % 31536000) / 86400);\n    if(days) {\n        string += `${days}d `;\n    }\n    const hours = Math.floor((temp % 86400) / 3600);\n    if(hours) {\n        string += `${hours}h `;\n    }\n    const minutes = Math.floor((temp % 3600) / 60);\n    if(minutes) {\n        string += `${minutes}m `;\n    }\n    const seconds = temp % 60;\n    if(seconds) {\n        string += `${seconds}s`;\n    }\n\n    if(string === '') {\n        return '0';\n    }\n\n    return string;\n}\n\nexport {\n    timestampToHumanTime\n};","import cn from 'classnames';\nimport { useSettings } from 'providers/Settings';\n\nimport clamp from 'utils/clamp';\nimport { timestampToHumanTime } from 'utils/time';\nimport styles from './styles.module.scss';\n\ninterface IReaderStatusBarProps {\n    mode: 'view' | 'play' | 'pause';\n    hidden: boolean;\n    totalWords: number;\n    currentWord: number;\n}\n\ninterface IReaderStatusBarStyleProps extends React.CSSProperties {\n    '--position': string;\n}\n\nconst ReaderStatusBar = ({\n    mode,\n    hidden,\n    totalWords,\n    currentWord,\n}: IReaderStatusBarProps) => {\n    const {\n        settings: { wordsPerMinute },\n    } = useSettings();\n\n    const timeToRead =\n        Math.floor((totalWords - currentWord) / (wordsPerMinute / 60)) * 1000;\n\n    const position = (100 / totalWords) * currentWord;\n    const wordsLeft = totalWords - currentWord;\n\n    return (\n        <div className={cn(styles.container, { [styles.hidden]: hidden, [styles.playing]: mode !== 'view' })}>\n            <div\n                className={styles.statusBar}\n                style={\n                    {\n                        '--position': `${clamp(0, position, 100)}%`,\n                    } as IReaderStatusBarStyleProps\n                }\n            />\n            <div className={styles.bottomBar}>\n                <span className={styles.timeLeft}>\n                    {timestampToHumanTime(timeToRead)}\n                </span>\n                <span className={styles.wordsLeft}>\n                    {wordsLeft} word{wordsLeft > 1 ? 's' : ''} left\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default ReaderStatusBar;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFontIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.0293 15.4023H3.85938L2.92285 18H1.56934L5.37012 8.04688H6.51855L10.3262 18H8.97949L8.0293 15.4023ZM4.25586 14.3223H7.63965L5.94434 9.66699L4.25586 14.3223ZM18.8779 15.3633H14.2549L13.376 18H10.5723L15.3359 5.20312H17.7793L22.5693 18H19.7656L18.8779 15.3633ZM14.9668 13.2275H18.166L16.5576 8.4375L14.9668 13.2275Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFontIcon);\nexport default __webpack_public_path__ + \"static/media/font-icon.30836609.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTextIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.8965 6.38867H6.7832V17.7969H5.10449V6.38867H1V5H10.8965V6.38867Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.0605 11.7588L15.1699 8.28711H17.0684L13.957 12.9893L17.165 17.7969H15.2842L13.0869 14.2373L10.8896 17.7969H9L12.208 12.9893L9.09668 8.28711H10.9775L13.0605 11.7588Z\",\n    fill: \"#BC0B05\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.3574 6V8.30273H23.1328V9.55957H21.3574V15.457C21.3574 15.8379 21.4365 16.125 21.5947 16.3184C21.7529 16.5059 22.0225 16.5996 22.4033 16.5996C22.5908 16.5996 22.8486 16.5645 23.1768 16.4941V17.8125C22.749 17.9297 22.333 17.9883 21.9287 17.9883C21.2021 17.9883 20.6543 17.7686 20.2852 17.3291C19.916 16.8896 19.7314 16.2656 19.7314 15.457V9.55957H18V8.30273H19.7314V6H21.3574Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTextIcon);\nexport default __webpack_public_path__ + \"static/media/text-icon.f641e15e.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGuidelineIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 6H21\",\n    stroke: \"black\",\n    strokeWidth: 1.5,\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 6V10\",\n    stroke: \"black\",\n    strokeWidth: 1.5,\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 18H21\",\n    stroke: \"black\",\n    strokeWidth: 1.5,\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 18V14\",\n    stroke: \"black\",\n    strokeWidth: 1.5,\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGuidelineIcon);\nexport default __webpack_public_path__ + \"static/media/guideline-icon.90db1a68.svg\";\nexport { ForwardRef as ReactComponent };","import { memo } from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\nimport { ReactComponent as AngleLeftIcon } from 'assets/icons/angle-left-solid.svg';\nimport { ReactComponent as FontIcon } from 'assets/icons/font-icon.svg';\nimport { ReactComponent as TextIcon } from 'assets/icons/text-icon.svg';\nimport { ReactComponent as GuidelineIcon } from 'assets/icons/guideline-icon.svg';\n\ninterface IReaderHeaderProps {\n    title: string;\n    mode: 'view' | 'play' | 'pause';\n    hidden: boolean;\n    onBackButton: () => void;\n    onChangeFont: () => void;\n    onSetORP: () => void;\n    onSetORPGuidelines: () => void;\n}\n\nconst ReaderHeader = ({\n    title,\n    mode,\n    hidden,\n    onBackButton,\n    onChangeFont,\n    onSetORP,\n    onSetORPGuidelines,\n}: IReaderHeaderProps) => {\n    return (\n        <div\n            className={cn(styles.container, {\n                [styles.hidden]: hidden,\n            })}\n            onClick={(e) => e.stopPropagation()}\n        >\n            <div className={styles.backButton} onClick={onBackButton}>\n                <AngleLeftIcon />\n            </div>\n            {mode === 'view' && <span className={styles.title}>{title}</span>}\n            <div className={styles.buttons}>\n                {mode !== 'view' && (\n                    <>\n                        <div\n                            className={cn(styles.button)}\n                            onClick={onChangeFont}\n                        >\n                            <FontIcon />\n                        </div>\n                        <div className={cn(styles.button)} onClick={onSetORP}>\n                            <TextIcon />\n                        </div>\n                        <div\n                            className={cn(styles.button)}\n                            onClick={onSetORPGuidelines}\n                        >\n                            <GuidelineIcon />\n                        </div>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default memo(ReaderHeader);\n","import { useEffect, useState } from 'react';\n\n/** Milliseconds representing forever in the future. */\nconst never = Number.MAX_SAFE_INTEGER;\n\nfunction useAccurateTimer(\n    isPlaying: boolean,\n    delay: number,\n    callback: () => void | number\n) {\n    const now = new Date().getTime();\n    // This is used to trigger a render that checks to fire the timer\n    const [, setCheckTime] = useState(now);\n    const [nextFireTime, setNextFireTime] = useState(never);\n\n    useEffect(() => {\n        if (isPlaying) {\n            const currentTime = new Date().getTime() + delay;\n            const newNextFireTime = delay\n                ? Math.max(currentTime, currentTime)\n                : never;\n            setNextFireTime(newNextFireTime);\n        } else {\n            setNextFireTime(never);\n        }\n    }, [isPlaying, delay]);\n\n    useEffect(() => {\n        let timeout: NodeJS.Timeout;\n\n        // If it's a timer and it isn't paused...\n        if (delay && isPlaying) {\n            // Check if we're overdue on any events being fired (super low delay or expensive callback)\n            const overdueCalls = Math.max(\n                0,\n                Math.floor((now - nextFireTime) / delay)\n            );\n            // If we're overdue, this means we're not firing callbacks fast enough and need to prevent\n            // exceeding the maximum update depth.\n            // To do this, we only fire the callback on an even number of overdues (including 0, no overdues).\n            // Else, we wait a little, then try again.\n            if (overdueCalls % 2 !== 1) {\n                // If the timer is up...\n                if (now >= nextFireTime) {\n                    let userDelay = 0;\n                    // Call the callback\n                    if (typeof callback === 'function') {\n                        try {\n                            userDelay = callback() || 0;\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    }\n                    // Calculate and set the next time the timer should fire\n                    const overdueElapsedTime = overdueCalls * delay;\n                    const newFireTime = Math.max(\n                        now,\n                        nextFireTime + delay + overdueElapsedTime + userDelay\n                    );\n                    setNextFireTime(newFireTime);\n                    // Set a timeout to check and fire the timer when time's up\n                    timeout = setTimeout(() => {\n                        // This merely triggers a rerender to check if the timer can fire.\n                        setCheckTime(new Date().getTime());\n                    }, Math.max(newFireTime - new Date().getTime(), 1));\n                }\n                // Time is not up yet. Set a timeout to check and fire when time's up\n                else if (nextFireTime < never) {\n                    timeout = setTimeout(() => {\n                        // This merely triggers a rerender to check if the timer can fire.\n                        setCheckTime(new Date().getTime());\n                        // Home in on the exact time to fire.\n                    }, Math.max(nextFireTime - new Date().getTime(), 1));\n                }\n            } else {\n                // Relief valve to avoid maximum update depth exceeded errors.\n                // When calls become overdue, there's too expensive of a callback or too low of a delay to keep up.\n                // In both cases, the React max update stack will be exceeded due to repeated firings.\n                // To relieve this, don't check to fire this time around, but check again in a short time.\n                timeout = setTimeout(() => {\n                    setCheckTime(new Date().getTime());\n                }, 20);\n            }\n        }\n\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [now, nextFireTime, isPlaying, delay, callback]);\n}\n\nexport default useAccurateTimer;\n","import cn from 'classnames';\nimport { useEffect, useRef, useState } from 'react';\nimport { IFontInfo } from 'types/fontInfo';\nimport styles from './styles.module.scss';\n\ninterface IORPRenderProps {\n    fontInfo: IFontInfo;\n    word: string;\n    width: number;\n    // orpPoint: number;\n    highlight: boolean;\n    guideline: boolean;\n}\n\ninterface IContainerCSSProperties extends React.CSSProperties {\n    '--orpPos': string;\n}\n\nconst getOrpPos = (length: number) => {\n    return length === 1 ? 1 : Math.ceil((length - 1) / 4) + 1;\n};\n\nclass CharMeasurer {\n    private ctx: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D;\n    private templateChars =\n        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz1234567890~!@#$%^&*()_+={}:\\'\"\\\\,./<>?';\n    private chars: Map<string, number> = new Map();\n    constructor(fontInfo: IFontInfo) {\n        if ('OffscreenCanvas' in globalThis) {\n            this.ctx = new OffscreenCanvas(1, 1).getContext('2d')!;\n        } else {\n            this.ctx = document.createElement('canvas').getContext('2d')!;\n        }\n        this.ctx.font = `${fontInfo.fontSize}px ${fontInfo.fontFamily}`;\n        this.measureChars();\n    }\n    private measure(char: string) {\n        return this.ctx.measureText(char).width;\n    }\n    measureChars() {\n        this.chars = new Map(\n            this.templateChars.split('').map((v) => [v, this.measure(v)])\n        );\n    }\n    setFont(fontInfo: IFontInfo) {\n        this.ctx.font = `${fontInfo.fontSize}px ${fontInfo.fontFamily}`;\n        this.measureChars();\n    }\n    longestWidth() {\n        let maxWidth = 0;\n        this.chars.forEach((width, char) => {\n            if (width > maxWidth) {\n                // console.log(char)\n                maxWidth = width;\n            }\n        });\n        return maxWidth;\n    }\n    measureChar(char: string) {\n        let charWidth = this.chars.get(char);\n        if (!charWidth) {\n            charWidth = this.measure(char);\n            this.chars.set(char, charWidth);\n        }\n        return charWidth;\n    }\n}\n\nfunction useORPWord({\n    fontInfo,\n    word,\n    width,\n}: {\n    fontInfo: IFontInfo;\n    word: string;\n    width: number;\n}) {\n    const measureRef = useRef<CharMeasurer | null>(null);\n\n    useEffect(() => {\n        if (measureRef.current) {\n            measureRef.current.setFont(fontInfo);\n        }\n    }, [fontInfo]);\n\n    useEffect(() => {\n        measureRef.current = new CharMeasurer(fontInfo);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [{ orpPoint, maxOffset, maxWords }, set] = useState({\n        maxOffset: 0,\n        maxWords: 0,\n        orpPoint: 0,\n    });\n\n    useEffect(() => {\n        if (measureRef.current) {\n            const maxWords =\n                Math.floor((width || 0) / measureRef.current.longestWidth()) -\n                1;\n            const orpPos =\n                getOrpPos(maxWords) * measureRef.current.longestWidth() +\n                measureRef.current.longestWidth() / 2 -\n                2;\n            const maxOffset = getOrpPos(maxWords) + 1;\n\n            set({\n                maxOffset,\n                maxWords: maxWords - (maxOffset - getOrpPos(maxWords)),\n                orpPoint: orpPos,\n            });\n        }\n    }, [width]);\n\n    let r = word.trim().substr(0, maxWords);\n\n    const trimmedWord = r.replaceAll(/^[^a-z-\\d]*|[^a-z-\\d]*$/gi, '');\n    // const length = trimmedWord.split('').map(v => measurer.measureChar(v));\n    const orp = getOrpPos(trimmedWord.length);\n\n    const lpad = ''.padStart(maxOffset - orp, '\\u00A0');\n    const chars = [\n        <span key={1}>{lpad + r.substr(0, orp - 1)}</span>,\n        <span key={2}>{r[orp - 1]}</span>,\n        <span key={3}>{trimmedWord.length > 2 ? r.substr(orp) : ''}</span>,\n    ];\n\n    return { chars, orpPoint, maxOffset };\n}\n\nconst ORPRender = ({\n    fontInfo,\n    word,\n    width,\n    // orpPoint,\n    highlight,\n    guideline,\n}: IORPRenderProps) => {\n    const { chars, orpPoint } = useORPWord({\n        fontInfo,\n        word,\n        width,\n    });\n\n    return (\n        <div\n            className={cn(styles.container, {\n                [styles.highlight]: highlight,\n                [styles.guideline]: guideline,\n            })}\n            style={\n                {\n                    '--orpPos': `${orpPoint}px`,\n                    fontFamily: fontInfo.fontFamily,\n                    fontSize: `${fontInfo.fontSize}px`,\n                } as IContainerCSSProperties\n            }\n        >\n            {chars}\n        </div>\n    );\n};\n\nexport default ORPRender;\n","\nimport cn from 'classnames';\nimport { IFontInfo } from 'types/fontInfo';\nimport styles from './styles.module.scss';\n\ninterface IMiddlePointRenderProps {\n    fontInfo: IFontInfo;\n    word: string;\n    highlight: boolean;\n}\n\nconst breakWordToParts = (word: string) => {\n    if (word.length === 1 || word.length === 2) {\n        return ['', word, ''];\n    }\n    const middle = word.length / 2;\n    const even = middle % 2 === 0;\n    return [\n        word.substr(0, middle - (even ? 1 : 0)),\n        word.substr(middle - (even ? 1 : 0), even ? 2 : 1),\n        word.substr(middle + 1)\n    ]\n}\n\nconst MiddlePointRender = ({\n    fontInfo,\n    word,\n    highlight,\n}: IMiddlePointRenderProps) => {\n    return (\n        <div\n            className={cn(styles.container, {\n                [styles.highlight]: highlight,\n            })}\n            style={{\n                fontFamily: fontInfo.fontFamily,\n                fontSize: `${fontInfo.fontSize}px`,\n            }}\n        >\n            {breakWordToParts(word).map((part, index) => <span key={index}>{part}</span>)}\n        </div>\n    );\n}\n\nexport default MiddlePointRender;","import cn from 'classnames';\nimport clamp from 'utils/clamp';\nimport styles from './styles.module.scss';\n\ninterface IPreviousWordsProps {\n    mode: 'view' | 'play' | 'pause';\n    showPrevious: boolean;\n    words: string[];\n    currentIndex: number;\n}\n\nconst PreviousWords = ({\n    mode,\n    showPrevious,\n    words,\n    currentIndex,\n}: IPreviousWordsProps) => {\n    return (\n        <div\n            className={cn(styles.previous, {\n                [styles.show]: mode === 'pause' && showPrevious,\n            })}\n        >\n            {words\n                .slice(clamp(0, currentIndex - 50, words.length), currentIndex)\n                .join(' ')}\n        </div>\n    );\n};\n\nexport default PreviousWords;\n","import { memo, useCallback, useEffect, useRef, useState } from 'react';\nimport cn from 'classnames';\nimport useAccurateTimer from 'hooks/useAccurateTimer';\nimport clamp from 'utils/clamp';\nimport styles from './styles.module.scss';\nimport { useSettings } from 'providers/Settings';\nimport { IFontInfo } from 'types/fontInfo';\nimport ORPRender from './ORPRender';\nimport MiddlePointRender from './MiddlePointRender';\nimport PreviousWords from './PreviousWords';\n\ninterface IRSVPReaderProps {\n    fontInfo: IFontInfo;\n    width: number;\n    mode: 'view' | 'play' | 'pause';\n    words: string[];\n    initialIndex?: number;\n    onNextWord?: (index: number) => void;\n    showPreviousOnPause: boolean;\n}\n\ninterface IRSPVReaderState {\n    currentWord: string;\n    currentIndex: number;\n    hasNextWord: boolean;\n}\n\nfunction usePrevious(value: any) {\n    const ref = useRef();\n    useEffect(() => {\n        ref.current = value;\n    });\n    return ref.current;\n}\n\nconst RSVPReader = ({\n    fontInfo,\n    width,\n    mode,\n    words,\n    initialIndex = 0,\n    onNextWord,\n    showPreviousOnPause,\n}: IRSVPReaderProps) => {\n    const { settings } = useSettings();\n\n    const [\n        { currentWord, currentIndex, hasNextWord },\n        set,\n    ] = useState<IRSPVReaderState>({\n        currentWord: '',\n        currentIndex: 0,\n        hasNextWord: false,\n    });\n\n    useEffect(() => {\n        const wordCount = words.length;\n\n        const state = {\n            currentWord: '',\n            currentIndex: 0,\n            hasNextWord: false,\n        };\n\n        if (wordCount > 0) {\n            const initial = clamp(0, initialIndex || 0, wordCount);\n\n            const currentWord = words[initial];\n\n            if (currentWord) {\n                state.currentIndex = initial;\n                state.currentWord = currentWord;\n                state.hasNextWord = wordCount > initial;\n            }\n        }\n\n        set(state);\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [words, onNextWord]);\n\n    const prevMode = usePrevious(mode);\n    const prevInitialIndex = usePrevious(initialIndex);\n    useEffect(() => {\n        if ((prevMode === 'view' && mode !== 'view') || (mode !== 'view' && prevInitialIndex !== initialIndex)) {\n            const wordCount = words.length;\n\n            const state = {\n                currentWord: '',\n                currentIndex: 0,\n                hasNextWord: false,\n            };\n\n            if (wordCount > 0) {\n                const initial = clamp(0, initialIndex || 0, wordCount);\n\n                const currentWord = words[initial];\n\n                if (currentWord) {\n                    state.currentIndex = initial;\n                    state.currentWord = currentWord;\n                    state.hasNextWord = wordCount > initial;\n                }\n            }\n\n            set(state);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [initialIndex, prevMode, mode]);\n\n    useEffect(() => {\n        onNextWord?.(currentIndex);\n    }, [onNextWord, currentIndex]);\n\n    const onTick = useCallback(() => {\n        set((currState) => {\n            const newState = { ...currState };\n            const nextWord = words[currState.currentIndex + 1];\n            if (nextWord) {\n                newState.currentWord = nextWord;\n                newState.currentIndex++;\n                newState.hasNextWord = words.length > newState.currentIndex;\n            } else {\n                newState.hasNextWord = false;\n            }\n            return newState;\n        });\n    }, [words]);\n\n    const delay = (60 / settings.wordsPerMinute) * 1000;\n    useAccurateTimer(mode === 'play' && hasNextWord, delay, onTick);\n\n    if (mode === 'view') {\n        return null;\n    }\n\n    return (\n        <div\n            className={styles.container}\n            style={{\n                fontFamily: fontInfo.fontFamily,\n                fontSize: `${fontInfo.fontSize}px`,\n            }}\n        >\n            <PreviousWords\n                mode={mode}\n                showPrevious={showPreviousOnPause}\n                words={words}\n                currentIndex={currentIndex}\n            />\n            {settings.renderType === 'ORP' &&\n                <ORPRender\n                    word={currentWord}\n                    fontInfo={fontInfo}\n                    guideline={settings.ORPGuideLine}\n                    highlight={settings.ORP}\n                    width={width}\n                />\n            }\n            {settings.renderType === 'middle' &&\n                <MiddlePointRender\n                    fontInfo={fontInfo}\n                    word={currentWord}\n                    highlight={settings.ORP}\n                />\n            }\n        </div>\n    );\n};\n\nexport default memo(RSVPReader);\n","import cn from 'classnames';\nimport useBackgroundColor from 'hooks/useBackgroundColor';\nimport useElementSize from 'hooks/useElementSize';\nimport { useSettings } from 'providers/Settings';\nimport { useCallback, useMemo, useRef, useState } from 'react';\nimport { IBookInfo } from '../../providers/Library';\nimport { useReadingStats } from '../../providers/ReadingStats';\nimport BookRender from '../BookRender';\nimport ReaderControls from '../ReaderControls';\nimport ReaderStatusBar from '../ReaderStatusBar';\nimport ReaderHeader from '../ReaderHeader';\nimport RSVPReader from '../RSVPReader';\nimport styles from './styles.module.scss';\nimport clamp from 'utils/clamp';\n\ninterface IBookReaderProps {\n    info: IBookInfo;\n    words: string[];\n\n    onBack: () => void;\n}\n\nconst INCREMENT_VALUE = 20;\n\nfunction usePlayer() {\n    const [mode, setMode] = useState<'view' | 'play' | 'pause'>('view');\n\n    const play = useCallback(() => setMode('play'), []);\n    const pause = useCallback(() => setMode('pause'), []);\n    const toggle = useCallback(() => {\n        setMode((value) => {\n            if (value === 'play') {\n                return 'pause';\n            }\n            return 'play';\n        });\n    }, []);\n    const reset = useCallback(() => setMode('view'), []);\n\n    return {\n        mode,\n        play,\n        pause,\n        toggle,\n        reset,\n    };\n}\n\nconst BookReader = ({ info, words, onBack }: IBookReaderProps) => {\n    const {\n        settings,\n        readerFontInfo,\n        rsvpFontInfo,\n        fontWidth,\n        dimensions,\n        maxCharsPerRow,\n        set,\n    } = useSettings();\n\n    const { stats, setStats } = useReadingStats(info.id);\n    const [uiHidden, setUiHidden] = useState(false);\n\n    const { mode, play, pause, reset } = usePlayer();\n    useBackgroundColor(mode === 'view' ? '#FEFEFE' : '#edd1b0');\n\n    const onNextWord = useCallback(\n        (index: number) => setStats(info.id, 'index', index),\n        [info.id, setStats]\n    );\n\n    const onCurrentIndexChange = useCallback(\n        (index: number) => {\n            setStats(info.id, 'index', clamp(0, index, info.totalWords));\n        },\n        [info.id, info.totalWords, setStats]\n    );\n\n    const onHistoryGoBack = useCallback(\n        () => onCurrentIndexChange(stats.index - 15),\n        [onCurrentIndexChange, stats.index]\n    );\n    const onHistoryGoForward = useCallback(\n        () => onCurrentIndexChange(stats.index + 15),\n        [onCurrentIndexChange, stats.index]\n    );\n\n    // Header\n\n    const onBackButton = useCallback(() => {\n        if (mode === 'pause' || mode === 'play') {\n            reset();\n        } else {\n            onBack();\n        }\n    }, [mode, reset, onBack]);\n\n    const onChangeFont = useCallback(() => {\n        pause();\n    }, [pause]);\n    const onSetORP = useCallback(() => set('ORP', (v) => !v), [set]);\n    const onSetORPGuidelines = useCallback(\n        () => set('ORPGuideLine', (v) => !v),\n        [set]\n    );\n\n    // Controls\n\n    const onSpeedUp = useCallback(\n        () => set('wordsPerMinute', (prev) => prev + INCREMENT_VALUE),\n        [set]\n    );\n    const onSpeedDown = useCallback(\n        () => set('wordsPerMinute', (prev) => prev - INCREMENT_VALUE),\n        [set]\n    );\n\n    const onReaderClick = useCallback(() => {\n        if (mode === 'play' && uiHidden) {\n            setUiHidden(false);\n        } else if (mode === 'play' && !uiHidden) {\n            setUiHidden(true);\n        } else if (mode !== 'play' && uiHidden) {\n            setUiHidden(false);\n        }\n    }, [mode, uiHidden]);\n\n    return (\n        <div\n            className={cn(styles.container, {\n                [styles.playing]: mode !== 'view',\n            })}\n            onClick={onReaderClick}\n        >\n            <ReaderHeader\n                mode={mode}\n                hidden={uiHidden}\n                title={info.title}\n                onBackButton={onBackButton}\n                onChangeFont={onChangeFont}\n                onSetORP={onSetORP}\n                onSetORPGuidelines={onSetORPGuidelines}\n            />\n            <div className={styles.content}>\n                <div className={styles.reader}>\n                    <RSVPReader\n                        fontInfo={rsvpFontInfo}\n                        width={dimensions.width - 80}\n                        mode={mode}\n                        words={words}\n                        initialIndex={stats.index}\n                        onNextWord={onNextWord}\n                        showPreviousOnPause={settings.showPreviousOnPause}\n                    />\n                    <BookRender\n                        fontInfo={readerFontInfo}\n                        width={dimensions.width}\n                        mode={mode}\n                        words={words}\n                        maxCharsPerRow={maxCharsPerRow}\n                        currentIndex={stats.index}\n                        onCurrentIndexChange={onCurrentIndexChange}\n                    />\n                </div>\n                <ReaderControls\n                    mode={mode}\n                    hidden={uiHidden}\n                    wordsPerMinute={settings.wordsPerMinute}\n                    onPlay={play}\n                    onPause={pause}\n                    onSpeedUp={onSpeedUp}\n                    onSpeedDown={onSpeedDown}\n                    onHistoryGoBack={onHistoryGoBack}\n                    onHistoryGoForward={onHistoryGoForward}\n                />\n                <ReaderStatusBar\n                    mode={mode}\n                    hidden={uiHidden}\n                    totalWords={info.totalWords}\n                    currentWord={stats.index}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default BookReader;\n","import BookReader from 'components/BookReader';\nimport { IBookInfo, useLibraryContext } from 'providers/Library';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport styles from './styles.module.scss';\n\nfunction useBook(id: string) {\n    const { getBook } = useLibraryContext();\n\n    const [bookData, setBook] = useState<{\n        info: IBookInfo;\n        words: string[];\n    } | null>(null);\n\n    useEffect(() => {\n        getBook(id).then(({ info, words }) => {\n            setBook({\n                info,\n                words,\n            });\n        });\n    }, [id, getBook]);\n\n    return bookData;\n}\n\nconst Reader = () => {\n    const { id } = useParams<{ id: string }>();\n    const bookInfo = useBook(id);\n    const history = useHistory();\n    const onBack = useCallback(() => history.push('/'), [history]);\n\n    return (\n        <div className={styles.container}>\n            {bookInfo && (\n                <BookReader\n                    info={bookInfo.info}\n                    words={bookInfo.words}//bookInfo.words\n                    onBack={onBack}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Reader;\n","import { useCallback } from 'react';\n\nconst textFormats = [\n    '.doc',\n    '.docx',\n    '.xml',\n    'application/msword',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    'application/epub+zip',\n    'text/plain',\n    'text/csv',\n    'text/html',\n].join(',');\n\nfunction useFileInput(options: any, callback: (files: File[]) => void) {\n    const onAction = useCallback(() => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.accept = textFormats;\n        input.multiple = true;\n        input.onchange = (event) => {\n            if (!event.target || (event.target as any).files.length === 0) {\n                return callback([]);\n            }\n            callback((event.target as any).files);\n        };\n        input.click();\n    }, [callback]);\n\n    return onAction;\n}\n\nexport default useFileInput;\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRest(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 4,\n    viewBox: \"0 0 16 4\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 0C0.895161 0 0 0.895161 0 2C0 3.10484 0.895161 4 2 4C3.10484 4 4 3.10484 4 2C4 0.895161 3.10484 0 2 0Z\",\n    fill: \"#868485\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 0C6.89516 0 6 0.895161 6 2C6 3.10484 6.89516 4 8 4C9.10484 4 10 3.10484 10 2C10 0.895161 9.10484 0 8 0Z\",\n    fill: \"#868485\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 0C12.8952 0 12 0.895161 12 2C12 3.10484 12.8952 4 14 4C15.1048 4 16 3.10484 16 2C16 0.895161 15.1048 0 14 0Z\",\n    fill: \"#868485\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRest);\nexport default __webpack_public_path__ + \"static/media/rest.d74d9462.svg\";\nexport { ForwardRef as ReactComponent };","\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\nimport { ReactComponent as PlusIcon } from 'assets/icons/plus-solid.svg'; \n\ninterface IHeaderProps {\n    title: string;\n    editMode: boolean;\n    allSelected: boolean;\n    onBookAdd: () => void;\n    onEdit: () => void;\n\n    onSelectAll: () => void;\n    onDone: () => void;\n}\n\nconst Header = ({ title, editMode, allSelected, onBookAdd, onEdit, onSelectAll, onDone }: IHeaderProps) => {\n    return (\n        <div className={styles.container}>\n            {!editMode && <div className={styles.leftButton} onClick={onBookAdd}><PlusIcon/></div>}\n            {editMode && <div className={cn(styles.leftButton, styles.selectAllButton)} onClick={onSelectAll}>{allSelected ? 'Des' : 'S'}elect All</div>}\n            <div className={styles.title}>{title}</div>\n            {!editMode && <div className={styles.leftButton} onClick={onEdit}>Edit</div>}\n            {editMode && <div className={styles.leftButton} onClick={onDone}>Done</div>}\n        </div>\n    );\n}\n\nexport default Header;","\nimport cn from 'classnames';\nimport styles from './styles.module.scss';\n\ninterface IBookCoverProps {\n    title: string;\n    creator?: string;\n    cover?: string;\n}\n\nconst BookCover = ({ title, creator, cover }: IBookCoverProps) => {\n\n    return (\n        <div \n            className={cn(styles.container, { [styles.nocover]: cover })}\n            style={{\n                '--imageOrColor': cover ? `url(${cover})` : '#995621',\n            } as any}\n        >\n            <div className={styles.wrapper}>\n                <div\n                    className={styles.title}\n                >\n                    {title}\n                </div>\n                <div\n                    className={styles.creator}\n                >\n                    {creator || ''}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default BookCover;","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11, _path12, _path13, _path14;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLibrary(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"480pt\",\n    viewBox: \"0 0 480.00958 480\",\n    width: \"480pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m128 104.003906v-32c0-4.417968-3.582031-8-8-8h-112c-4.417969 0-8 3.582032-8 8v32zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 120.003906v264h128v-264zm96 104h-64c-4.417969 0-8-3.582031-8-8v-64c0-4.417968 3.582031-8 8-8h64c4.417969 0 8 3.582032 8 8v64c0 4.417969-3.582031 8-8 8zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 432.003906v40c0 4.417969 3.582031 8 8 8h112c4.417969 0 8-3.582031 8-8v-40zm0 0\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 400.003906h128v16h-128zm0 0\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 400.003906h104v16h-104zm0 0\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m248 32.003906v-24c0-4.417968-3.582031-7.99999975-8-7.99999975h-88c-4.417969 0-8 3.58203175-8 7.99999975v24zm0 0\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 88.003906h104v296h-104zm0 0\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 432.003906v40c0 4.417969 3.582031 8 8 8h88c4.417969 0 8-3.582031 8-8v-40zm0 0\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m144 48.003906h104v24h-104zm0 0\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m263.808594 165.667969 4.28125 16.433593 135.484375-36.128906-4.285157-16.433594zm0 0\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m330.664062 421.949219 135.480469-36.128907-8.578125-32.886718-135.488281 36.128906zm0 0\"\n  })), _path12 || (_path12 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m453.527344 337.453125-45.910156-176-135.488282 36.128906 45.910156 176zm0 0\"\n  })), _path13 || (_path13 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m259.769531 150.1875 135.476563-36.125-11.484375-44.058594c-1.183594-4.265625-5.542969-6.816406-9.839844-5.757812l-120 32c-4.238281 1.160156-6.765625 5.5-5.683594 9.757812zm0 0\"\n  })), _path14 || (_path14 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m470.183594 401.300781-135.488282 36.128907 9.542969 36.574218c.554688 2.0625 1.90625 3.820313 3.761719 4.882813 1.207031.730469 2.589844 1.117187 4 1.117187.699219 0 1.398438-.082031 2.078125-.238281l120-32c4.238281-1.160156 6.765625-5.503906 5.683594-9.761719zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLibrary);\nexport default __webpack_public_path__ + \"static/media/library.30727038.svg\";\nexport { ForwardRef as ReactComponent };","\nimport cn from 'classnames';\n\nimport BookCover from \"components/BookCover\";\nimport { IBookInfo } from \"providers/Library\";\n\nimport { ReactComponent as RestIcon } from 'assets/icons/rest.svg';\n\nimport styles from './styles.module.scss';\nimport { timestampToHumanTime } from 'utils/time';\n\ninterface IBookItemProps {\n    bookInfo: IBookInfo;\n    currentWord: number;\n    wordsPerMinute: number;\n    selectable?: boolean;\n    selected?: boolean;\n\n    onBookClick: (id: string) => void;\n    onRestClick: (id: string) => void;\n}\n\nconst BookItem = ({\n    bookInfo,\n    currentWord,\n    wordsPerMinute,\n    selectable = false,\n    selected = false,\n    onBookClick,\n    onRestClick,\n}: IBookItemProps) => {\n\n    const position = Math.floor((100 / bookInfo.totalWords) * currentWord);\n    const timeToRead =\n        Math.floor((bookInfo.totalWords - currentWord) / (wordsPerMinute / 60)) * 1000;\n\n    return (\n        <div\n            className={cn(styles.container, {\n                [styles.selectable]: selectable,\n                [styles.selected]: selected,\n            })}\n        >\n            <div className={styles.wrapper}>\n                <div className={styles.book} onClick={() => onBookClick(bookInfo.id)}>\n                    <BookCover\n                        title={bookInfo.title}\n                        creator={bookInfo.creator}\n                        cover={bookInfo.cover ? (bookInfo.cover as string) : undefined}\n                    />\n                </div>\n                <div className={styles.bottom}>\n                    <div>\n                        {position !== 100\n                            ? `${position} %`\n                            : 'FINISHED'}\n                    </div>\n                    <div> {timestampToHumanTime(timeToRead)}</div>\n                    <div onClick={() => onRestClick(bookInfo.id)}>\n                        <RestIcon />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BookItem;","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgThunder(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.007 512.007\",\n    style: {\n      enableBackground: \"new 0 0 512.007 512.007\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M397.413,199.303c-2.944-4.576-8-7.296-13.408-7.296h-112v-176c0-7.552-5.28-14.08-12.672-15.648 c-7.52-1.6-14.88,2.272-17.952,9.152l-128,288c-2.208,4.928-1.728,10.688,1.216,15.2c2.944,4.544,8,7.296,13.408,7.296h112v176 c0,7.552,5.28,14.08,12.672,15.648c1.12,0.224,2.24,0.352,3.328,0.352c6.208,0,12-3.616,14.624-9.504l128-288 C400.805,209.543,400.389,203.847,397.413,199.303z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThunder);\nexport default __webpack_public_path__ + \"static/media/thunder.6b5f7a42.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16, _g17, _g18;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M490.667,405.333h-56.811C424.619,374.592,396.373,352,362.667,352s-61.931,22.592-71.189,53.333H21.333 C9.557,405.333,0,414.891,0,426.667S9.557,448,21.333,448h270.144c9.237,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,405.333,490.667,405.333z M362.667,458.667 c-17.643,0-32-14.357-32-32s14.357-32,32-32s32,14.357,32,32S380.309,458.667,362.667,458.667z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M490.667,64h-56.811c-9.259-30.741-37.483-53.333-71.189-53.333S300.736,33.259,291.477,64H21.333 C9.557,64,0,73.557,0,85.333s9.557,21.333,21.333,21.333h270.144C300.736,137.408,328.96,160,362.667,160 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,64,490.667,64z M362.667,117.333 c-17.643,0-32-14.357-32-32c0-17.643,14.357-32,32-32s32,14.357,32,32C394.667,102.976,380.309,117.333,362.667,117.333z\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M490.667,234.667H220.523c-9.259-30.741-37.483-53.333-71.189-53.333s-61.931,22.592-71.189,53.333H21.333 C9.557,234.667,0,244.224,0,256c0,11.776,9.557,21.333,21.333,21.333h56.811c9.259,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h270.144c11.797,0,21.333-9.557,21.333-21.333C512,244.224,502.464,234.667,490.667,234.667z  M149.333,288c-17.643,0-32-14.357-32-32s14.357-32,32-32c17.643,0,32,14.357,32,32S166.976,288,149.333,288z\"\n  })))), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", null)), _g18 || (_g18 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.39b5a58c.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 25,\n    viewBox: \"0 0 22 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.5625 22.6563C1.5625 23.2779 1.80943 23.874 2.24897 24.3135C2.68851 24.7531 3.28465 25 3.90625 25H17.9688C18.5904 25 19.1865 24.7531 19.626 24.3135C20.0656 23.874 20.3125 23.2779 20.3125 22.6563V6.25001H1.5625V22.6563ZM14.8438 10.1563C14.8438 9.94906 14.9261 9.75034 15.0726 9.60383C15.2191 9.45732 15.4178 9.37501 15.625 9.37501C15.8322 9.37501 16.0309 9.45732 16.1774 9.60383C16.3239 9.75034 16.4062 9.94906 16.4062 10.1563V21.0938C16.4062 21.301 16.3239 21.4997 16.1774 21.6462C16.0309 21.7927 15.8322 21.875 15.625 21.875C15.4178 21.875 15.2191 21.7927 15.0726 21.6462C14.9261 21.4997 14.8438 21.301 14.8438 21.0938V10.1563ZM10.1562 10.1563C10.1562 9.94906 10.2386 9.75034 10.3851 9.60383C10.5316 9.45732 10.7303 9.37501 10.9375 9.37501C11.1447 9.37501 11.3434 9.45732 11.4899 9.60383C11.6364 9.75034 11.7188 9.94906 11.7188 10.1563V21.0938C11.7188 21.301 11.6364 21.4997 11.4899 21.6462C11.3434 21.7927 11.1447 21.875 10.9375 21.875C10.7303 21.875 10.5316 21.7927 10.3851 21.6462C10.2386 21.4997 10.1562 21.301 10.1562 21.0938V10.1563ZM5.46875 10.1563C5.46875 9.94906 5.55106 9.75034 5.69757 9.60383C5.84409 9.45732 6.0428 9.37501 6.25 9.37501C6.4572 9.37501 6.65591 9.45732 6.80243 9.60383C6.94894 9.75034 7.03125 9.94906 7.03125 10.1563V21.0938C7.03125 21.301 6.94894 21.4997 6.80243 21.6462C6.65591 21.7927 6.4572 21.875 6.25 21.875C6.0428 21.875 5.84409 21.7927 5.69757 21.6462C5.55106 21.4997 5.46875 21.301 5.46875 21.0938V10.1563ZM21.0938 1.56251H15.2344L14.7754 0.649423C14.6782 0.454215 14.5284 0.29001 14.3429 0.175281C14.1575 0.0605526 13.9437 -0.00014785 13.7256 8.5609e-06H8.14453C7.92694 -0.000827891 7.71352 0.0596463 7.52871 0.174503C7.34391 0.289359 7.19519 0.453951 7.09961 0.649423L6.64062 1.56251H0.78125C0.57405 1.56251 0.375336 1.64482 0.228823 1.79133C0.08231 1.93784 0 2.13656 0 2.34376L0 3.90626C0 4.11346 0.08231 4.31217 0.228823 4.45869C0.375336 4.6052 0.57405 4.68751 0.78125 4.68751H21.0938C21.301 4.68751 21.4997 4.6052 21.6462 4.45869C21.7927 4.31217 21.875 4.11346 21.875 3.90626V2.34376C21.875 2.13656 21.7927 1.93784 21.6462 1.79133C21.4997 1.64482 21.301 1.56251 21.0938 1.56251Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.8158b113.svg\";\nexport { ForwardRef as ReactComponent };","\nimport cn from 'classnames';\nimport { Link, useLocation } from 'react-router-dom';\nimport { ReactComponent as LibraryIcon } from 'assets/icons/library.svg';\nimport { ReactComponent as ThunderIcon } from 'assets/icons/thunder.svg';\nimport { ReactComponent as SettingsIcon } from 'assets/icons/settings.svg';\nimport styles from './styles.module.scss';\n\ninterface IMenuProps {\n\n}\n\n// eslint-disable-next-line no-empty-pattern\nconst Menu = ({}: IMenuProps) => {\n    const location = useLocation();\n    return (\n        <div className={styles.container}>\n            <Link\n                to=\"/\" \n                className={cn(styles.item, { \n                    [styles.selected]: location.pathname === '/'\n                })}\n            >\n                <LibraryIcon />\n                Library\n            </Link>\n            <Link\n                to=\"/statistics\" \n                className={cn(styles.item, { \n                    [styles.selected]: location.pathname === '/statistics'\n                })}\n            >\n                <ThunderIcon />\n                Statistics\n            </Link>\n            <Link\n                to=\"/settings\"\n                className={cn(styles.item, { \n                    [styles.selected]: location.pathname === '/settings'\n                })}\n            >\n                <SettingsIcon/>\n                Settings\n            </Link>\n        </div>\n    );\n}\n\nexport default Menu;","var _rect;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinusSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 3,\n    viewBox: \"0 0 16 3\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 3,\n    rx: 1,\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusSmall);\nexport default __webpack_public_path__ + \"static/media/minus-small.ce20e032.svg\";\nexport { ForwardRef as ReactComponent };","\nimport cn from 'classnames';\nimport { ReactComponent as TrashIcon } from 'assets/icons/trash.svg';\n\nimport styles from './styles.module.scss';\n\ninterface IEditMenuProps {\n    active: boolean;\n    onDelete: () => void;\n}\n\nconst EditMenu = ({ active, onDelete }: IEditMenuProps) => {\n    return (\n        <div className={cn(styles.container, { [styles.active]: active })}>\n            <div className={styles.item} onClick={onDelete}>\n                <TrashIcon />\n            </div>\n        </div>\n    );\n}\n\nexport default EditMenu;","import styles from './styles.module.scss';\n\nimport { useLibraryContext } from '../../providers/Library';\n// import { useReadingStatsContext } from '../../Providers/ReadingStats';\n\nimport useFileInput from '../../hooks/useFileInput';\nimport { useCallback, useState } from 'react';\n\nimport Header from 'pages/Library/Header';\nimport useBackgroundColor from 'hooks/useBackgroundColor';\nimport { useSettings } from 'providers/Settings';\nimport { useReadingStatsContext } from 'providers/ReadingStats';\nimport BookItem from 'components/BookItem';\nimport { useHistory } from 'react-router-dom';\nimport Menu from 'components/Menu';\nimport EditMenu from './EditMenu';\n\nconst Library = () => {\n    useBackgroundColor('#FEFEFE');\n    const { settings } = useSettings();\n    const { getStats } = useReadingStatsContext();\n    const history = useHistory();\n\n    const { library, loadBooks, deleteBooks } = useLibraryContext();\n    // const { getBookStats } = useReadingStatsContext();\n\n    const onAdd = useFileInput({ multiple: true }, async (files: File[]) => {\n        if (files.length === 0) {\n            return;\n        }\n        await loadBooks(files);\n    });\n\n    const [editing, setEditing] = useState(false);\n    const [selected, setSelected] = useState<string[]>([]);\n\n    const onDelete = useCallback(() => {\n        deleteBooks(selected);\n    }, [deleteBooks, selected]);\n\n    const onBookClick = useCallback((id: string) => {\n        if (editing) {\n            setSelected((selected) => {\n                if (selected.includes(id)) {\n                    return selected.filter(v => v !== id);\n                }\n                return [...selected, id];\n            });\n        } else {\n            history.push(`/book/${id}`);\n        }\n    }, [editing, history]);\n    const onRestClick = useCallback((id: string) => {\n        history.push(`/bookInfo/${id}`);\n    }, [history]);\n\n    const onSelectAll = useCallback(() => {\n        setSelected((prev) => {\n            if (prev.length === library.length) {\n                return [];\n            }\n            return library.map((bookInfo) => bookInfo.id);\n        });\n    }, [library]);\n    const onEdit = useCallback(() => {\n        setEditing(true);\n    }, []);\n    const onDone = useCallback(() => {\n        setEditing(false);\n        setSelected([]);\n    }, []);\n\n    return (\n        <div className={styles.container}>\n            <Header\n                title=\"Library\"\n                editMode={editing}\n                allSelected={selected.length === library.length}\n                onBookAdd={onAdd}\n                onEdit={onEdit}\n                onSelectAll={onSelectAll}\n                onDone={onDone}\n            />\n            <div className={styles.listContainer}>\n                <div className={styles.list}>\n                    {library.map((book) => (\n                        <BookItem\n                            key={book.id}\n                            bookInfo={book}\n                            currentWord={getStats(book.id).index}\n                            wordsPerMinute={settings.wordsPerMinute}\n                            onBookClick={onBookClick}\n                            onRestClick={onRestClick}\n                            selectable={editing}\n                            selected={selected.includes(book.id)}\n                        />\n                    ))}\n                </div>\n            </div>\n            {editing\n                ? <EditMenu active={selected.length > 0} onDelete={onDelete} />\n                : <Menu />\n            }\n        </div>\n    );\n};\n\nexport default Library;\n","\nimport styles from './styles.module.scss';\n\ninterface IHeaderProps {\n    title: string;\n}\n\nconst Header = ({ title }: IHeaderProps) => {\n    return (\n        <div className={styles.container}>\n            <div className={styles.leftButton}></div>\n            <div className={styles.title}>{title}</div>\n            <div className={styles.rightButton}></div>\n        </div>\n    );\n}\n\nexport default Header;","\nimport Menu from 'components/Menu';\nimport Header from './Header';\nimport styles from './styles.module.scss';\n\ninterface IStatisticsProps {\n\n}\n\n// eslint-disable-next-line no-empty-pattern\nconst Statistics = ({}: IStatisticsProps) => {\n    return (\n        <div className={styles.container}>\n            <Header title=\"Statistics\"/>\n            <div>\n\n            </div>\n            <Menu />\n        </div>\n    )\n};\n\nexport default Statistics;","\nimport styles from './styles.module.scss';\n\ninterface IHeaderProps {\n    title: string;\n}\n\nconst Header = ({ title }: IHeaderProps) => {\n    return (\n        <div className={styles.container}>\n            <div className={styles.leftButton}></div>\n            <div className={styles.title}>{title}</div>\n            <div className={styles.rightButton}></div>\n        </div>\n    );\n}\n\nexport default Header;","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 8C0 7.44772 0.447715 7 1 7H15C15.5523 7 16 7.44772 16 8V9C16 9.55228 15.5523 10 15 10H1C0.447715 10 0 9.55228 0 9V8Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.5 16.5C6.94772 16.5 6.5 16.0523 6.5 15.5L6.5 1.5C6.5 0.947715 6.94771 0.5 7.5 0.5L8.5 0.5C9.05228 0.5 9.5 0.947715 9.5 1.5L9.5 15.5C9.5 16.0523 9.05229 16.5 8.5 16.5H7.5Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSmall);\nexport default __webpack_public_path__ + \"static/media/plus-small.3b872b4e.svg\";\nexport { ForwardRef as ReactComponent };","import Header from './Header';\nimport styles from './styles.module.scss';\n\nimport { ReactComponent as MinusSmallIcon } from 'assets/icons/minus-small.svg';\nimport { ReactComponent as PlusSmallIcon } from 'assets/icons/plus-small.svg';\n\nimport cn from 'classnames';\nimport { useSettings } from 'providers/Settings';\nimport { useCallback } from 'react';\nimport Menu from 'components/Menu';\nimport clamp from 'utils/clamp';\n\ninterface ISettingsProps { }\n\nfunction CheckBox({\n    active,\n    onClick,\n}: {\n    active: boolean;\n    onClick: () => void;\n}) {\n    return (\n        <div\n            className={cn(styles.checkbox, { [styles.active]: active })}\n            onClick={onClick}\n        />\n    );\n}\n\nfunction Item({ title, value }: { title: string; value: string }) {\n    return (\n        <div className={styles.item}>\n            <div>{title}</div>\n            <div>{value}</div>\n        </div>\n    );\n}\n\nfunction ItemCheckbox({\n    title,\n    onClick,\n    value,\n}: {\n    title: string;\n    value: boolean;\n    onClick: () => void;\n}) {\n    return (\n        <div className={styles.item}>\n            <div>{title}</div>\n            <div>\n                <CheckBox active={value} onClick={onClick} />\n            </div>\n        </div>\n    );\n}\n\nfunction ItemRange({\n    title,\n    onChange,\n    value,\n    min = 0,\n    max = 100,\n}: {\n    title: string;\n    value: number;\n    min?: number;\n    max?: number;\n    onChange: (number: number) => void;\n}) {\n    return (\n        <div className={cn(styles.item, styles.range)}>\n            <div>{title}</div>\n            <div className={styles.range}>\n                <div className={styles.value}>{value} px</div>\n                <div className={styles.incButtons}>\n                    <div\n                        className={styles.button}\n                        onClick={() => onChange(clamp(min, value - 2, max))}\n                    >\n                        <MinusSmallIcon />\n                    </div>\n                    <div\n                        className={styles.button}\n                        onClick={() => onChange(clamp(min, value + 2, max))}\n                    >\n                        <PlusSmallIcon />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction ItemGroup({\n    title,\n    children,\n}: {\n    title?: string;\n    children: React.ReactNode;\n}) {\n    return (\n        <div className={styles.category}>\n            {title && <div className={styles.categoryTitle}>{title}</div>}\n            {children}\n        </div>\n    );\n}\n\n// eslint-disable-next-line no-empty-pattern\nconst Settings = ({ }: ISettingsProps) => {\n    const { settings, set } = useSettings();\n    const toggleORP = useCallback(() => set('ORP', (v) => !v), [set]);\n    const toggleORPGuideline = useCallback(\n        () => set('ORPGuideLine', (v) => !v),\n        [set]\n    );\n    const toggleSlowDown = useCallback(\n        () => set('slowDownOnLongWords', (v) => !v),\n        [set]\n    );\n    const toggleShowPreviousOnPause = useCallback(\n        () => set('showPreviousOnPause', (v) => !v),\n        [set]\n    );\n    const setRenderType = useCallback((value) => set('renderType', value), [set]);\n    return (\n        <div className={styles.container}>\n            <Header title=\"Settings\" />\n            <div className={styles.settings}>\n                <ItemGroup title=\"Book Reader\">\n                    <Item\n                        title=\"Font family\"\n                        value={settings.fontFamilyReader}\n                    />\n                    <ItemRange\n                        title=\"Font size\"\n                        value={settings.fontSizeReader}\n                        min={8}\n                        max={24}\n                        onChange={(value) => {\n                            set('fontSizeReader', value);\n                        }}\n                    />\n                </ItemGroup>\n                <ItemGroup title=\"RSVP Reader\">\n                    <Item title=\"Font family\" value={settings.fontFamilyRSVP} />\n                    <ItemRange\n                        title=\"Font size\"\n                        value={settings.fontSizeRSVP}\n                        min={24}\n                        max={48}\n                        onChange={(value) => {\n                            set('fontSizeRSVP', value);\n                        }}\n                    />\n                </ItemGroup>\n                <ItemGroup title=\"RSVP Reader type\">\n                    <ItemCheckbox\n                        title=\"Optimal recognition point\"\n                        value={settings.renderType === 'ORP'}\n                        onClick={() => setRenderType('ORP')}\n                    />\n                    <ItemCheckbox\n                        title=\"Text middle point\"\n                        value={settings.renderType === 'middle'}\n                        onClick={() => setRenderType('middle')}\n                    />\n                </ItemGroup>\n                {settings.renderType === 'ORP' &&\n                    <ItemGroup title=\"ORP features\">\n                        <ItemCheckbox\n                            title=\"Show optimal recognition point\"\n                            value={settings.ORP}\n                            onClick={toggleORP}\n                        />\n                        <ItemCheckbox\n                            title=\"Show ORP guideline\"\n                            value={settings.ORPGuideLine}\n                            onClick={toggleORPGuideline}\n                        />\n                    </ItemGroup>\n                }\n                {settings.renderType === 'middle' &&\n                    <ItemGroup title=\"Middle point features\">\n                        <ItemCheckbox\n                            title=\"Highlight text center\"\n                            value={settings.ORP}\n                            onClick={toggleORP}\n                        />\n                    </ItemGroup>\n                }\n                <ItemGroup title=\"RSVP Reader general features\">\n                    <ItemCheckbox\n                        title=\"Slow down on long words\"\n                        value={settings.slowDownOnLongWords}\n                        onClick={toggleSlowDown}\n                    />\n                    <ItemCheckbox\n                        title=\"Show 50 previous words on pause\"\n                        value={settings.showPreviousOnPause}\n                        onClick={toggleShowPreviousOnPause}\n                    />\n                </ItemGroup>\n                <ItemGroup >\n                    <ItemCheckbox\n                        title=\"Show forward/backward buttons\"\n                        value={false}\n                        onClick={() => { }}\n                    />\n                </ItemGroup>\n            </div>\n            <Menu />\n        </div>\n    );\n};\n\nexport default Settings;\n","\nimport styles from './styles.module.scss';\n\nimport { ReactComponent as AngleLeftIcon } from 'assets/icons/angle-left-solid.svg';\n\ninterface IHeaderProps {\n    title?: string;\n    onBackButton: () => void;\n}\n\nconst Header = ({ title, onBackButton }: IHeaderProps) => {\n    return (\n        <div className={styles.container}>\n            <div\n                className={styles.button}\n                onClick={onBackButton}\n            >\n                <AngleLeftIcon />\n            </div>\n            <div className={styles.title}>{title}</div>\n            <div className={styles.rightButton}></div>\n        </div>\n    );\n}\n\nexport default Header;","\nimport { useCallback } from 'react';\nimport { useHistory } from 'react-router';\nimport Header from './Header';\nimport styles from './styles.module.scss';\n\ninterface IBookInfoProps {\n\n}\n\n// eslint-disable-next-line no-empty-pattern\nconst BookInfo = ({}: IBookInfoProps) => {\n\n    const history = useHistory();\n    const onBackButton = useCallback(() => {\n        history.push('/');\n    }, [history]);\n\n    return (\n        <div className={styles.container}>\n            <Header onBackButton={onBackButton} />\n            <div>\n                <div>\n                    title\n                </div>\n                <div>\n                    creator\n                </div>\n                <div>   </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BookInfo;","import { Switch, Route, useLocation } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport Providers from 'providers';\n\nimport Reader from './pages/Reader';\nimport Library from './pages/Library';\nimport Statistics from './pages/Statistics';\nimport Settings from 'pages/Settings';\n\nimport styles from './styles.module.scss';\nimport BookInfo from 'pages/BookInfo';\n\nfunction A() {\n    const location = useLocation();\n    return (\n        <TransitionGroup className={styles.container}>\n            {/*\n            This is no different than other usage of\n            <CSSTransition>, just make sure to pass\n            `location` to `Switch` so it can match\n            the old location as it animates out.\n          */}\n            <CSSTransition\n                key={location.pathname}\n                classNames=\"fade\"\n                timeout={300}\n            >\n                <Switch location={location}>\n                    <Route path=\"/book/:id\" exact component={Reader} />\n                    <Route path=\"/bookInfo/:id\" exact component={BookInfo} />\n                    <Route path=\"/\">\n                        <Route path=\"/\" exact component={Library} />\n                        <Route path=\"/statistics\" exact component={Statistics} />\n                        <Route path=\"/settings\" exact component={Settings} />\n                    </Route>\n                </Switch>\n            </CSSTransition>\n        </TransitionGroup>\n    );\n}\n\nfunction App() {\n    return (\n        <Providers>\n            <A />\n        </Providers>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.0/8 are considered localhost for IPv4.\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n  );\n  \n  type Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n  };\n  \n  export function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener('load', () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Let's check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl, config);\n  \n          // Add some additional logging to localhost, pointing developers to the\n          // service worker/PWA documentation.\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://cra.link/PWA'\n            );\n          });\n        } else {\n          // Is not localhost. Just register service worker\n          registerValidSW(swUrl, config);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then((registration) => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                  'New content is available and will be used when all ' +\n                    'tabs for this page are closed. See https://cra.link/PWA.'\n                );\n  \n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n  \n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch((error) => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n      headers: { 'Service-Worker': 'script' },\n    })\n      .then((response) => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get('content-type');\n        if (\n          response.status === 404 ||\n          (contentType != null && contentType.indexOf('javascript') === -1)\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log('No internet connection found. App is running in offline mode.');\n      });\n  }\n  \n  export function unregister() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready\n        .then((registration) => {\n          registration.unregister();\n        })\n        .catch((error) => {\n          console.error(error.message);\n        });\n    }\n  }","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from 'App';\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}