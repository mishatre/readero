(this.webpackJsonpreadero=this.webpackJsonpreadero||[]).push([[0],{15:function(e,t,n){e.exports={container:"styles_container__lgzGZ",hidden:"styles_hidden__3R_Vv",hide:"styles_hide__2eb_z",title:"styles_title__DVSKR",button:"styles_button__tIKOm",buttons:"styles_buttons__9MwoY"}},16:function(e,t,n){e.exports={container:"styles_container__3L1DU",book:"styles_book__3kr_u",cover:"styles_cover__6Uu98",nocover:"styles_nocover__2Rzyk",bookWrapper:"styles_bookWrapper__385Le",title:"styles_title__2fozK",author:"styles_author__1rUEC",bottom:"styles_bottom__3ye7t"}},19:function(e,t,n){e.exports={container:"styles_container__1MT9X",settings:"styles_settings__2OclP",category:"styles_category__jDkkO",categoryTitle:"styles_categoryTitle__I3J85",item:"styles_item__yXv-m",checkbox:"styles_checkbox__37LCY",active:"styles_active__1anRb"}},21:function(e,t,n){e.exports={container:"styles_container__xRGQ3",hidden:"styles_hidden__tkCK0",hide:"styles_hide__1SJDM",buttons:"styles_buttons__ooHsn",button:"styles_button__1pqxT",bottom:"styles_bottom__1djMp"}},22:function(e,t,n){e.exports={container:"styles_container__1OVl5",hidden:"styles_hidden__2LoYr",hide:"styles_hide__3l2xM",playing:"styles_playing__nBe_T",statusBar:"styles_statusBar__2j5Er",bottomBar:"styles_bottomBar__AwkZb",wordsLeft:"styles_wordsLeft__APFUt",timeLeft:"styles_timeLeft__3TwoZ"}},23:function(e,t,n){e.exports={container:"styles_container__11T8G",title:"styles_title__2Sn61",leftButton:"styles_leftButton__l4X_F",selectAllButton:"styles_selectAllButton__2Gs4p",rightButton:"styles_rightButton__3DyWY"}},28:function(e,t,n){e.exports={container:"styles_container__3_mvM",item:"styles_item__3yruJ",selected:"styles_selected__3DBuv"}},31:function(e,t,n){e.exports={container:"styles_container__1g-wD",list:"styles_list__gpRA5",row:"styles_row__1cmOy",selected:"styles_selected__zOB1R"}},32:function(e,t,n){e.exports={container:"styles_container__3-HjY",ORPGuideline:"styles_ORPGuideline__3GB2g",disabled:"styles_disabled__3FT6u",orp:"styles_orp__1TDsQ"}},33:function(e,t,n){e.exports={container:"styles_container__2KjvO",content:"styles_content__rVeXI",reader:"styles_reader__hEHPF",playing:"styles_playing__MdtfO"}},34:function(e,t,n){e.exports={container:"styles_container__1WeyU",title:"styles_title__SbZyV",leftButton:"styles_leftButton__3wmXK",rightButton:"styles_rightButton__2SF5P"}},40:function(e,t,n){e.exports={container:"styles_container__HUCkD",listContainer:"styles_listContainer__26jV9",list:"styles_list__1Gvkp"}},51:function(e,t,n){e.exports={container:"styles_container__3TSyu"}},52:function(e,t,n){e.exports={container:"styles_container__1YyHF"}},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(36),i=n.n(c),o=n(7),l=n(2),s=n(18),u=n(53),f=n(4),d=n(14),b=n(12);function h(){var e=Object(r.createContext)(void 0);return[function(){var t=Object(r.useContext)(e);if(void 0===t)throw new Error("useCtx must be inside a Provider with a value");return t},e.Provider]}var j=n(1),p=["fontFamily","fontSize","wordsPerMinute","ORP","ORPGuideLine","slowDownOnLongWords"],v={fontFamily:"Liberation Mono",fontSize:48,wordsPerMinute:320,ORP:!0,ORPGuideLine:!0,slowDownOnLongWords:!0},m=h(),O=Object(l.a)(m,2),x=O[0],g=O[1],y=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(l.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){var e,t=v,n=Object(b.a)(p);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=localStorage.getItem(r);a&&(t[r]=JSON.parse(a).value)}}catch(c){n.e(c)}finally{n.f()}i(t)}),[]);var o=Object(r.useCallback)((function(e,t){i((function(n){if(!n)return null;var r="function"===typeof t?t(n[e]):t;return localStorage.setItem(e,JSON.stringify({value:r})),Object(d.a)(Object(d.a)({},n),{},Object(f.a)({},e,r))}))}),[]);return c?Object(j.jsx)(g,{value:{settings:c,set:o},children:t}):null},w=n(20),_=n(6),k=n.n(_),C=n(10),E=n(24),S=n.n(E),P=n(47),N=n.n(P),M=n(43),I=n.n(M),R=n(48),B=n.n(R),L=function(){};L.trim=function(e){for(;""===e[e.length-1];)e.pop();for(;""===e[0];)e.shift();return e},L.tokenize=function(e){var t=null;return t?(t=t.map(Function.prototype.call,String.prototype.trim),this.trim(t)):[e]};var W=L;function F(e,t){if(e.files[t])return e.files[t];var n=e.filter((function(e,n){return n.name.toLowerCase()===t.toLowerCase()}));return n.length>0?n[0]:null}function z(e){return H.apply(this,arguments)}function H(){return(H=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=F(t,"mimetype")){e.next=3;break}throw new Error("No mimetype file in archive");case 3:return e.next=5,n.async("text");case 5:if("application/epub+zip"===e.sent.toLowerCase().trim()){e.next=8;break}throw new Error("Unsupported mime type");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return T.apply(this,arguments)}function T(){return(T=Object(C.a)(k.a.mark((function e(t){var n,r,a,c,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=F(t,"meta-inf/container.xml")){e.next=3;break}throw new Error("No container file in archive");case 3:return e.next=5,n.async("text");case 5:if(r=e.sent,(a=I.a.parse(r,{ignoreAttributes:!1})).container.rootfiles&&a.container.rootfiles.rootfile){e.next=9;break}throw new Error("No rootfiles found");case 9:if("application/oebps-package+xml"===(c=a.container.rootfiles.rootfile)["@_media-type"]){e.next=12;break}throw new Error("Rootfile in unknown format");case 12:if(i=c["@_full-path"]){e.next=15;break}throw new Error("Empty rootfile");case 15:if(o=F(t,i)){e.next=18;break}throw new Error("Rootfile not found from archive");case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return A.apply(this,arguments)}function A(){return(A=Object(C.a)(k.a.mark((function e(t,n){var r,a,c,i,o,l,s,u,f,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.async("text");case 2:return r=e.sent,a=I.a.parse(r,{attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"value",ignoreAttributes:!1,ignoreNameSpace:!0,parseAttributeValue:!0}),c=Z(a),i=U(a),o=G(a),l=J(a),s=K(o,i),e.next=11,Q(t,n,s);case 11:return u=e.sent,f=X(o,l),e.next=15,Y(t,n,f);case 15:return d=e.sent,e.abrupt("return",{cover:d,metadata:c,items:u});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){for(var t={},n=e.package.attr["unique-identifier"],r=0,a=Object.entries(e.package.metadata);r<a.length;r++){var c=a[r];if(c){var i=Object(l.a)(c,2),o=i[0],s=i[1];if(s){var u=null;if("identifier"===o){if(u=s,Array.isArray(s)?(u=s.find((function(e){return e.attr.id===n})))&&(u=u.value):u=s.value,!u)throw new Error("Cannot determine book unique identifier");u=String(u).replace("urn:uuid:","").toUpperCase().trim()}else u="object"===typeof s?s.value:s;t[o]=u}}}return t}function U(e){var t={items:[]};if("id"in e.package.spine.attr&&(t.id=e.package.spine.attr.id),"page-progression-direction"in e.package.spine.attr&&(t.direction=e.package.spine.attr["page-progression-direction"]),"toc"in e.package.spine.attr&&(t.toc=e.package.spine.attr.toc),Array.isArray(e.package.spine.itemref)){var n,r=Object(b.a)(e.package.spine.itemref);try{for(r.s();!(n=r.n()).done;){var a,c=n.value;null===(a=t.items)||void 0===a||a.push(c.attr.idref)}}catch(o){r.e(o)}finally{r.f()}}else{var i;null===(i=t.items)||void 0===i||i.push(e.package.spine.itemref.attr.idref)}return t}function G(e){var t,n=[],r=Object(b.a)(e.package.manifest.item);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.attr)}}catch(c){r.e(c)}finally{r.f()}return n}function J(e){if(e.package.guide&&"string"!==typeof e.package.guide)return e.package.guide.reference.attr}function X(e,t){if(t&&"cover"===t.type)return t;var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id.includes("cover.jpg"))return a}}catch(c){r.e(c)}finally{r.f()}}function K(e,t){var n,r=[],a=Object(b.a)(t.items);try{var c=function(){var t=n.value,a=e.find((function(e){return e.id===t}));a&&"application/xhtml+xml"===a["media-type"]&&r.push(a)};for(a.s();!(n=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return r}function Y(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(C.a)(k.a.mark((function e(t,n,r){var a,c,i,o,s,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return a=null===n||void 0===n?void 0:n.name.split("/"),c=Object(l.a)(a,1),i=c[0],o=[i,r.href].join("/"),e.next=6,t.files[o].async("blob");case 6:if(s=e.sent,u=r["media-type"]||B.a.lookup(r.href)){e.next=10;break}return e.abrupt("return",s);case 10:return e.abrupt("return",s.slice(0,s.size,u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(C.a)(k.a.mark((function e(t,n,r){var a,c,i,o,s,u,f,d,h,j,p;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===n||void 0===n?void 0:n.name.split("/"),c=Object(l.a)(a,1),i=c[0],o=[],s=Object(b.a)(r);try{for(s.s();!(u=s.n()).done;)f=u.value.href,d=[i,f].join("/"),o.push(t.files[d].async("text"))}catch(v){s.e(v)}finally{s.f()}return h=new DOMParser,e.next=7,Promise.all(o);case 7:return j=e.sent,p=j.map((function(e){var t,n;return W.tokenize(((null===(t=h.parseFromString(e,"application/xhtml+xml").body.textContent)||void 0===t||null===(n=t.trimStart())||void 0===n?void 0:n.trimEnd())+".").split("\n").join(". ")).map((function(e){return e.replaceAll(". .",".")})).filter((function(e){return"."!==e}))})).reduce((function(e,t){return[].concat(Object(w.a)(e),Object(w.a)(t))}),[]),e.abrupt("return",p);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(C.a)(k.a.mark((function e(t){var n,r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/epub+zip"===t.type){e.next=2;break}throw new Error("Not an Epub file");case 2:return n=new N.a,e.next=5,n.loadAsync(t);case 5:if(r=e.sent,0!==Object.keys(r.files).length){e.next=8;break}throw new Error("No files in archive");case 8:return e.next=10,z(r);case 10:return e.next=12,V(r);case 12:return a=e.sent,e.next=15,D(r,a);case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){return ee.apply(this,arguments)},ne=h(),re=Object(l.a)(ne,2),ae=re[0],ce=re[1],ie=function(e){var t=e.children,n=Object(r.useState)(!0),a=Object(l.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)([]),s=Object(l.a)(o,2),u=s[0],f=s[1];Object(r.useEffect)((function(){Object(C.a)(k.a.mark((function e(){var t,n,r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getItem("library");case 2:t=e.sent,f(t||[]),n=Object(b.a)(t||[]),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=15;break}return a=r.value,e.next=11,S.a.getItem("".concat(a.id,"_cover"));case 11:(c=e.sent)&&(a.cover=URL.createObjectURL(c));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:i(!1);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))()}),[]);var h=Object(r.useCallback)(function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Array.from(t).map((function(e){return te(e)})));case 2:return n=e.sent,r=n.map((function(e){var t=e.items.reduce((function(e,t){return e+t.split(" ").length}),0),n={id:e.metadata.identifier,title:e.metadata.title||"",creator:e.metadata.creator||"",cover:!!e.cover,totalWords:t,totalSentences:e.items.length};return{id:n.id,info:n,items:e.items,cover:e.cover,coverUrl:!!e.cover&&URL.createObjectURL(e.cover)}})),e.next=6,Promise.all(r.map((function(e){var t=e.id,n=e.items;return S.a.setItem(t,n)})));case 6:return console.log(r),a=[].concat(Object(w.a)(u),Object(w.a)(r.map((function(e){return e.info})))),e.next=10,S.a.setItem("library",a);case 10:return e.next=12,Promise.all(r.filter((function(e){return!!e.cover})).map((function(e){var t=e.id,n=e.cover;return S.a.setItem("".concat(t,"_cover"),n)})));case 12:f([].concat(Object(w.a)(u),Object(w.a)(r.map((function(e){var t=e.info,n=e.coverUrl;return Object(d.a)(Object(d.a)({},t),{},{cover:n})})))));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),p=Object(r.useCallback)((function(e){}),[]),v=Object(r.useCallback)(function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getItem(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return n=e.t0,r=u.find((function(e){return e.id===t})),e.abrupt("return",{info:r,items:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]);return c?null:Object(j.jsx)(ce,{value:{library:u,loadBooks:h,deleteBook:p,getBook:v},children:t})},oe=h(),le=Object(l.a)(oe,2),se=le[0],ue=le[1];var fe=function(e){var t=e.children,n=Object(r.useCallback)((function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{index:0}}),[]),a=Object(r.useCallback)((function(e,t,n){var r={index:0},a=localStorage.getItem(e);return a&&(r=JSON.parse(a)),r[t]=n,localStorage.setItem(e,JSON.stringify(r)),r}),[]);return Object(j.jsx)(ue,{value:{getStats:n,setStats:a},children:t})},de=n(39),be=Object(de.b)({name:"settings",initialState:{fontFamily:"",fontSizeRSVP:42,fontSizeReader:16,fontWidthRSVP:0,fontWidthReader:0},reducers:{setFontFamily:function(e,t){e.fontFamily=t.payload},setFontSizeRSVP:function(e,t){e.fontSizeRSVP=t.payload},setFontSizeReader:function(e,t){e.fontSizeReader=t.payload}}}),he=be.actions,je=(he.setFontFamily,he.setFontSizeRSVP,he.setFontSizeReader,be.reducer),pe=Object(de.a)({reducer:{settings:je}}),ve=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(l.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){Promise.all([document.fonts.load("16px Liberation Mono"),document.fonts.load("48px SFMono")]).then((function(){i(!0)}))}),[]),Object(j.jsx)(u.a,{store:pe,children:Object(j.jsx)(s.a,{children:Object(j.jsx)(y,{children:Object(j.jsx)(fe,{children:Object(j.jsx)(ie,{children:c&&t})})})})})},me=n(5),Oe=n.n(me);var xe=function(e){Object(r.useEffect)((function(){document.documentElement.style.backgroundColor=e,document.body.style.backgroundColor=e}),[e])};var ge,ye=function(e){var t=Object(r.useState)({width:0,height:0}),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useCallback)((function(){var t=null===e||void 0===e?void 0:e.current;t&&c({width:t.offsetWidth||0,height:t.offsetHeight||0})}),[e]);return Object(r.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;t&&(new ResizeObserver(i).observe(t,{box:"content-box"}),i())}),[]),Object(r.useEffect)((function(){}),[]),a},we=n(54),_e=n(31),ke=n.n(_e),Ce=function(e){var t=e.mode,n=e.rows,a=e.width,c=e.currentIndex,i=e.onCurrentIndexChange,o=e.fontInfo,l=Object(r.useRef)(null),s=Object(r.useRef)(null),u=ye(l).height;Object(r.useEffect)((function(){if(s.current){for(var e=-1,t=0;t<n.length;t++)if(c<n[t].index){e=0===t?0:t-1;break}-1!==e&&s.current.scrollToItem(e,"smart")}}),["view"===t,n]);var d=Object(r.useCallback)((function(e,t){null===i||void 0===i||i(n[e].index+t)}),[i,n]);return"view"!==t?null:Object(j.jsx)("div",{ref:l,className:ke.a.container,style:{fontFamily:o.fontFamily},children:Object(j.jsx)(we.a,{ref:s,height:u,width:a,itemSize:24,itemCount:n.length,className:ke.a.list,overscanCount:20,children:function(e){var t=e.style,r=e.index,a=-1,i=-1;return(!n[r+1]||c<n[r+1].index)&&(a=r,i=c-n[r].index),Object(j.jsx)("div",{className:ke.a.row,style:t,children:n[r].words.map((function(e,t){return Object(j.jsx)("span",{onClick:function(){return d(r,t)},className:Oe()(Object(f.a)({},ke.a.selected,r===a&&t===i)),children:" "+e+" "},(r+1)*t)}))})}})})},Ee=["title","titleId"];function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ne(e,t){var n=e.title,a=e.titleId,c=Pe(e,Ee);return r.createElement("svg",Se({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"play",className:"svg-inline--fa fa-play fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,ge||(ge=r.createElement("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})))}var Me,Ie,Re=r.forwardRef(Ne),Be=(n.p,["title","titleId"]);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fe(e,t){var n=e.title,a=e.titleId,c=We(e,Be);return r.createElement("svg",Le({width:27,height:36,viewBox:"0 0 27 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Me||(Me=r.createElement("path",{d:"M7.50006 36H2.50006C0.370593 36 0 34.2723 0 32.1429V3.85715C0 1.72769 0.370593 7.62939e-06 2.50006 7.62939e-06H7.50006C9.62952 7.62939e-06 10.0001 1.72769 10.0001 3.85715V32.1429C10.0001 34.2723 9.62952 36 7.50006 36Z",fill:"black"})),Ie||(Ie=r.createElement("path",{d:"M24.5001 36H19.5001C17.3706 36 17 34.2723 17 32.1429V3.85714C17 1.72768 17.3706 0 19.5001 0H24.5001C26.6295 0 27.0001 1.72768 27.0001 3.85714V32.1429C27.0001 34.2723 26.6295 36 24.5001 36Z",fill:"black"})))}var ze,He=r.forwardRef(Fe),Ve=(n.p,["title","titleId"]);function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ae(e,t){var n=e.title,a=e.titleId,c=De(e,Ve);return r.createElement("svg",Te({width:24,height:3,viewBox:"0 0 24 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,ze||(ze=r.createElement("path",{d:"M22.2857 0H1.71429C0.767679 0 0 0.447812 0 1V2C0 2.55219 0.767679 3 1.71429 3H22.2857C23.2323 3 24 2.55219 24 2V1C24 0.447812 23.2323 0 22.2857 0Z",fill:"black"})))}var Ze,Ue=r.forwardRef(Ae),Ge=(n.p,["title","titleId"]);function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ke(e,t){var n=e.title,a=e.titleId,c=Xe(e,Ge);return r.createElement("svg",Je({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Ze||(Ze=r.createElement("path",{d:"M9 0C9.55225 0 10 0.447693 10 1V8H17C17.5522 8 18 8.44769 18 9C18 9.55231 17.5522 10 17 10H10V17C10 17.5523 9.55225 18 9 18C8.44775 18 8 17.5523 8 17V10H1C0.447754 10 0 9.55231 0 9C0 8.44769 0.447754 8 1 8H8V1C8 0.447693 8.44775 0 9 0Z",fill:"black"})))}var Ye,qe,Qe=r.forwardRef(Ke),$e=(n.p,n(21)),et=n.n($e),tt=function(e){var t=e.mode,n=e.hidden,r=e.wordsPerMinute,a=e.onPlayPause,c=e.onSpeedUp,i=e.onSpeedDown;return Object(j.jsxs)("div",{className:Oe()(et.a.container,Object(f.a)({},et.a.hidden,n)),onClick:function(e){return e.stopPropagation()},children:[Object(j.jsxs)("div",{className:et.a.buttons,children:[Object(j.jsx)("div",{className:et.a.button,onClick:i,children:Object(j.jsx)(Ue,{})}),Object(j.jsx)("div",{className:et.a.button,onClick:a,children:"play"===t?Object(j.jsx)(He,{}):Object(j.jsx)(Re,{})}),Object(j.jsx)("div",{className:et.a.button,onClick:c,children:Object(j.jsx)(Qe,{})})]}),Object(j.jsx)("div",{className:et.a.bottom,children:r})]})},nt=Object(r.memo)(tt),rt=function(e,t,n){return Math.max(e,Math.min(t,n))},at=function(e){var t=Math.floor(e/1e3),n="",r=Math.floor(t%31536e3/86400);r&&(n+="".concat(r,"d "));var a=Math.floor(t%86400/3600);a&&(n+="".concat(a,"h "));var c=Math.floor(t%3600/60);c&&(n+="".concat(c,"m "));var i=t%60;return i&&(n+="".concat(i,"s")),""===n?"0":n},ct=n(22),it=n.n(ct),ot=function(e){var t,n=e.mode,r=e.hidden,a=e.totalWords,c=e.currentWord,i=x().settings.wordsPerMinute,o=1e3*Math.floor((a-c)/(i/60)),l=100/a*c,s=a-c;return Object(j.jsxs)("div",{className:Oe()(it.a.container,(t={},Object(f.a)(t,it.a.hidden,r),Object(f.a)(t,it.a.playing,"view"!==n),t)),children:[Object(j.jsx)("div",{className:it.a.statusBar,style:{"--position":"".concat(rt(0,l,100),"%")}}),Object(j.jsxs)("div",{className:it.a.bottomBar,children:[Object(j.jsx)("span",{className:it.a.timeLeft,children:at(o)}),Object(j.jsxs)("span",{className:it.a.wordsLeft,children:[s," word",s>1?"s":""," left"]})]})]})},lt=n(15),st=n.n(lt),ut=["title","titleId"];function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bt(e,t){var n=e.title,a=e.titleId,c=dt(e,ut);return r.createElement("svg",ft({width:11,height:20,viewBox:"0 0 11 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Ye||(Ye=r.createElement("path",{d:"M8.62132 0.424532C9.16548 -0.141511 10.0477 -0.141511 10.5919 0.424532C11.136 0.990575 11.136 1.90831 10.5919 2.47436L2.37868 11.0179C1.83453 11.584 0.952275 11.584 0.408119 11.0179C-0.136036 10.4519 -0.136036 9.53414 0.408119 8.96809L8.62132 0.424532Z",fill:"black"})),qe||(qe=r.createElement("path",{d:"M0.408117 11.0319C-0.136039 10.4659 -0.136039 9.54813 0.408117 8.98208C0.952272 8.41604 1.83452 8.41604 2.37868 8.98208L10.5919 17.5256C11.136 18.0917 11.136 19.0094 10.5919 19.5755C10.0477 20.1415 9.16548 20.1415 8.62132 19.5755L0.408117 11.0319Z",fill:"black"})))}var ht,jt=r.forwardRef(bt),pt=(n.p,["title","titleId"]);function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ot(e,t){var n=e.title,a=e.titleId,c=mt(e,pt);return r.createElement("svg",vt({width:22,height:13,viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,ht||(ht=r.createElement("path",{d:"M6.65137 10.4023H2.48145L1.54492 13H0.191406L3.99219 3.04688H5.14062L8.94824 13H7.60156L6.65137 10.4023ZM2.87793 9.32227H6.26172L4.56641 4.66699L2.87793 9.32227ZM17.5 10.3633H12.877L11.998 13H9.19434L13.958 0.203125H16.4014L21.1914 13H18.3877L17.5 10.3633ZM13.5889 8.22754H16.7881L15.1797 3.4375L13.5889 8.22754Z",fill:"black"})))}var xt,gt,yt=r.forwardRef(Ot),wt=(n.p,["title","titleId"]);function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ct(e,t){var n=e.title,a=e.titleId,c=kt(e,wt);return r.createElement("svg",_t({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,xt||(xt=r.createElement("path",{d:"M3.43652 0.1875V2.49023H5.21191V3.74707H3.43652V9.64453C3.43652 10.0254 3.51562 10.3125 3.67383 10.5059C3.83203 10.6934 4.10156 10.7871 4.48242 10.7871C4.66992 10.7871 4.92773 10.752 5.25586 10.6816V12C4.82812 12.1172 4.41211 12.1758 4.00781 12.1758C3.28125 12.1758 2.7334 11.9561 2.36426 11.5166C1.99512 11.0771 1.81055 10.4531 1.81055 9.64453V3.74707H0.0791016V2.49023H1.81055V0.1875H3.43652ZM19.8545 5.96191L21.9639 2.49023H23.8623L20.751 7.19238L23.959 12H22.0781L19.8809 8.44043L17.6836 12H15.7939L19.002 7.19238L15.8906 2.49023H17.7715L19.8545 5.96191ZM27.7998 0.1875V2.49023H29.5752V3.74707H27.7998V9.64453C27.7998 10.0254 27.8789 10.3125 28.0371 10.5059C28.1953 10.6934 28.4648 10.7871 28.8457 10.7871C29.0332 10.7871 29.291 10.752 29.6191 10.6816V12C29.1914 12.1172 28.7754 12.1758 28.3711 12.1758C27.6445 12.1758 27.0967 11.9561 26.7275 11.5166C26.3584 11.0771 26.1738 10.4531 26.1738 9.64453V3.74707H24.4424V2.49023H26.1738V0.1875H27.7998Z",fill:"black"})),gt||(gt=r.createElement("path",{d:"M11.0654 12.1758C9.77637 12.1758 8.72754 11.7539 7.91895 10.9102C7.11035 10.0605 6.70605 8.92676 6.70605 7.50879V7.20996C6.70605 6.2666 6.88477 5.42578 7.24219 4.6875C7.60547 3.94336 8.10938 3.36328 8.75391 2.94727C9.4043 2.52539 10.1074 2.31445 10.8633 2.31445C12.0996 2.31445 13.0605 2.72168 13.7461 3.53613C14.4316 4.35059 14.7744 5.5166 14.7744 7.03418V7.71094H8.33203C8.35547 8.64844 8.62793 9.40723 9.14941 9.9873C9.67676 10.5615 10.3447 10.8486 11.1533 10.8486C11.7275 10.8486 12.2139 10.7314 12.6123 10.4971C13.0107 10.2627 13.3594 9.95215 13.6582 9.56543L14.6514 10.3389C13.8545 11.5635 12.6592 12.1758 11.0654 12.1758ZM10.8633 3.65039C10.207 3.65039 9.65625 3.89062 9.21094 4.37109C8.76562 4.8457 8.49023 5.51367 8.38477 6.375H13.1484V6.25195C13.1016 5.42578 12.8789 4.78711 12.4805 4.33594C12.082 3.87891 11.543 3.65039 10.8633 3.65039Z",fill:"#FF0000"})))}var Et,St,Pt,Nt,Mt=r.forwardRef(Ct),It=(n.p,["title","titleId"]);function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lt(e,t){var n=e.title,a=e.titleId,c=Bt(e,It);return r.createElement("svg",Rt({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Et||(Et=r.createElement("rect",{width:18,height:2,rx:1,fill:"black"})),St||(St=r.createElement("rect",{x:6,width:2,height:6,rx:1,fill:"black"})),Pt||(Pt=r.createElement("rect",{width:18,height:2,rx:1,transform:"matrix(1 0 0 -1 0 16)",fill:"black"})),Nt||(Nt=r.createElement("rect",{width:2,height:6,rx:1,transform:"matrix(1 0 0 -1 6 16)",fill:"black"})))}var Wt=r.forwardRef(Lt),Ft=(n.p,function(e){var t=e.title,n=e.mode,r=e.hidden,a=e.onBackButton,c=e.onChangeFont,i=e.onSetORP,o=e.onSetORPGuidelines;return Object(j.jsxs)("div",{className:Oe()(st.a.container,Object(f.a)({},st.a.hidden,r)),onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("div",{className:Oe()(st.a.button,st.a.backButton),onClick:a,children:Object(j.jsx)(jt,{})}),"view"===n&&Object(j.jsx)("span",{className:st.a.title,children:t}),Object(j.jsx)("div",{className:st.a.buttons,children:"view"!==n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:Oe()(st.a.button),onClick:c,children:Object(j.jsx)(yt,{})}),Object(j.jsx)("div",{className:Oe()(st.a.button),onClick:i,children:Object(j.jsx)(Mt,{})}),Object(j.jsx)("div",{className:Oe()(st.a.button),onClick:o,children:Object(j.jsx)(Wt,{})})]})})]})}),zt=Object(r.memo)(Ft),Ht=n(49),Vt=n(50),Tt=Number.MAX_SAFE_INTEGER;var Dt=function(e,t,n){var a=(new Date).getTime(),c=Object(r.useState)(a),i=Object(l.a)(c,2)[1],o=Object(r.useState)(Tt),s=Object(l.a)(o,2),u=s[0],f=s[1];Object(r.useEffect)((function(){if(e){var n=(new Date).getTime()+t,r=t?Math.max(n,n):Tt;f(r)}else f(Tt)}),[e,t]),Object(r.useEffect)((function(){var r;if(t&&e){var c=Math.max(0,Math.floor((a-u)/t));if(c%2!==1)if(a>=u){var o=0;if("function"===typeof n)try{o=n()||0}catch(d){console.error(d)}var l=c*t,s=Math.max(a,u+t+l+o);f(s),r=setTimeout((function(){i((new Date).getTime())}),Math.max(s-(new Date).getTime(),1))}else u<Tt&&(r=setTimeout((function(){i((new Date).getTime())}),Math.max(u-(new Date).getTime(),1)));else r=setTimeout((function(){i((new Date).getTime())}),20)}return function(){clearTimeout(r)}}),[a,u,e,t,n])},At=n(32),Zt=n.n(At);var Ut=function(e){return 1===e?1:Math.ceil((e-1)/4)+1},Gt=function(){function e(){Object(Ht.a)(this,e),this.ctx=void 0,this.templateChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz1234567890~!@#$%^&*()_+={}:'\"\\,./<>?",this.chars=new Map,"OffscreenCanvas"in globalThis?this.ctx=new OffscreenCanvas(1,1).getContext("2d"):this.ctx=document.createElement("canvas").getContext("2d"),this.ctx.font="".concat(48,"px SFMono"),this.measureChars()}return Object(Vt.a)(e,[{key:"measure",value:function(e){return this.ctx.measureText(e).width}},{key:"measureChars",value:function(){var e=this;this.chars=new Map(this.templateChars.split("").map((function(t){return[t,e.measure(t)]})))}},{key:"setFont",value:function(){this.measureChars()}},{key:"longestWidth",value:function(){var e=0;return this.chars.forEach((function(t,n){t>e&&(e=t)})),e}},{key:"measureChar",value:function(e){var t=this.chars.get(e);return t||(t=this.measure(e),this.chars.set(e,t)),t}}]),e}();var Jt=function(e){var t,n=e.width,a=e.mode,c=e.text,i=e.initialIndex,o=void 0===i?0:i,s=e.onNextWord,u=x().settings,b=Object(r.useState)({currentWord:"",currentIndex:0,hasNextWord:!1,items:[]}),h=Object(l.a)(b,2),p=h[0],v=p.currentWord,m=p.currentIndex,O=p.hasNextWord,g=h[1];Object(r.useEffect)((function(){if(c){var e=c.split(" "),t=e.length,n={currentWord:"",currentIndex:0,hasNextWord:!1,items:e};if(t>0){var r=rt(0,o||0,t),a=e[r];a&&(n.currentIndex=r,n.currentWord=a,n.hasNextWord=e.length>r)}g(n)}}),[c,s]);var y=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(a);Object(r.useEffect)((function(){if("view"===y&&"view"!==a){var e=c.split(" "),t=e.length,n={currentWord:"",currentIndex:0,hasNextWord:!1,items:e};if(t>0){var r=rt(0,o||0,t),i=e[r];i&&(n.currentIndex=r,n.currentWord=i,n.hasNextWord=e.length>r)}g(n)}}),[y,a]),Object(r.useEffect)((function(){null===s||void 0===s||s(m)}),[s,m]);var w=Object(r.useCallback)((function(){g((function(e){var t=Object(d.a)({},e),n=e.items[e.currentIndex+1];return n?(t.currentWord=n,t.currentIndex++,t.hasNextWord=e.items.length>t.currentIndex):t.hasNextWord=!1,t}))}),[]),_=60/u.wordsPerMinute*1e3;Dt("play"===a&&O,_,w);var k=function(e){var t=e.word,n=e.width,a=Object(r.useRef)(null);Object(r.useEffect)((function(){a.current=new Gt}),[]);var c=Object(r.useState)({maxOffset:0,maxWords:0,orpMiddlePointPx:0}),i=Object(l.a)(c,2),o=i[0],s=o.orpMiddlePointPx,u=o.maxOffset,f=o.maxWords,d=i[1];Object(r.useEffect)((function(){if(a.current){var e=Math.floor((n||0)/a.current.longestWidth())-1,t=Ut(e)*a.current.longestWidth()+a.current.longestWidth()/2,r=Ut(e)+1;d({maxOffset:r,maxWords:e-(r-Ut(e)),orpMiddlePointPx:t})}}),[n]);var b=t.trim().substr(0,f),h=b.replaceAll(/^[^a-z\u0430-\u044f\d]*|[^a-z\u0430-\u044f\d]*$/gi,""),p=Ut(h.length),v="".padStart(u-p,"\xa0");return{chars:[Object(j.jsx)("span",{children:v+b.substr(0,p-1)},1),Object(j.jsx)("span",{children:b[p-1]},2),Object(j.jsx)("span",{children:h.length>2?b.substr(p):""},3)],orpMiddlePointPx:s,maxOffset:u}}({word:v,width:n}),C=k.chars,E=k.orpMiddlePointPx;return"view"===a?null:Object(j.jsx)("div",{className:Zt.a.container,style:{fontFamily:u.fontFamily,fontSize:"".concat(u.fontSize,"px")},children:Object(j.jsx)("div",{className:Oe()(Zt.a.ORPGuideline,(t={},Object(f.a)(t,Zt.a.disabled,!u.ORPGuideLine),Object(f.a)(t,Zt.a.orp,u.ORP),t)),style:{"--orpPos":"".concat(E,"px"),fontFamily:"SFMono",lineHeight:"82px"},children:C})})},Xt=Object(r.memo)(Jt),Kt=n(33),Yt=n.n(Kt),qt=null;function Qt(e,t){if(qt||(qt=document.createElement("canvas").getContext("2d")),qt){qt.font="".concat(t,"px ").concat(e),qt.textBaseline="top";var n=qt.measureText("B");return(Math.abs(n.actualBoundingBoxLeft)+Math.abs(n.actualBoundingBoxRight))/"B".length}return 0}var $t=function(e,t){var n=Object(r.useState)(Qt(e,t)),a=Object(l.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){i(Qt(e,t))}),[e,t]),c};function en(e,t){var n=Object(r.useState)([]),a=Object(l.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){i(function(e,t){if(0===t)return[];var n,r=e.split(" "),a=[],c=[],i=0,o=Object(b.a)(r);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(c.push(l),c.join(" ").length>t){var s=c.pop();a.push({index:i,text:c.join(" "),words:c}),i+=c.length,c=[s]}}}catch(u){o.e(u)}finally{o.f()}return a}(e,t))}),[e,t]),c}var tn=function(e){var t=e.info,n=e.text,a=e.onBack,c=x(),i=c.settings,o=c.set,s=Object(r.useState)(!1),u=Object(l.a)(s,2),d=u[0],b=u[1],h=Object(r.useState)("view"),p=Object(l.a)(h,2),v=p[0],m=p[1],O=function(e){var t=se(),n=t.getStats,a=t.setStats,c=Object(r.useState)(n(e)),i=Object(l.a)(c,2),o=i[0],s=i[1],u=Object(r.useCallback)((function(e,t,n){s(a(e,t,n))}),[a]);return Object(r.useEffect)((function(){s(n(e))}),[e]),{stats:o,setStats:u}}(t.id),g=O.stats,y=O.setStats,w=Object(r.useCallback)((function(e){return y(t.id,"index",e)}),[t.id,y]);xe("view"===v?"#FEFEFE":"#edd1b0");var _=Object(r.useRef)(null),k=Object(r.useCallback)((function(){m((function(e){return"play"===e?(_.current&&(clearTimeout(_.current),_.current=null),"pause"):"play"}))}),[]),C=Object(r.useCallback)((function(e){y(t.id,"index",e)}),[t.id,y]),E=Object(r.useRef)(null),S=ye(E).width,P=Object(r.useCallback)((function(){"pause"===v||"play"===v?m("view"):a()}),[v,a]),N=Object(r.useCallback)((function(){k()}),[k]),M=Object(r.useCallback)((function(){return o("ORP",(function(e){return!e}))}),[o]),I=Object(r.useCallback)((function(){return o("ORPGuideLine",(function(e){return!e}))}),[o]),R=Object(r.useCallback)((function(){return k()}),[k]),B=Object(r.useCallback)((function(){return o("wordsPerMinute",(function(e){return e+20}))}),[o]),L=Object(r.useCallback)((function(){return o("wordsPerMinute",(function(e){return e-20}))}),[o]),W=Object(r.useCallback)((function(){"play"===v&&d?b(!1):"play"!==v||d?"play"!==v&&d&&b(!1):b(!0)}),[v,d]),F={fontFamily:"SFMono",fontSize:16,fontWeight:"normal",lineHeight:17},z=$t(F.fontFamily,F.fontSize),H=en(n,Math.floor(S/z));return Object(j.jsxs)("div",{className:Oe()(Yt.a.container,Object(f.a)({},Yt.a.playing,"view"!==v)),onClick:W,children:[Object(j.jsx)(zt,{mode:v,hidden:d,title:t.title,onBackButton:P,onChangeFont:N,onSetORP:M,onSetORPGuidelines:I}),Object(j.jsxs)("div",{className:Yt.a.content,children:[Object(j.jsxs)("div",{ref:E,className:Yt.a.reader,children:[Object(j.jsx)(Xt,{width:S,mode:v,text:n,initialIndex:g.index,onNextWord:w}),Object(j.jsx)(Ce,{fontInfo:F,width:S,mode:v,rows:H,currentIndex:g.index,onCurrentIndexChange:C})]}),Object(j.jsx)(nt,{mode:v,hidden:d,wordsPerMinute:i.wordsPerMinute,onPlayPause:R,onSpeedUp:B,onSpeedDown:L}),Object(j.jsx)(ot,{mode:v,hidden:d,totalWords:t.totalWords,currentWord:g.index})]})]})},nn=n(51),rn=n.n(nn);var an,cn,on,ln=function(){var e=function(e){var t=ae().getBook,n=Object(r.useState)(null),a=Object(l.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){t(e).then((function(e){var t=e.info,n=e.items;i({info:t,items:n,text:n.join(" ").split(" ")})}))}),[e,t]),c}(Object(o.h)().id),t=Object(o.f)(),n=Object(r.useCallback)((function(){return t.goBack()}),[t]);return Object(j.jsx)("div",{className:rn.a.container,children:e&&Object(j.jsx)(tn,{info:Object(d.a)(Object(d.a)({},e.info),{},{totalSentences:1e3,totalWords:e.text.length}),text:e.text.join(" "),onBack:n})})},sn=["title","titleId"];function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dn(e,t){var n=e.title,a=e.titleId,c=fn(e,sn);return r.createElement("svg",un({width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,an||(an=r.createElement("path",{d:"M2 0C0.895161 0 0 0.895161 0 2C0 3.10484 0.895161 4 2 4C3.10484 4 4 3.10484 4 2C4 0.895161 3.10484 0 2 0Z",fill:"#868485"})),cn||(cn=r.createElement("path",{d:"M8 0C6.89516 0 6 0.895161 6 2C6 3.10484 6.89516 4 8 4C9.10484 4 10 3.10484 10 2C10 0.895161 9.10484 0 8 0Z",fill:"#868485"})),on||(on=r.createElement("path",{d:"M14 0C12.8952 0 12 0.895161 12 2C12 3.10484 12.8952 4 14 4C15.1048 4 16 3.10484 16 2C16 0.895161 15.1048 0 14 0Z",fill:"#868485"})))}var bn=r.forwardRef(dn),hn=(n.p,n(16)),jn=n.n(hn);var pn=function(e){var t,n=e.book,a=e.currentWord,c=e.wordsPerMinute,i=(e.onClick,Object(r.useRef)(null)),o=Math.floor(100/n.totalWords*a),l=1e3*Math.floor((n.totalWords-a)/(c/60));return Object(j.jsxs)(s.b,{to:"/book/".concat(n.id),className:jn.a.container,children:[Object(j.jsx)("div",{className:Oe()(jn.a.book,jn.a.nocover,(t={},Object(f.a)(t,jn.a.nocover,!n.cover),Object(f.a)(t,jn.a.nocover,n.cover),t)),children:(n.cover||!n.cover)&&Object(j.jsxs)("div",{ref:i,className:jn.a.bookWrapper,children:[Object(j.jsx)("svg",{children:Object(j.jsx)("foreignObject",{x:"0",y:"0",width:"100%",height:"100%",children:Object(j.jsx)("div",{className:jn.a.title,children:n.title})})}),Object(j.jsx)("svg",{children:Object(j.jsx)("foreignObject",{x:"0",y:"50%",width:"100%",height:"100%",children:Object(j.jsx)("div",{className:jn.a.author,children:n.creator})})})]})}),Object(j.jsxs)("div",{className:jn.a.bottom,children:[Object(j.jsx)("div",{children:100!==o?"".concat(o," %"):"FINISHED"}),Object(j.jsxs)("div",{children:[" ",at(l)]}),Object(j.jsx)("div",{children:Object(j.jsx)(bn,{})})]})]})},vn=n(40),mn=n.n(vn);var On=function(e,t){return Object(r.useCallback)((function(){var e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=function(e){if(!e.target||0===e.target.files.length)return t([]);t(e.target.files)},e.click()}),[t])},xn=n(23),gn=n.n(xn),yn=function(e){var t=e.title,n=e.editMode,r=e.onBookAdd,a=e.onEdit,c=e.onSelectAll,i=e.onDone;return Object(j.jsxs)("div",{className:gn.a.container,children:[!n&&Object(j.jsx)("div",{className:gn.a.leftButton,onClick:r,children:Object(j.jsx)(Qe,{})}),n&&Object(j.jsx)("div",{className:Oe()(gn.a.leftButton,gn.a.selectAllButton),onClick:c,children:"Select All"}),Object(j.jsx)("div",{className:gn.a.title,children:t}),!n&&Object(j.jsx)("div",{className:gn.a.leftButton,onClick:a,children:"Edit"}),n&&Object(j.jsx)("div",{className:gn.a.leftButton,onClick:i,children:"Done"})]})},wn=function(){xe("#FEFEFE");var e=x().settings,t=se().getStats,n=ae(),a=n.library,c=n.loadBooks,i=On({multiple:!0},function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o=Object(r.useCallback)((function(e){}),[]),s=Object(r.useState)(!1),u=Object(l.a)(s,2),f=u[0],d=u[1],b=Object(r.useCallback)((function(){}),[]),h=Object(r.useCallback)((function(){d(!0)}),[]),p=Object(r.useCallback)((function(){d(!1)}),[]);return Object(j.jsxs)("div",{className:mn.a.container,children:[Object(j.jsx)(yn,{title:"Library",editMode:f,onBookAdd:i,onEdit:h,onSelectAll:b,onDone:p}),Object(j.jsx)("div",{className:mn.a.listContainer,children:Object(j.jsx)("div",{className:mn.a.list,children:a.map((function(n){return Object(j.jsx)(pn,{book:n,currentWord:t(n.id).index,wordsPerMinute:e.wordsPerMinute,onClick:o},n.id)}))})})]})},_n=n(38),kn=n(34),Cn=n.n(kn),En=function(e){var t=e.title;return Object(j.jsxs)("div",{className:Cn.a.container,children:[Object(j.jsx)("div",{className:Cn.a.leftButton}),Object(j.jsx)("div",{className:Cn.a.title,children:t}),Object(j.jsx)("div",{className:Cn.a.rightButton})]})},Sn=n(19),Pn=n.n(Sn);function Nn(e){var t=e.active,n=e.onClick;return Object(j.jsx)("div",{className:Oe()(Pn.a.checkbox,Object(f.a)({},Pn.a.active,t)),onClick:n})}function Mn(e){var t=e.title,n=e.value;return Object(j.jsxs)("div",{className:Pn.a.item,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)("div",{children:n})]})}function In(e){var t=e.title,n=e.onClick,r=e.value;return Object(j.jsxs)("div",{className:Pn.a.item,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)("div",{children:Object(j.jsx)(Nn,{active:r,onClick:n})})]})}function Rn(e){var t=e.title,n=e.children;return Object(j.jsxs)("div",{className:Pn.a.category,children:[t&&Object(j.jsx)("div",{className:Pn.a.categoryTitle,children:t}),n]})}var Bn,Ln,Wn,Fn,zn,Hn,Vn,Tn,Dn,An,Zn,Un,Gn,Jn,Xn=function(e){Object(_n.a)(e);var t=x(),n=t.settings,a=t.set,c=Object(r.useCallback)((function(){return a("ORP",(function(e){return!e}))}),[a]),i=Object(r.useCallback)((function(){return a("ORPGuideLine",(function(e){return!e}))}),[a]),o=Object(r.useCallback)((function(){return a("slowDownOnLongWords",(function(e){return!e}))}),[a]);return Object(j.jsxs)("div",{className:Pn.a.container,children:[Object(j.jsx)(En,{title:"Settings"}),Object(j.jsxs)("div",{className:Pn.a.settings,children:[Object(j.jsxs)(Rn,{title:"Book Reader",children:[Object(j.jsx)(Mn,{title:"Font family",value:"SF Mono"}),Object(j.jsx)(Mn,{title:"Font size",value:"16 px"})]}),Object(j.jsxs)(Rn,{title:"RSVP Reader",children:[Object(j.jsx)(Mn,{title:"Font family",value:"SF Mono"}),Object(j.jsx)(Mn,{title:"Font size",value:"48 px"}),Object(j.jsx)(In,{title:"Show optimal recognition point",value:n.ORP,onClick:c}),Object(j.jsx)(In,{title:"Show ORP guideline",value:n.ORPGuideLine,onClick:i}),Object(j.jsx)(In,{title:"Slow down on long words",value:n.slowDownOnLongWords,onClick:o})]})]})]})},Kn=["title","titleId"];function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qn(e,t){var n=e.title,a=e.titleId,c=qn(e,Kn);return r.createElement("svg",Yn({height:"480pt",viewBox:"0 0 480.00958 480",width:"480pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Bn||(Bn=r.createElement("path",{d:"m128 104.003906v-32c0-4.417968-3.582031-8-8-8h-112c-4.417969 0-8 3.582032-8 8v32zm0 0"})),Ln||(Ln=r.createElement("path",{d:"m0 120.003906v264h128v-264zm96 104h-64c-4.417969 0-8-3.582031-8-8v-64c0-4.417968 3.582031-8 8-8h64c4.417969 0 8 3.582032 8 8v64c0 4.417969-3.582031 8-8 8zm0 0"})),Wn||(Wn=r.createElement("path",{d:"m0 432.003906v40c0 4.417969 3.582031 8 8 8h112c4.417969 0 8-3.582031 8-8v-40zm0 0"})),Fn||(Fn=r.createElement("path",{d:"m0 400.003906h128v16h-128zm0 0"})),zn||(zn=r.createElement("path",{d:"m144 400.003906h104v16h-104zm0 0"})),Hn||(Hn=r.createElement("path",{d:"m248 32.003906v-24c0-4.417968-3.582031-7.99999975-8-7.99999975h-88c-4.417969 0-8 3.58203175-8 7.99999975v24zm0 0"})),Vn||(Vn=r.createElement("path",{d:"m144 88.003906h104v296h-104zm0 0"})),Tn||(Tn=r.createElement("path",{d:"m144 432.003906v40c0 4.417969 3.582031 8 8 8h88c4.417969 0 8-3.582031 8-8v-40zm0 0"})),Dn||(Dn=r.createElement("path",{d:"m144 48.003906h104v24h-104zm0 0"})),An||(An=r.createElement("path",{d:"m263.808594 165.667969 4.28125 16.433593 135.484375-36.128906-4.285157-16.433594zm0 0"})),Zn||(Zn=r.createElement("path",{d:"m330.664062 421.949219 135.480469-36.128907-8.578125-32.886718-135.488281 36.128906zm0 0"})),Un||(Un=r.createElement("path",{d:"m453.527344 337.453125-45.910156-176-135.488282 36.128906 45.910156 176zm0 0"})),Gn||(Gn=r.createElement("path",{d:"m259.769531 150.1875 135.476563-36.125-11.484375-44.058594c-1.183594-4.265625-5.542969-6.816406-9.839844-5.757812l-120 32c-4.238281 1.160156-6.765625 5.5-5.683594 9.757812zm0 0"})),Jn||(Jn=r.createElement("path",{d:"m470.183594 401.300781-135.488282 36.128907 9.542969 36.574218c.554688 2.0625 1.90625 3.820313 3.761719 4.882813 1.207031.730469 2.589844 1.117187 4 1.117187.699219 0 1.398438-.082031 2.078125-.238281l120-32c4.238281-1.160156 6.765625-5.503906 5.683594-9.761719zm0 0"})))}var $n,er,tr,nr,rr,ar,cr,ir,or,lr,sr,ur,fr,dr,br,hr,jr,pr,vr=r.forwardRef(Qn),mr=(n.p,["title","titleId"]);function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gr(e,t){var n=e.title,a=e.titleId,c=xr(e,mr);return r.createElement("svg",Or({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,$n||($n=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,405.333h-56.811C424.619,374.592,396.373,352,362.667,352s-61.931,22.592-71.189,53.333H21.333 C9.557,405.333,0,414.891,0,426.667S9.557,448,21.333,448h270.144c9.237,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,405.333,490.667,405.333z M362.667,458.667 c-17.643,0-32-14.357-32-32s14.357-32,32-32s32,14.357,32,32S380.309,458.667,362.667,458.667z"})))),er||(er=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,64h-56.811c-9.259-30.741-37.483-53.333-71.189-53.333S300.736,33.259,291.477,64H21.333 C9.557,64,0,73.557,0,85.333s9.557,21.333,21.333,21.333h270.144C300.736,137.408,328.96,160,362.667,160 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,64,490.667,64z M362.667,117.333 c-17.643,0-32-14.357-32-32c0-17.643,14.357-32,32-32s32,14.357,32,32C394.667,102.976,380.309,117.333,362.667,117.333z"})))),tr||(tr=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,234.667H220.523c-9.259-30.741-37.483-53.333-71.189-53.333s-61.931,22.592-71.189,53.333H21.333 C9.557,234.667,0,244.224,0,256c0,11.776,9.557,21.333,21.333,21.333h56.811c9.259,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h270.144c11.797,0,21.333-9.557,21.333-21.333C512,244.224,502.464,234.667,490.667,234.667z  M149.333,288c-17.643,0-32-14.357-32-32s14.357-32,32-32c17.643,0,32,14.357,32,32S166.976,288,149.333,288z"})))),nr||(nr=r.createElement("g",null)),rr||(rr=r.createElement("g",null)),ar||(ar=r.createElement("g",null)),cr||(cr=r.createElement("g",null)),ir||(ir=r.createElement("g",null)),or||(or=r.createElement("g",null)),lr||(lr=r.createElement("g",null)),sr||(sr=r.createElement("g",null)),ur||(ur=r.createElement("g",null)),fr||(fr=r.createElement("g",null)),dr||(dr=r.createElement("g",null)),br||(br=r.createElement("g",null)),hr||(hr=r.createElement("g",null)),jr||(jr=r.createElement("g",null)),pr||(pr=r.createElement("g",null)))}var yr=r.forwardRef(gr),wr=(n.p,n(28)),_r=n.n(wr),kr=function(e){Object(_n.a)(e);var t=Object(o.g)();return Object(j.jsxs)("div",{className:_r.a.container,children:[Object(j.jsxs)(s.b,{to:"/",className:Oe()(_r.a.item,Object(f.a)({},_r.a.selected,"/"===t.pathname)),children:[Object(j.jsx)(vr,{}),"Library"]}),Object(j.jsxs)(s.b,{to:"/settings",className:Oe()(_r.a.item,Object(f.a)({},_r.a.selected,"/settings"===t.pathname)),children:[Object(j.jsx)(yr,{}),"Settings"]})]})},Cr=n(52),Er=n.n(Cr);function Sr(){var e=Object(o.g)();return console.log(e),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/book/:id",exact:!0,component:ln}),Object(j.jsxs)(o.a,{path:"/",children:[Object(j.jsx)(o.a,{path:"/",exact:!0,component:wn}),Object(j.jsx)(o.a,{path:"/settings",exact:!0,component:Xn}),Object(j.jsx)(kr,{})]})]})}var Pr=function(){return Object(j.jsx)("div",{className:Er.a.container,children:Object(j.jsx)(ve,{children:Object(j.jsx)(Sr,{})})})},Nr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Mr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ir=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(80);i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Pr,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/readero",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/readero","/service-worker.js");Nr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Mr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Mr(t,e)}))}}(),Ir()}},[[81,1,2]]]);
//# sourceMappingURL=main.b3707198.chunk.js.map