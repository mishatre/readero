{"version":3,"sources":["Components/ReaderControls/styles.module.scss","Components/Book/styles.module.scss","Pages/Library/styles.module.scss","Components/BookPlayer/styles.module.scss","Pages/Reader/ReaderHeader/styles.module.scss","Pages/Reader/styles.module.scss","Providers/Storage/index.tsx","utils/context.ts","Providers/index.tsx","Components/SingleWordRender/index.tsx","Components/BookPlayer/index.tsx","assets/icons/minus-solid.svg","assets/icons/plus-solid.svg","utils/wordTime.ts","Components/ReaderControls/index.tsx","assets/icons/cog-solid.svg","assets/icons/angle-left-solid.svg","Pages/Reader/ReaderHeader/index.tsx","Pages/Reader/index.tsx","Components/Book/index.tsx","hooks/useFileInput.ts","Libraries/epubToTxt.ts","Pages/Library/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","defaultSettings","font","fontSize","wordsPerMinute","ctx","createContext","undefined","c","useContext","Error","Provider","createCtx","useStorageContext","StorageProvider","children","useState","loaded","setLoaded","settings","setSettings","library","setLibrary","loadSettings","useCallback","a","localforage","getItem","data","setItem","loadLibrary","item","id","coverBlob","cover","URL","createObjectURL","console","log","addBook","bookInfo","find","content","info","fetch","coverFetchResponse","blob","removeBook","getBookContent","getCurrentWordIndex","currentWordIndex","saveCurrentWordIndex","index","saveCurrentSpeed","newSpeed","useEffect","value","Providers","Storage","SingleWordRender","word","split","length","indexOf","Math","floor","ORP","lpad","rpad","padStart","className","substr","BookPart","bookText","startIndex","max","stopIndex","min","leftPart","slice","join","rightPart","styles","text","selected","BookPlayer","isPlaying","rawBookText","onPlayerClick","onClickHandler","container","onClick","cn","textPlayer","playing","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","d","SvgMinusSolid","_ref","svgRef","title","titleId","props","focusable","role","xmlns","viewBox","ref","ForwardRef","SvgPlusSolid","completionRate","wordCount","toFixed","timeToRead","wordPerMinute","seconds1","temp","days","hours","minutes","seconds","secondsToStr","ReaderControls","speedDown","speedUp","togglePlay","wordsCount","currentIndex","completed","ttr","speedDownHanlder","e","preventDefault","stopPropagation","speedUpHanlder","topLine","controls","button","stats","bar","style","bottom","SvgCogSolid","SvgAngleLeftSolid","ReaderHeader","history","useHistory","goBack","never","Number","MAX_SAFE_INTEGER","Reader","setRawBookText","setBookText","setCurrentWordIndex","useParams","setTitle","then","replaceAll","speed","setSpeed","setPlaying","options","now","Date","getTime","started","setStarted","setCheckTime","nextFireTime","setNextFireTime","isStarted","isStopped","start","currentTime","newNextFireTime","delay","stop","timeout","overdueCalls","userDelay","callback","error","overdueElapsedTime","newFireTime","setTimeout","clearTimeout","useAccurateTimer","v","newIndex","newValue","curr","Book","book","to","nocover","bookWrapper","author","useFileInput","input","document","createElement","type","onchange","event","files","click","zip","JsZip","domParser","DOMParser","findFile","archive","filename","result","filter","_","file","name","toLowerCase","validateMimeType","mimeFile","async","trim","validateRootFile","containerFile","xmlData","parsedXML","parser","parse","ignoreAttributes","rootfiles","rootfile","rootFileInfo","rootFile","parseRootFile","XMLData","ignoreNameSpace","attributeNamePrefix","epubData","push","parseMetadata","package","metadata","parseGuide","guide","parseContent","Promise","all","reduce","acc","Array","isArray","identifier","String","replace","creator","epubPackage","textFiles","spine","itemref","idref","fileInfo","manifest","href","path","pop","items","concat","r","parseFromString","documentElement","textContent","cleanText","reference","foundDescription","size","compileContent","compiledText","sentences","map","loadAsync","parsedEpub","epubToTxt","Library","onAdd","selectedFile","onBookClick","header","add","listContainer","list","bottomMenu","App","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b90f5e94.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2wTvz\",\"topLine\":\"styles_topLine__2_6vM\",\"controls\":\"styles_controls__35G0Q\",\"button\":\"styles_button__DEm4P\",\"wordsPerMinute\":\"styles_wordsPerMinute__1W0_y\",\"stats\":\"styles_stats__3X4yd\",\"bar\":\"styles_bar__2-6X5\",\"bottom\":\"styles_bottom__2_4JQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__37Pj3\",\"book\":\"styles_book__MO8h4\",\"cover\":\"styles_cover__iveuQ\",\"bookWrapper\":\"styles_bookWrapper__1h3J3\",\"title\":\"styles_title__1byxz\",\"author\":\"styles_author__1tkc1\",\"bottom\":\"styles_bottom__lO9CU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1Ej-K\",\"header\":\"styles_header__2qrGJ\",\"title\":\"styles_title__uPFBr\",\"add\":\"styles_add__Ar1JF\",\"listContainer\":\"styles_listContainer__ah3i7\",\"list\":\"styles_list__2-5po\",\"bottomMenu\":\"styles_bottomMenu__2VOH0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3pbaN\",\"textPlayer\":\"styles_textPlayer__28mO1\",\"text\":\"styles_text__jtnD_\",\"selected\":\"styles_selected__3er6P\",\"playing\":\"styles_playing__2lA6K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__ifhOb\",\"title\":\"styles_title__jOaLP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2yWX5\"};","import createCtx from '../../utils/context';\nimport localforage from 'localforage';\nimport { useCallback, useEffect, useState } from 'react';\n\ninterface IStorageProviderProps {\n    children: React.ReactNode;\n}\n\nexport interface IStorageSettings {\n    font: string;\n    fontSize: number;\n    wordsPerMinute: number;\n}\n\nexport interface IBookInfo {\n    id: string;\n    title: string;\n    author: string;\n\n    cover?: string;\n}\n\ninterface IBook {\n    id: string;\n    title: string;\n    author: string;\n    cover?: string;\n    ttc?: string;\n    completed?: number;\n}\n\ninterface IStorageContext {\n    loaded: boolean;\n\n    library: IBookInfo[];\n    settings: IStorageSettings;\n\n    addBook: (bookInfo: any) => void;\n    removeBook: (id: string) => void;\n\n    getBookContent: (id: string) => Promise<{\n        info: IBookInfo;\n        content: string;\n        currentWordIndex: number;\n    }>;\n\n    saveCurrentWordIndex: (id: string, index: number) => void;\n    saveCurrentSpeed: (speed: number) => void;\n}\n\nconst defaultSettings = {\n    font: 'Helvetica',\n    fontSize: 16,\n    wordsPerMinute: 320,\n};\n\nconst [useStorageContext, Provider] = createCtx<IStorageContext>();\n\nconst StorageProvider = ({ children }: IStorageProviderProps) => {\n    const [loaded, setLoaded] = useState(false);\n    const [settings, setSettings] = useState<IStorageSettings>(defaultSettings);\n    const [library, setLibrary] = useState<IBookInfo[]>([]);\n\n    const loadSettings = useCallback(async () => {\n        const data = await localforage.getItem('settings');\n        if (!data) {\n            await localforage.setItem('settings', defaultSettings);\n            setSettings(defaultSettings);\n        } else {\n            setSettings(data as IStorageSettings);\n        }\n    }, []);\n\n    const loadLibrary = useCallback(async () => {\n        const data = await localforage.getItem('library');\n        for (let item of (data || []) as any) {\n            const coverBlob = await localforage.getItem(`${item.id}_cover`);\n            if (coverBlob) {\n                (item as any).cover = URL.createObjectURL(coverBlob);\n            }\n        }\n\n        console.log(data);\n\n        setLibrary((data as any) || []);\n        setLoaded(true);\n    }, []);\n\n    //\n    const addBook = useCallback(\n        async (bookInfo: any) => {\n            const bookExist = library.find((item) => item.id === bookInfo.id);\n            if (bookExist) {\n                console.log('Book already exist');\n                return;\n            }\n\n            const { content, cover, ...info } = bookInfo;\n\n            await localforage.setItem('library', [...library, info]);\n            setLibrary([...library, { ...info, cover }]);\n\n            await localforage.setItem(bookInfo.id, content);\n            if (cover) {\n                const coverFetchResponse = await fetch(cover);\n                const coverBlob = await coverFetchResponse.blob();\n                await localforage.setItem(`${bookInfo.id}_cover`, coverBlob);\n            }\n        },\n        [library]\n    );\n    const removeBook = useCallback((id: string) => {}, []);\n\n    const getBookContent = useCallback(\n        async (id: string) => {\n            const content = (await localforage.getItem(id)) as string;\n            const info = library.find((item) => item.id === id)!;\n\n            const currentWordIndex = (await getCurrentWordIndex(id)) || 0;\n\n            return {\n                info,\n                content,\n                currentWordIndex,\n            };\n        },\n        [library]\n    );\n\n    const getCurrentWordIndex = useCallback((id: string) => {\n        return localforage.getItem(`${id}_index`) as unknown as number;\n    }, []);\n\n    const saveCurrentWordIndex = useCallback((id: string, index: number) => {\n        localforage.setItem(`${id}_index`, index);\n    }, []);\n\n    const saveCurrentSpeed = useCallback(\n        (newSpeed: number) => {\n            localforage.setItem(`settings`, {\n                ...settings,\n                wordsPerMinute: newSpeed,\n            });\n            setSettings({ ...settings, wordsPerMinute: newSpeed });\n        },\n        [settings]\n    );\n\n    useEffect(() => {\n        loadSettings();\n        loadLibrary();\n    }, [loadSettings, loadLibrary]);\n\n    return (\n        <Provider\n            value={{\n                loaded,\n\n                library,\n                settings,\n\n                addBook,\n                removeBook,\n\n                getBookContent,\n\n                saveCurrentWordIndex,\n                saveCurrentSpeed,\n            }}\n        >\n            {children}\n        </Provider>\n    );\n};\n\nexport { useStorageContext };\n\nexport default StorageProvider;\n","\nimport { createContext, useContext } from \"react\";\n\nexport default function createCtx<A extends {} | null>() {\n    const ctx = createContext<A | undefined>(undefined);\n    function useCtx() {\n        const c = useContext(ctx);\n        if (c === undefined) {\n            throw new Error('useCtx must be inside a Provider with a value');\n        }\n        return c;\n    }\n    return [useCtx, ctx.Provider] as const;\n}","\nimport { BrowserRouter as Router, } from 'react-router-dom';\nimport StorageProvider from './Storage';\n\ninterface IProvidersProps { \n    children: React.ReactNode;\n}\n\nconst Providers = ({ children }: IProvidersProps) => {\n    return (\n        <Router>\n            <StorageProvider>\n                {children}\n            </StorageProvider>\n        </Router>\n    )\n}\n\nexport default Providers;","\nimport './styles.scss';\n\ninterface ISingleWordRender {\n    word: string;\n}\n\nfunction ORP(word: string){\n    var length = word.length;\n    while('\\n,.?!:;\"'.indexOf(word[--length]) !== -1);\n    switch(++length) {\n      case 0: case 1: return 0;\n      case 2: case 3: return 1;\n      default: return Math.floor(length / 2) - 1;\n    }\n}\n\nconst SingleWordRender = ({ word }: ISingleWordRender) => {\n\n    const split = ORP(word);\n    const length = word.length;\n    let lpad = '';\n    let rpad = '';\n\n    if (length === 2) {\n        rpad = \"\\u00A0\";\n    } else if (length === 1 || length === 3) {\n    } else if (length % 2) {\n        lpad = \"\".padStart(Math.floor(length / 2) - split + 1, \"\\u00A0\");\n    } else {\n        lpad = \"\".padStart(Math.floor(length / 2) - split, \"\\u00A0\");\n    }\n\n    return (\n        <div className=\"word\">\n            {lpad + word.substr(0, split)}\n            <span className=\"selected\">{word.substr(split, 1)}</span>\n            {word.substr(split + 1) + rpad}\n        </div>\n    );\n};\n\nexport default SingleWordRender;\n\n","import { useCallback } from 'react';\nimport cn from 'classnames';\nimport SingleWordRender from '../SingleWordRender';\nimport styles from './styles.module.scss';\n\ninterface IBookPlayerProps {\n    isPlaying: boolean;\n    rawBookText: string;\n    bookText: string[];\n    currentWordIndex: number;\n    onPlayerClick: () => void;\n}\n\nconst clamp = (min: number, val: number, max: number) =>\n    Math.max(min, Math.min(val, max));\n\nconst BookPart = ({\n    bookText,\n    currentWordIndex,\n}: {\n    bookText: string[];\n    currentWordIndex: number;\n}) => {\n    const startIndex = Math.max(0, currentWordIndex - 100);\n    const stopIndex = Math.min(currentWordIndex + 100, bookText.length);\n\n    const leftPart = bookText.slice(startIndex, currentWordIndex - 1).join(' ');\n    const rightPart = bookText.slice(currentWordIndex + 1, stopIndex).join(' ');\n\n    return (\n        <div className={styles.text}>\n            {leftPart}\n            <span className={styles.selected}>\n                {' '}\n                {bookText[currentWordIndex]}{' '}\n            </span>\n            {rightPart}\n        </div>\n    );\n};\n\nconst BookPlayer = ({\n    isPlaying,\n    rawBookText,\n    bookText,\n    currentWordIndex,\n    onPlayerClick,\n}: IBookPlayerProps) => {\n    const onClickHandler = useCallback(() => {\n        if (isPlaying) {\n            onPlayerClick();\n        }\n    }, [isPlaying, onPlayerClick]);\n\n    return (\n        <div className={styles.container} onClick={onClickHandler}>\n            <div\n                className={cn(styles.textPlayer, {\n                    [styles.playing]: isPlaying,\n                })}\n            >\n                {isPlaying ? (\n                    <SingleWordRender word={bookText[currentWordIndex]} />\n                ) : (\n                    <BookPart\n                        bookText={bookText}\n                        currentWordIndex={currentWordIndex}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default BookPlayer;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\"\n});\n\nfunction SvgMinusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"minus\",\n    className: \"svg-inline--fa fa-minus fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusSolid);\nexport default __webpack_public_path__ + \"static/media/minus-solid.4d0790fe.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\"\n});\n\nfunction SvgPlusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"plus\",\n    className: \"svg-inline--fa fa-plus fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSolid);\nexport default __webpack_public_path__ + \"static/media/plus-solid.c82024f4.svg\";\nexport { ForwardRef as ReactComponent };","function secondsToStr(seconds1: number) {\n    var temp = seconds1;\n    var days = Math.floor((temp %= 31536000) / 86400);\n    if (days) {\n        return days + ' d';\n    }\n    var hours = Math.floor((temp %= 86400) / 3600);\n    if (hours) {\n        return hours + ' h';\n    }\n    var minutes = Math.floor((temp %= 3600) / 60);\n    if (minutes) {\n        return minutes + ' m';\n    }\n    var seconds = temp % 60;\n    if (seconds) {\n        return seconds + ' s';\n    }\n    return ''; //'just now' //or other string you like;\n}\n\nexport function completionRate(wordCount: number, currentWordIndex: number) {\n    return ((currentWordIndex / wordCount) * 100).toFixed(1);\n}\n\nexport function timeToRead(\n    wordCount: number,\n    currentWordIndex: number,\n    wordPerMinute: number\n) {\n    return secondsToStr(\n        Math.floor((wordCount - currentWordIndex) / (wordPerMinute / 60))\n    );\n}\n","import { ReactComponent as PlayIcon } from '../../assets/icons/play-solid.svg';\nimport { ReactComponent as PauseIcon } from '../../assets/icons/pause-solid.svg';\nimport { ReactComponent as MinusIcon } from '../../assets/icons/minus-solid.svg';\nimport { ReactComponent as PlusIcon } from '../../assets/icons/plus-solid.svg';\n\nimport styles from './styles.module.scss';\nimport { completionRate, timeToRead } from '../../utils/wordTime';\nimport { useCallback } from 'react';\n\ninterface IReaderControlsProps {\n    isPlaying: boolean;\n\n    speedDown: () => void;\n    speedUp: () => void;\n    togglePlay: () => void;\n\n    wordsCount: number;\n    currentIndex: number;\n    wordsPerMinute: number;\n}\n\nconst ReaderControls = ({\n    isPlaying,\n\n    speedDown,\n    speedUp,\n    togglePlay,\n\n    wordsCount,\n    currentIndex,\n    wordsPerMinute,\n}: IReaderControlsProps) => {\n    const completed = completionRate(wordsCount, currentIndex);\n    const ttr = timeToRead(wordsCount, currentIndex, wordsPerMinute);\n\n    const speedDownHanlder = useCallback((e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        speedDown();\n    }, [speedDown]);\n\n    const speedUpHanlder = useCallback((e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        speedUp();\n    }, [speedUp]);\n\n    if(isPlaying) {\n        return null;\n    }\n\n    return (\n        <div className={styles.container} onClick={togglePlay}>\n            <div className={styles.topLine} />\n            <div className={styles.controls}>\n                <MinusIcon className={styles.button} onClick={speedDownHanlder} />\n                <div className={styles.wordsPerMinute}>{wordsPerMinute} <br /> word/m</div>\n                <PlusIcon className={styles.button} onClick={speedUpHanlder} />\n            </div>\n            <div className={styles.stats}>\n                <div className={styles.bar} style={{ '--total': `${completed}%` } as any} />\n                <div className={styles.bottom}>\n                    <div>{ttr}</div>\n                    <div>{completed}%</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ReaderControls;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\n});\n\nfunction SvgCogSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"cog\",\n    className: \"svg-inline--fa fa-cog fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCogSolid);\nexport default __webpack_public_path__ + \"static/media/cog-solid.540ab5dc.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"\n});\n\nfunction SvgAngleLeftSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"angle-left\",\n    className: \"svg-inline--fa fa-angle-left fa-w-8\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleLeftSolid);\nexport default __webpack_public_path__ + \"static/media/angle-left-solid.e6b3ab3d.svg\";\nexport { ForwardRef as ReactComponent };","\nimport { useHistory } from 'react-router-dom';\nimport { useCallback } from 'react';\n\nimport { ReactComponent as CogIcon } from '../../../assets/icons/cog-solid.svg';\nimport { ReactComponent as AngleLeft } from '../../../assets/icons/angle-left-solid.svg';\n\nimport styles from './styles.module.scss';\n\ninterface IReaderHeaderProps {\n    isPlaying: boolean;\n    title: string;\n}\n\nconst ReaderHeader = ({\n    isPlaying,\n    title,\n}: IReaderHeaderProps) => {\n    const history = useHistory();\n    const goBack = useCallback(() => history.goBack(), [history]);\n    return (\n        <div className={styles.container}>\n            <AngleLeft onClick={goBack} />\n            <div className={styles.title}>{title}</div>\n            <CogIcon />\n        </div>\n    );\n}\n\nexport default ReaderHeader;","import { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useStorageContext } from '../../Providers/Storage';\n\nimport styles from './styles.module.scss';\nimport BookPlayer from '../../Components/BookPlayer';\nimport ReaderControls from '../../Components/ReaderControls';\nimport ReaderHeader from './ReaderHeader';\n\nimport { FixedSizeList as List } from 'react-window';\n\ninterface TimerOptions {\n    delay: number;\n    callback: () => void | number;\n}\n\n/** Milliseconds representing forever in the future. */\nconst never = Number.MAX_SAFE_INTEGER;\n\nfunction useAccurateTimer(options: TimerOptions) {\n    const now = new Date().getTime();\n    const [started, setStarted] = useState(false);\n    // This is used to trigger a render that checks to fire the timer\n    const [, setCheckTime] = useState(now);\n    const [nextFireTime, setNextFireTime] = useState(never);\n\n    const isStarted = useCallback(() => started, [started]);\n    const isStopped = useCallback(() => !isStarted(), [isStarted]);\n\n    const start = useCallback(() => {\n        const currentTime = new Date().getTime();\n        const newNextFireTime = options.delay\n            ? Math.max(currentTime, currentTime)\n            : never;\n        setNextFireTime(newNextFireTime);\n        setStarted(true);\n    }, [options.delay]);\n\n    const stop = useCallback(() => {\n        setNextFireTime(never);\n        setStarted(false);\n    }, []);\n\n    useEffect(() => {\n        let timeout: NodeJS.Timeout;\n\n        // If it's a timer and it isn't paused...\n        if (options.delay && !isStopped()) {\n            // Check if we're overdue on any events being fired (super low delay or expensive callback)\n            const overdueCalls = Math.max(\n                0,\n                Math.floor((now - nextFireTime) / options.delay)\n            );\n            // If we're overdue, this means we're not firing callbacks fast enough and need to prevent\n            // exceeding the maximum update depth.\n            // To do this, we only fire the callback on an even number of overdues (including 0, no overdues).\n            // Else, we wait a little, then try again.\n            if (overdueCalls % 2 !== 1) {\n                // If the timer is up...\n                if (now >= nextFireTime) {\n                    let userDelay = 0;\n                    // Call the callback\n                    if (typeof options.callback === 'function') {\n                        try {\n                            userDelay = options.callback() || 0;\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    }\n                    // Calculate and set the next time the timer should fire\n                    const overdueElapsedTime = overdueCalls * options.delay;\n                    const newFireTime = Math.max(\n                        now,\n                        nextFireTime +\n                            options.delay +\n                            overdueElapsedTime +\n                            userDelay\n                    );\n                    setNextFireTime(newFireTime);\n                    // Set a timeout to check and fire the timer when time's up\n                    timeout = setTimeout(() => {\n                        // This merely triggers a rerender to check if the timer can fire.\n                        setCheckTime(new Date().getTime());\n                    }, Math.max(newFireTime - new Date().getTime(), 1));\n                }\n                // Time is not up yet. Set a timeout to check and fire when time's up\n                else if (nextFireTime < never) {\n                    timeout = setTimeout(() => {\n                        // This merely triggers a rerender to check if the timer can fire.\n                        setCheckTime(new Date().getTime());\n                        // Home in on the exact time to fire.\n                    }, Math.max(nextFireTime - new Date().getTime(), 1));\n                }\n            } else {\n                // Relief valve to avoid maximum update depth exceeded errors.\n                // When calls become overdue, there's too expensive of a callback or too low of a delay to keep up.\n                // In both cases, the React max update stack will be exceeded due to repeated firings.\n                // To relieve this, don't check to fire this time around, but check again in a short time.\n                timeout = setTimeout(() => {\n                    setCheckTime(new Date().getTime());\n                }, 20);\n            }\n        }\n\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [now, nextFireTime, isStopped, options.delay, options]);\n\n    return {\n        start,\n        stop,\n    };\n}\n\nconst Reader = () => {\n    \n    const [rawBookText, setRawBookText] = useState<string>('');\n    const [bookText, setBookText] = useState<string[]>([]);\n    const [currentWordIndex, setCurrentWordIndex] = useState(0);\n\n    const { id } = useParams<{ id: string }>();\n    const {\n        loaded,\n        settings,\n        getBookContent,\n        saveCurrentWordIndex,\n        saveCurrentSpeed,\n    } = useStorageContext();\n\n    const [title, setTitle] = useState('');\n\n    useEffect(() => {\n        if (!loaded) {\n            return;\n        }\n        getBookContent(id).then(({ info, content, currentWordIndex }) => {\n            setTitle(info.title);\n            // console.log(content);\n            setRawBookText(content);\n            setBookText(content.replaceAll('\\n', ' ').split(' '));\n            // setBookText(content as unknown as string[]);\n            setCurrentWordIndex(currentWordIndex || 0);\n        });\n    }, [loaded, id]);\n\n    const [speed, setSpeed] = useState(settings.wordsPerMinute);\n    const [isPlaying, setPlaying] = useState(false);\n\n    useEffect(() => {\n        setSpeed(settings.wordsPerMinute);\n    }, [settings.wordsPerMinute]);\n\n    const { start, stop } = useAccurateTimer({\n        delay: (60 / speed) * 1000,\n        callback: () => {\n            setCurrentWordIndex((v) => {\n                const newIndex = v + 1;\n                saveCurrentWordIndex(id, newIndex);\n                return newIndex;\n            });\n            // console.log(\n            //     Math.max(0, bookText[currentWordIndex + 1].length - 10) * 20\n            // );\n            return Math.max(0, bookText[currentWordIndex + 1].length - 10) * 20;\n        },\n    });\n\n    const togglePlay = useCallback(\n        () =>\n            setPlaying((v) => {\n                let newValue = !v;\n                if (newValue) {\n                    start();\n                } else {\n                    stop();\n                }\n                return newValue;\n            }),\n        [start, stop]\n    );\n\n    const speedUp = useCallback(() => {\n        setSpeed((curr) => {\n            const newSpeed = curr + 20;\n            return newSpeed;\n        });\n        saveCurrentSpeed(speed + 20);\n    }, [speed]);\n    const speedDown = useCallback(() => {\n        setSpeed((curr) => {\n            const newSpeed = curr - 20;\n            return newSpeed;\n        });\n        saveCurrentSpeed(speed - 20);\n    }, [speed]);\n\n    const onPlayerClick = useCallback(() => {\n        togglePlay();\n    }, [togglePlay]);\n\n    return (\n        <div className={styles.container}>\n            <ReaderHeader \n                isPlaying={isPlaying}\n                title={title} \n            />\n            {/* <List \n                height={100}\n                width=\"100%\"\n                itemSize={10}                \n                itemCount={10}                \n            >\n                {({ style, }) => {\n                    return (\n                        <div style={style}>\n\n                        </div>\n                    )\n                }}\n            </List> */}\n            \n            <BookPlayer\n                isPlaying={isPlaying}\n                bookText={bookText}\n                currentWordIndex={currentWordIndex}\n                rawBookText={rawBookText}\n                onPlayerClick={onPlayerClick}\n            />\n            <ReaderControls\n                isPlaying={isPlaying}\n                currentIndex={currentWordIndex}\n                speedDown={speedDown}\n                speedUp={speedUp}\n                togglePlay={togglePlay}\n                wordsCount={bookText.length}\n                wordsPerMinute={speed}\n            />\n        </div>\n    );\n};\n\nexport default Reader;\n","import cn from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { timeToRead, completionRate } from '../../utils/wordTime';\nimport styles from './styles.module.scss';\n\nimport { IBookInfo } from '../../Providers/Storage';\n\ninterface IBookProps {\n    book: IBookInfo;\n    stats: {\n        completed: string;\n        timeToRead: string;\n    };\n    onClick: (id: string) => void;\n}\n\nfunction Book({ book, stats, onClick }: IBookProps) {\n    const completed = completionRate(1500, 1000);\n    const ttr = timeToRead(1500, 1000, 320);\n\n    return (\n        <Link to={`/book/${book.id}`} className={styles.container}>\n            <div\n                className={cn(styles.book, {\n                    [styles.nocover]: !book.cover,\n                    [styles.cover]: book.cover,\n                })}\n                style={\n                    book.cover\n                        ? ({ '--cover': `url(${book.cover})` } as any)\n                        : {}\n                }\n            >\n                {!book.cover && (\n                    <div className={styles.bookWrapper}>\n                        <div className={styles.title}>{book.title}</div>\n                        <div className={styles.author}>{book.author}</div>\n                    </div>\n                )}\n            </div>\n            <div className={styles.bottom}>\n                <div>\n                    {stats.completed !== '100'\n                        ? `${stats.completed} %`\n                        : 'FINISHED'}\n                </div>\n                <div>{stats.timeToRead}</div>\n            </div>\n        </Link>\n    );\n}\n\nexport default Book;\n","import { useCallback } from \"react\";\n\nfunction useFileInput(options: any, callback: (files: File[]) => void) {\n\n    const onAction = useCallback(() => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.onchange = (event) => {\n            if(!event.target || (event.target as any).files.length === 0) {\n                return callback([]);\n            }\n            callback((event.target as any).files);\n        }\n        input.click();\n    }, [callback]);\n    \n    return onAction;\n\n}\n\nexport default useFileInput;","import JsZip from 'jszip';\nimport parser from 'fast-xml-parser';\n\nconst zip = new JsZip();\nconst domParser = new DOMParser();\n\nfunction findFile(archive: JsZip, filename: string) {\n    if (archive.files[filename]) {\n        return archive.files[filename];\n    }\n    const result = archive.filter(\n        (_, file) => file.name.toLowerCase() === filename.toLowerCase()\n    );\n    if (result.length > 0) {\n        return result[0];\n    }\n    return null;\n}\n\nasync function validateMimeType(archive: JsZip) {\n    const mimeFile = findFile(archive, 'mimetype');\n    if (!mimeFile) {\n        throw new Error('No mimetype file in archive');\n    }\n\n    const epubMimeType = await mimeFile.async('text');\n\n    if (epubMimeType.toLowerCase().trim() !== 'application/epub+zip') {\n        throw new Error('Unsupported mime type');\n    }\n}\n\nasync function validateRootFile(archive: JsZip) {\n    const containerFile = findFile(archive, 'meta-inf/container.xml');\n    if (!containerFile) {\n        throw new Error('No container file in archive');\n    }\n\n    const xmlData = await containerFile.async('text');\n    const parsedXML = parser.parse(xmlData, { ignoreAttributes: false });\n\n    if (\n        !parsedXML.container.rootfiles ||\n        !parsedXML.container.rootfiles.rootfile\n    ) {\n        throw new Error('No rootfiles found');\n    }\n\n    const rootFileInfo = parsedXML.container.rootfiles.rootfile;\n    let filename: string;\n\n    if (rootFileInfo['@_media-type'] !== 'application/oebps-package+xml') {\n        throw new Error('Rootfile in unknown format');\n    }\n\n    filename = rootFileInfo['@_full-path'];\n\n    if (!filename) {\n        throw new Error('Empty rootfile');\n    }\n\n    const rootFile = findFile(archive, filename);\n    if (!rootFile) {\n        throw new Error('Rootfile not found from archive');\n    }\n\n    return rootFile;\n}\n\nasync function parseRootFile(archive: JsZip, rootFile: JsZip.JSZipObject) {\n    const text = await rootFile.async('text');\n    const XMLData = parser.parse(text, {\n        ignoreAttributes: false,\n        ignoreNameSpace: true,\n        attributeNamePrefix: '',\n    });\n\n    const epubData = [];\n\n    epubData.push(parseMetadata(XMLData.package.metadata));\n    epubData.push(\n        parseGuide(XMLData.package.guide, XMLData.package, archive, rootFile)\n    );\n    epubData.push(parseContent(XMLData.package, archive, rootFile));\n\n    const result = await Promise.all(epubData);\n\n    return result.reduce(\n        (acc, { key, value }) => ({ ...acc, [key]: value }),\n        {}\n    );\n}\n\n//\n\nasync function parseMetadata(value: any) {\n    const metadata: any = {};\n    if (Array.isArray(value.identifier)) {\n        for (const item of value.identifier) {\n            metadata.id = String(item['#text']);\n            break;\n        }\n    } else {\n        metadata.id = String(value.identifier['#text']);\n    }\n\n    metadata.id = metadata.id.replace('urn:uuid:', '');\n\n    metadata.creator = value.creator;\n    metadata.title = value.title;\n\n    return {\n        key: 'metadata',\n        value: metadata,\n    };\n}\n\nasync function parseContent(\n    epubPackage: any,\n    archive: JsZip,\n    rootFile: JsZip.JSZipObject\n) {\n    console.log(epubPackage);\n    const textFiles: string[] = [];\n    if (epubPackage.spine.itemref) {\n        for (const { idref } of epubPackage.spine.itemref) {\n            const fileInfo = epubPackage.manifest.item.find(\n                (item: any) => item.id === idref\n            );\n            textFiles.push(fileInfo.href);\n        }\n    }\n\n    if (textFiles.length === 0) {\n        return { key: 'items', value: undefined };\n    }\n\n    const path = rootFile?.name.split('/');\n    path?.pop();\n\n    const items: string[] = [];\n\n    for (const filename of textFiles) {\n        const href = path?.concat([filename]).join('/');\n\n        const file = findFile(archive, href!);\n        const r = await file?.async('text');\n        const text = domParser.parseFromString(\n            r!,\n            'application/xhtml+xml'\n        ).documentElement.textContent;\n\n        if (text) {\n            const cleanText = text\n                ?.replaceAll('\\n', '.')\n                ?.replaceAll('?', '?.')\n                ?.replaceAll('!', '!.')\n                ?.trim();\n            if (cleanText !== '') {\n                items.push(cleanText);\n            }\n        }\n    }\n\n    return {\n        key: 'items',\n        value: items,\n    };\n}\n\nasync function parseGuide(\n    value: any,\n    epubPackage: any,\n    archive: JsZip,\n    rootFile: JsZip.JSZipObject\n) {\n    if (!value.reference || value.reference.type !== 'cover') {\n        return { key: 'cover', value: undefined };\n    }\n\n    const path = rootFile?.name.split('/');\n    path?.pop();\n\n    const href = path?.concat([value.reference.href]).join('/');\n\n    if (!href) {\n        return { key: 'cover', value: undefined };\n    }\n    const file = findFile(archive, href);\n\n    if (!file) {\n        return { key: 'cover', value: undefined };\n    }\n\n    let data = await file.async('blob');\n    const foundDescription = epubPackage.manifest.item.find(\n        (item: any) => item.href === value.reference.href\n    );\n    data = data.slice(0, data.size, foundDescription['media-type']);\n    // console.log(foundDescription);\n    return {\n        key: 'cover',\n        value: URL.createObjectURL(data),\n    };\n}\n\nfunction compileContent(items: string[]) {\n    const compiledText = [];\n\n    for (const row of items) {\n        const sentences = row\n            .split('.')\n            .map((item) => item.replaceAll('— ', '—\\u00A0').trim())\n            .filter((item) => item !== '');\n        compiledText.push(...sentences);\n    }\n\n    return compiledText.join(' ');\n}\n\nasync function epubToTxt(blob: Blob) {\n    if (blob.type !== 'application/epub+zip') {\n        throw new Error('Not an Epub file');\n    }\n\n    const archive = await zip.loadAsync(blob);\n\n    if (Object.keys(archive.files).length === 0) {\n        throw new Error('No files in archive');\n    }\n\n    await validateMimeType(archive);\n    const rootFile = await validateRootFile(archive);\n\n    const parsedEpub = await parseRootFile(archive, rootFile);\n\n    const content = compileContent((parsedEpub as any).items);\n    delete (parsedEpub as any).items;\n    (parsedEpub as any).content = content;\n\n    return parsedEpub;\n}\n\nexport default epubToTxt;\n","import Book from '../../Components/Book';\nimport styles from './styles.module.scss';\nimport EPub from '../../Libraries/epub';\n\nimport { useStorageContext } from '../../Providers/Storage';\nimport useFileInput from '../../hooks/useFileInput';\nimport { useCallback } from 'react';\n\nimport { ReactComponent as PlusIcon } from '../../assets/icons/plus-solid.svg';\nimport epubToTxt from '../../Libraries/epubToTxt';\n\nconst Library = () => {\n    const { library, settings, addBook } = useStorageContext();\n\n    const onAdd = useFileInput({}, (files: File[]) => {\n        if (files.length === 0) {\n            return;\n        }\n\n        const selectedFile = files[0];\n        epubToTxt(selectedFile).then((data: any) => {\n            if (!data.metadata.id) {\n                return;\n            }\n\n            addBook({\n                ...data.metadata,\n                cover: data.cover || undefined,\n                content: data.content,\n            });\n        });\n    });\n\n    const onBookClick = useCallback((id: string) => {}, []);\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <div className={styles.title}>Library</div>\n                <div className={styles.add} onClick={onAdd}>\n                    <PlusIcon />\n                </div>\n            </div>\n            <div className={styles.listContainer}>\n                <div className={styles.list}>\n                    {library.map((book) => (\n                        <Book\n                            key={book.id}\n                            book={book}\n                            stats={{\n                                completed: '100',\n                                timeToRead: '1',\n                            }}\n                            onClick={onBookClick}\n                        />\n                    ))}\n                </div>\n            </div>\n            <div className={styles.bottomMenu}>\n                <div>Library</div>\n                <div>Settings</div>\n            </div>\n        </div>\n    );\n};\n\nexport default Library;\n","\nimport { Switch, Route } from 'react-router-dom';\nimport Providers from './Providers';\n\nimport Reader from './Pages/Reader';\nimport Library from './Pages/Library';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <Providers>\n      <Switch>\n        <Route path=\"/book/:id\" component={Reader} />\n        <Route path=\"/\" component={Library} />\n      </Switch>\n    </Providers>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}