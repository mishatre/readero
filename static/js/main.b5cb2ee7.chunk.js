(this.webpackJsonpreadero=this.webpackJsonpreadero||[]).push([[0],{10:function(e,t,n){e.exports={container:"styles_container__1MT9X",settings:"styles_settings__2OclP",category:"styles_category__jDkkO",categoryTitle:"styles_categoryTitle__I3J85",item:"styles_item__yXv-m",range:"styles_range__20jgZ",value:"styles_value__2mQM-",incButtons:"styles_incButtons__3WLQ4",button:"styles_button__1n4Oz",checkbox:"styles_checkbox__37LCY",active:"styles_active__1anRb"}},17:function(e,t,n){e.exports={container:"styles_container__lgzGZ",hidden:"styles_hidden__3R_Vv",hide:"styles_hide__2eb_z",title:"styles_title__DVSKR",button:"styles_button__tIKOm",buttons:"styles_buttons__9MwoY"}},21:function(e,t,n){e.exports={container:"styles_container__xRGQ3",hidden:"styles_hidden__tkCK0",hide:"styles_hide__1SJDM",buttons:"styles_buttons__ooHsn",button:"styles_button__1pqxT",bottom:"styles_bottom__1djMp"}},22:function(e,t,n){e.exports={container:"styles_container__1OVl5",hidden:"styles_hidden__2LoYr",hide:"styles_hide__3l2xM",playing:"styles_playing__nBe_T",statusBar:"styles_statusBar__2j5Er",bottomBar:"styles_bottomBar__AwkZb",wordsLeft:"styles_wordsLeft__APFUt",timeLeft:"styles_timeLeft__3TwoZ"}},23:function(e,t,n){e.exports={container:"styles_container__11T8G",title:"styles_title__2Sn61",leftButton:"styles_leftButton__l4X_F",selectAllButton:"styles_selectAllButton__2Gs4p",rightButton:"styles_rightButton__3DyWY"}},27:function(e,t,n){e.exports={container:"styles_container__3-PbJ",selectable:"styles_selectable__1MA-O",wrapper:"styles_wrapper__3TgtD",book:"styles_book__3cyR_",bottom:"styles_bottom__2tiHP",selected:"styles_selected__36TbD"}},29:function(e,t,n){e.exports={container:"styles_container__3-HjY",previous:"styles_previous__3yaV4",ORPGuideline:"styles_ORPGuideline__3GB2g",disabled:"styles_disabled__3FT6u",orp:"styles_orp__1TDsQ"}},30:function(e,t,n){e.exports={container:"styles_container__3_mvM",item:"styles_item__3yruJ",selected:"styles_selected__3DBuv"}},33:function(e,t,n){e.exports={container:"styles_container__1g-wD",list:"styles_list__gpRA5",row:"styles_row__1cmOy",selected:"styles_selected__zOB1R"}},34:function(e,t,n){e.exports={container:"styles_container__2KjvO",content:"styles_content__rVeXI",reader:"styles_reader__hEHPF",playing:"styles_playing__MdtfO"}},35:function(e,t,n){e.exports={container:"styles_container__2CelW",wrapper:"styles_wrapper__2abSv",title:"styles_title__1NAkf",creator:"styles_creator__2bIc0"}},36:function(e,t,n){e.exports={container:"styles_container__1WeyU",title:"styles_title__SbZyV",leftButton:"styles_leftButton__3wmXK",rightButton:"styles_rightButton__2SF5P"}},42:function(e,t,n){e.exports={container:"styles_container__HUCkD",listContainer:"styles_listContainer__26jV9",list:"styles_list__1Gvkp"}},54:function(e,t,n){e.exports={container:"styles_container__3TSyu"}},55:function(e,t,n){e.exports={container:"styles_container__1YyHF"}},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(38),c=n.n(i),o=n(7),l=n(87),s=n(2),u=n(20),f=n(56),d=n(4),b=n(15),h=n(11);function p(){var e=Object(r.createContext)(void 0);return[function(){var t=Object(r.useContext)(e);if(void 0===t)throw new Error("useCtx must be inside a Provider with a value");return t},e.Provider]}var j=n(1),v=["fontFamilyRSVP","fontFamilyReader","fontSizeRSVP","fontSizeReader","wordsPerMinute","ORP","ORPGuideLine","slowDownOnLongWords","showPreviousOnPause"],O={fontFamilyRSVP:"SFMono",fontFamilyReader:"Liberation Mono",fontSizeRSVP:32,fontSizeReader:16,wordsPerMinute:320,ORP:!0,ORPGuideLine:!0,slowDownOnLongWords:!0,showPreviousOnPause:!0},m=p(),x=Object(s.a)(m,2),y=x[0],g=x[1],w=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(s.a)(n,2),i=a[0],c=a[1];Object(r.useEffect)((function(){var e,t=O,n=Object(h.a)(v);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=localStorage.getItem(r);a&&(t[r]=JSON.parse(a).value)}}catch(i){n.e(i)}finally{n.f()}c(t)}),[]);var o=Object(r.useCallback)((function(e,t){c((function(n){if(!n)return null;var r="function"===typeof t?t(n[e]):t;return localStorage.setItem(e,JSON.stringify({value:r})),Object(b.a)(Object(b.a)({},n),{},Object(d.a)({},e,r))}))}),[]);return i?Object(j.jsx)(g,{value:{settings:i,set:o},children:t}):null},_=n(19),C=n(6),k=n.n(C),E=n(12),S=n(26),P=n.n(S),N=n(50),R=n.n(N),M=n(45),I=n.n(M),B=n(51),L=n.n(B);function z(e,t){if(e.files[t])return e.files[t];var n=e.filter((function(e,n){return n.name.toLowerCase()===t.toLowerCase()}));return n.length>0?n[0]:null}function F(e){return W.apply(this,arguments)}function W(){return(W=Object(E.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=z(t,"mimetype")){e.next=3;break}throw new Error("No mimetype file in archive");case 3:return e.next=5,n.async("text");case 5:if("application/epub+zip"===e.sent.toLowerCase().trim()){e.next=8;break}throw new Error("Unsupported mime type");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return V.apply(this,arguments)}function V(){return(V=Object(E.a)(k.a.mark((function e(t){var n,r,a,i,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=z(t,"meta-inf/container.xml")){e.next=3;break}throw new Error("No container file in archive");case 3:return e.next=5,n.async("text");case 5:if(r=e.sent,(a=I.a.parse(r,{ignoreAttributes:!1})).container.rootfiles&&a.container.rootfiles.rootfile){e.next=9;break}throw new Error("No rootfiles found");case 9:if("application/oebps-package+xml"===(i=a.container.rootfiles.rootfile)["@_media-type"]){e.next=12;break}throw new Error("Rootfile in unknown format");case 12:if(c=i["@_full-path"]){e.next=15;break}throw new Error("Empty rootfile");case 15:if(o=z(t,c)){e.next=18;break}throw new Error("Rootfile not found from archive");case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return D.apply(this,arguments)}function D(){return(D=Object(E.a)(k.a.mark((function e(t,n){var r,a,i,c,o,l,s,u,f,d,b,h;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.async("text");case 2:return r=e.sent,a=I.a.parse(r,{attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"value",ignoreAttributes:!1,ignoreNameSpace:!0,parseAttributeValue:!0}),i=A(a),c=Z(a),o=G(a),l=U(a),s=X(o,c),e.next=11,Q(t,n,s);case 11:return u=e.sent,f=u.text,d=u.words,b=J(o,l),e.next=17,Y(t,n,b);case 17:return h=e.sent,e.abrupt("return",{cover:h,metadata:i,text:f,words:d});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){for(var t={},n=e.package.attr["unique-identifier"],r=0,a=Object.entries(e.package.metadata);r<a.length;r++){var i=a[r];if(i){var c=Object(s.a)(i,2),o=c[0],l=c[1];if(l){var u=null;if("identifier"===o){if(u=l,Array.isArray(l)?(u=l.find((function(e){return e.attr.id===n})))&&(u=u.value):u=l.value,!u)throw new Error("Cannot determine book unique identifier");u=String(u).replace("urn:uuid:","").toUpperCase().trim()}else u="object"===typeof l?l.value:l;t[o]=u}}}return t}function Z(e){var t={items:[]};if("id"in e.package.spine.attr&&(t.id=e.package.spine.attr.id),"page-progression-direction"in e.package.spine.attr&&(t.direction=e.package.spine.attr["page-progression-direction"]),"toc"in e.package.spine.attr&&(t.toc=e.package.spine.attr.toc),Array.isArray(e.package.spine.itemref)){var n,r=Object(h.a)(e.package.spine.itemref);try{for(r.s();!(n=r.n()).done;){var a,i=n.value;null===(a=t.items)||void 0===a||a.push(i.attr.idref)}}catch(o){r.e(o)}finally{r.f()}}else{var c;null===(c=t.items)||void 0===c||c.push(e.package.spine.itemref.attr.idref)}return t}function G(e){var t,n=[],r=Object(h.a)(e.package.manifest.item);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.attr)}}catch(i){r.e(i)}finally{r.f()}return n}function U(e){if(e.package.guide&&"string"!==typeof e.package.guide)return e.package.guide.reference.attr}function J(e,t){if(t&&"cover"===t.type)return t;var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id.includes("cover.jpg"))return a}}catch(i){r.e(i)}finally{r.f()}}function X(e,t){var n,r=[],a=Object(h.a)(t.items);try{var i=function(){var t=n.value,a=e.find((function(e){return e.id===t}));a&&"application/xhtml+xml"===a["media-type"]&&r.push(a)};for(a.s();!(n=a.n()).done;)i()}catch(c){a.e(c)}finally{a.f()}return r}function Y(e,t,n){return K.apply(this,arguments)}function K(){return(K=Object(E.a)(k.a.mark((function e(t,n,r){var a,i,c,o,l,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return a=null===n||void 0===n?void 0:n.name.split("/"),i=Object(s.a)(a,1),c=i[0],o=[c,r.href].join("/"),e.next=6,t.files[o].async("blob");case 6:if(l=e.sent,u=r["media-type"]||L.a.lookup(r.href)){e.next=10;break}return e.abrupt("return",l);case 10:return e.abrupt("return",l.slice(0,l.size,u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(E.a)(k.a.mark((function e(t,n,r){var a,i,c,o,l,u,f,d,b,p,j,v,O,m,x,y,g,w;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===n||void 0===n?void 0:n.name.split("/"),i=Object(s.a)(a,1),c=i[0],o=[],l=Object(h.a)(r);try{for(l.s();!(u=l.n()).done;)f=u.value.href,d=[c,f].join("/"),o.push(t.files[d].async("text"))}catch(C){l.e(C)}finally{l.f()}return b=new DOMParser,e.next=7,Promise.all(o);case 7:p=e.sent,j=p.map((function(e){return""+b.parseFromString(e,"application/xhtml+xml").body.textContent})),v=[],O=[],m=Object(h.a)(j);try{for(m.s();!(x=m.n()).done;)g=x.value,(null===(w=null===g||void 0===g||null===(y=g.replaceAll("\n"," "))||void 0===y?void 0:y.split(" ").filter((function(e){return""!==e})))||void 0===w?void 0:w.length)>0&&(v.push.apply(v,Object(_.a)(w)),O.push(w.join(" ")))}catch(C){m.e(C)}finally{m.f()}return e.abrupt("return",{text:O.join(" "),words:v});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(E.a)(k.a.mark((function e(t){var n,r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/epub+zip"===t.type){e.next=2;break}throw new Error("Not an Epub file");case 2:return n=new R.a,e.next=5,n.loadAsync(t);case 5:if(r=e.sent,0!==Object.keys(r.files).length){e.next=8;break}throw new Error("No files in archive");case 8:return e.next=10,F(r);case 10:return e.next=12,H(r);case 12:return a=e.sent,e.next=15,T(r,a);case 15:return i=e.sent,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e){return $.apply(this,arguments)},te=p(),ne=Object(s.a)(te,2),re=ne[0],ae=ne[1],ie=function(e){var t=e.children,n=Object(r.useState)(!0),a=Object(s.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)([]),l=Object(s.a)(o,2),u=l[0],f=l[1];Object(r.useEffect)((function(){Object(E.a)(k.a.mark((function e(){var t,n,r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.getItem("library");case 2:t=e.sent,f(t||[]),n=Object(h.a)(t||[]),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=15;break}return a=r.value,e.next=11,P.a.getItem("".concat(a.id,"_cover"));case 11:(i=e.sent)&&(a.cover=URL.createObjectURL(i));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:c(!1);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))()}),[]);var d=Object(r.useCallback)(function(){var e=Object(E.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Array.from(t).map((function(e){return ee(e)})));case 2:return n=e.sent,r=n.filter((function(e){return!u.find((function(t){return t.id===e.metadata.identifier}))})).map((function(e){var t={id:e.metadata.identifier,title:e.metadata.title||"",creator:e.metadata.creator||"",cover:!!e.cover,totalWords:e.words.length};return{id:t.id,info:t,text:e.text,cover:e.cover,coverUrl:!!e.cover&&URL.createObjectURL(e.cover)}})),e.next=6,Promise.all(r.map((function(e){var t=e.id,n=e.text;return P.a.setItem(t,n)})));case 6:return console.log(r),a=[].concat(Object(_.a)(u),Object(_.a)(r.map((function(e){return e.info})))),e.next=10,P.a.setItem("library",a);case 10:return e.next=12,Promise.all(r.filter((function(e){return!!e.cover})).map((function(e){var t=e.id,n=e.cover;return P.a.setItem("".concat(t,"_cover"),n)})));case 12:f([].concat(Object(_.a)(u),Object(_.a)(r.map((function(e){var t=e.info,n=e.coverUrl;return Object(b.a)(Object(b.a)({},t),{},{cover:n})})))));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),p=Object(r.useCallback)((function(e){}),[]),v=Object(r.useCallback)(function(){var e=Object(E.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.getItem(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="";case 5:return n=e.t0,r=u.find((function(e){return e.id===t})),e.abrupt("return",{info:r,text:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]);return i?null:Object(j.jsx)(ae,{value:{library:u,loadBooks:d,deleteBook:p,getBook:v},children:t})},ce=p(),oe=Object(s.a)(ce,2),le=oe[0],se=oe[1];var ue=function(e){var t=e.children,n=Object(r.useCallback)((function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{index:0}}),[]),a=Object(r.useCallback)((function(e,t,n){var r={index:0},a=localStorage.getItem(e);return a&&(r=JSON.parse(a)),r[t]=n,localStorage.setItem(e,JSON.stringify(r)),r}),[]);return Object(j.jsx)(se,{value:{getStats:n,setStats:a},children:t})},fe=n(41),de=Object(fe.b)({name:"settings",initialState:{fontFamily:"",fontSizeRSVP:42,fontSizeReader:16,fontWidthRSVP:0,fontWidthReader:0},reducers:{setFontFamily:function(e,t){e.fontFamily=t.payload},setFontSizeRSVP:function(e,t){e.fontSizeRSVP=t.payload},setFontSizeReader:function(e,t){e.fontSizeReader=t.payload}}}),be=de.actions,he=(be.setFontFamily,be.setFontSizeRSVP,be.setFontSizeReader,de.reducer),pe=Object(fe.a)({reducer:{settings:he}}),je=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){Promise.all([document.fonts.load("16px Liberation Mono"),document.fonts.load("32px SFMono")]).then((function(){c(!0)}))}),[]),Object(j.jsx)(f.a,{store:pe,children:Object(j.jsx)(u.a,{children:Object(j.jsx)(w,{children:Object(j.jsx)(ue,{children:Object(j.jsx)(ie,{children:i&&t})})})})})},ve=n(5),Oe=n.n(ve);var me=function(e){Object(r.useEffect)((function(){document.documentElement.style.backgroundColor=e,document.body.style.backgroundColor=e}),[e])};var xe,ye=function(e){var t=Object(r.useState)({width:0,height:0}),n=Object(s.a)(t,2),a=n[0],i=n[1],c=Object(r.useCallback)((function(){var t=null===e||void 0===e?void 0:e.current;t&&i({width:t.offsetWidth||0,height:t.offsetHeight||0})}),[e]);return Object(r.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;t&&(new ResizeObserver(c).observe(t,{box:"content-box"}),c())}),[]),Object(r.useEffect)((function(){}),[]),a},ge=n(57),we=n(33),_e=n.n(we),Ce=function(e){var t=e.mode,n=e.rows,a=e.width,i=e.currentIndex,c=e.onCurrentIndexChange,o=e.fontInfo,l=Object(r.useRef)(null),s=Object(r.useRef)(null),u=ye(l).height;Object(r.useEffect)((function(){if(s.current){for(var e=-1,t=0;t<n.length;t++)if(i<n[t].index){e=0===t?0:t-1;break}-1!==e&&s.current.scrollToItem(e,"smart")}}),["view"===t,n]);var f=Object(r.useCallback)((function(e,t){null===c||void 0===c||c(n[e].index+t)}),[c,n]);return"view"!==t?null:Object(j.jsx)("div",{ref:l,className:_e.a.container,style:{fontFamily:o.fontFamily,fontSize:o.fontSize},children:Object(j.jsx)(ge.a,{ref:s,height:u,width:a,itemSize:24,itemCount:n.length,className:_e.a.list,overscanCount:20,children:function(e){var t=e.style,r=e.index,a=-1,c=-1;return(!n[r+1]||i<n[r+1].index)&&(a=r,c=i-n[r].index),Object(j.jsx)("div",{className:_e.a.row,style:t,children:n[r].words.map((function(e,t){return Object(j.jsx)("span",{onClick:function(){return f(r,t)},className:Oe()(Object(d.a)({},_e.a.selected,r===a&&t===c)),children:" "+e+" "},(r+1)*t)}))})}})})},ke=["title","titleId"];function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pe(e,t){var n=e.title,a=e.titleId,i=Se(e,ke);return r.createElement("svg",Ee({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"play",className:"svg-inline--fa fa-play fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,xe||(xe=r.createElement("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})))}var Ne,Re,Me=r.forwardRef(Pe),Ie=(n.p,["title","titleId"]);function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ze(e,t){var n=e.title,a=e.titleId,i=Le(e,Ie);return r.createElement("svg",Be({width:27,height:36,viewBox:"0 0 27 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Ne||(Ne=r.createElement("path",{d:"M7.50006 36H2.50006C0.370593 36 0 34.2723 0 32.1429V3.85715C0 1.72769 0.370593 7.62939e-06 2.50006 7.62939e-06H7.50006C9.62952 7.62939e-06 10.0001 1.72769 10.0001 3.85715V32.1429C10.0001 34.2723 9.62952 36 7.50006 36Z",fill:"black"})),Re||(Re=r.createElement("path",{d:"M24.5001 36H19.5001C17.3706 36 17 34.2723 17 32.1429V3.85714C17 1.72768 17.3706 0 19.5001 0H24.5001C26.6295 0 27.0001 1.72768 27.0001 3.85714V32.1429C27.0001 34.2723 26.6295 36 24.5001 36Z",fill:"black"})))}var Fe,We=r.forwardRef(ze),He=(n.p,["title","titleId"]);function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function De(e,t){var n=e.title,a=e.titleId,i=Te(e,He);return r.createElement("svg",Ve({width:24,height:3,viewBox:"0 0 24 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Fe||(Fe=r.createElement("path",{d:"M22.2857 0H1.71429C0.767679 0 0 0.447812 0 1V2C0 2.55219 0.767679 3 1.71429 3H22.2857C23.2323 3 24 2.55219 24 2V1C24 0.447812 23.2323 0 22.2857 0Z",fill:"black"})))}var Ae,Ze=r.forwardRef(De),Ge=(n.p,["title","titleId"]);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xe(e,t){var n=e.title,a=e.titleId,i=Je(e,Ge);return r.createElement("svg",Ue({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Ae||(Ae=r.createElement("path",{d:"M9 0C9.55225 0 10 0.447693 10 1V8H17C17.5522 8 18 8.44769 18 9C18 9.55231 17.5522 10 17 10H10V17C10 17.5523 9.55225 18 9 18C8.44775 18 8 17.5523 8 17V10H1C0.447754 10 0 9.55231 0 9C0 8.44769 0.447754 8 1 8H8V1C8 0.447693 8.44775 0 9 0Z",fill:"black"})))}var Ye,Ke,Qe=r.forwardRef(Xe),qe=(n.p,n(21)),$e=n.n(qe),et=function(e){var t=e.mode,n=e.hidden,r=e.wordsPerMinute,a=e.onPlayPause,i=e.onSpeedUp,c=e.onSpeedDown;return Object(j.jsxs)("div",{className:Oe()($e.a.container,Object(d.a)({},$e.a.hidden,n)),onClick:function(e){return e.stopPropagation()},children:[Object(j.jsxs)("div",{className:$e.a.buttons,children:[Object(j.jsx)("div",{className:$e.a.button,onClick:c,children:Object(j.jsx)(Ze,{})}),Object(j.jsx)("div",{className:$e.a.button,onClick:a,children:"play"===t?Object(j.jsx)(We,{}):Object(j.jsx)(Me,{})}),Object(j.jsx)("div",{className:$e.a.button,onClick:i,children:Object(j.jsx)(Qe,{})})]}),Object(j.jsx)("div",{className:$e.a.bottom,children:r})]})},tt=Object(r.memo)(et),nt=function(e,t,n){return Math.max(e,Math.min(t,n))},rt=function(e){var t=Math.floor(e/1e3),n="",r=Math.floor(t%31536e3/86400);r&&(n+="".concat(r,"d "));var a=Math.floor(t%86400/3600);a&&(n+="".concat(a,"h "));var i=Math.floor(t%3600/60);i&&(n+="".concat(i,"m "));var c=t%60;return c&&(n+="".concat(c,"s")),""===n?"0":n},at=n(22),it=n.n(at),ct=function(e){var t,n=e.mode,r=e.hidden,a=e.totalWords,i=e.currentWord,c=y().settings.wordsPerMinute,o=1e3*Math.floor((a-i)/(c/60)),l=100/a*i,s=a-i;return Object(j.jsxs)("div",{className:Oe()(it.a.container,(t={},Object(d.a)(t,it.a.hidden,r),Object(d.a)(t,it.a.playing,"view"!==n),t)),children:[Object(j.jsx)("div",{className:it.a.statusBar,style:{"--position":"".concat(nt(0,l,100),"%")}}),Object(j.jsxs)("div",{className:it.a.bottomBar,children:[Object(j.jsx)("span",{className:it.a.timeLeft,children:rt(o)}),Object(j.jsxs)("span",{className:it.a.wordsLeft,children:[s," word",s>1?"s":""," left"]})]})]})},ot=n(17),lt=n.n(ot),st=["title","titleId"];function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dt(e,t){var n=e.title,a=e.titleId,i=ft(e,st);return r.createElement("svg",ut({width:11,height:20,viewBox:"0 0 11 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Ye||(Ye=r.createElement("path",{d:"M8.62132 0.424532C9.16548 -0.141511 10.0477 -0.141511 10.5919 0.424532C11.136 0.990575 11.136 1.90831 10.5919 2.47436L2.37868 11.0179C1.83453 11.584 0.952275 11.584 0.408119 11.0179C-0.136036 10.4519 -0.136036 9.53414 0.408119 8.96809L8.62132 0.424532Z",fill:"black"})),Ke||(Ke=r.createElement("path",{d:"M0.408117 11.0319C-0.136039 10.4659 -0.136039 9.54813 0.408117 8.98208C0.952272 8.41604 1.83452 8.41604 2.37868 8.98208L10.5919 17.5256C11.136 18.0917 11.136 19.0094 10.5919 19.5755C10.0477 20.1415 9.16548 20.1415 8.62132 19.5755L0.408117 11.0319Z",fill:"black"})))}var bt,ht=r.forwardRef(dt),pt=(n.p,["title","titleId"]);function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ot(e,t){var n=e.title,a=e.titleId,i=vt(e,pt);return r.createElement("svg",jt({width:22,height:13,viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,bt||(bt=r.createElement("path",{d:"M6.65137 10.4023H2.48145L1.54492 13H0.191406L3.99219 3.04688H5.14062L8.94824 13H7.60156L6.65137 10.4023ZM2.87793 9.32227H6.26172L4.56641 4.66699L2.87793 9.32227ZM17.5 10.3633H12.877L11.998 13H9.19434L13.958 0.203125H16.4014L21.1914 13H18.3877L17.5 10.3633ZM13.5889 8.22754H16.7881L15.1797 3.4375L13.5889 8.22754Z",fill:"black"})))}var mt,xt,yt=r.forwardRef(Ot),gt=(n.p,["title","titleId"]);function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ct(e,t){var n=e.title,a=e.titleId,i=_t(e,gt);return r.createElement("svg",wt({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,mt||(mt=r.createElement("path",{d:"M3.43652 0.1875V2.49023H5.21191V3.74707H3.43652V9.64453C3.43652 10.0254 3.51562 10.3125 3.67383 10.5059C3.83203 10.6934 4.10156 10.7871 4.48242 10.7871C4.66992 10.7871 4.92773 10.752 5.25586 10.6816V12C4.82812 12.1172 4.41211 12.1758 4.00781 12.1758C3.28125 12.1758 2.7334 11.9561 2.36426 11.5166C1.99512 11.0771 1.81055 10.4531 1.81055 9.64453V3.74707H0.0791016V2.49023H1.81055V0.1875H3.43652ZM19.8545 5.96191L21.9639 2.49023H23.8623L20.751 7.19238L23.959 12H22.0781L19.8809 8.44043L17.6836 12H15.7939L19.002 7.19238L15.8906 2.49023H17.7715L19.8545 5.96191ZM27.7998 0.1875V2.49023H29.5752V3.74707H27.7998V9.64453C27.7998 10.0254 27.8789 10.3125 28.0371 10.5059C28.1953 10.6934 28.4648 10.7871 28.8457 10.7871C29.0332 10.7871 29.291 10.752 29.6191 10.6816V12C29.1914 12.1172 28.7754 12.1758 28.3711 12.1758C27.6445 12.1758 27.0967 11.9561 26.7275 11.5166C26.3584 11.0771 26.1738 10.4531 26.1738 9.64453V3.74707H24.4424V2.49023H26.1738V0.1875H27.7998Z",fill:"black"})),xt||(xt=r.createElement("path",{d:"M11.0654 12.1758C9.77637 12.1758 8.72754 11.7539 7.91895 10.9102C7.11035 10.0605 6.70605 8.92676 6.70605 7.50879V7.20996C6.70605 6.2666 6.88477 5.42578 7.24219 4.6875C7.60547 3.94336 8.10938 3.36328 8.75391 2.94727C9.4043 2.52539 10.1074 2.31445 10.8633 2.31445C12.0996 2.31445 13.0605 2.72168 13.7461 3.53613C14.4316 4.35059 14.7744 5.5166 14.7744 7.03418V7.71094H8.33203C8.35547 8.64844 8.62793 9.40723 9.14941 9.9873C9.67676 10.5615 10.3447 10.8486 11.1533 10.8486C11.7275 10.8486 12.2139 10.7314 12.6123 10.4971C13.0107 10.2627 13.3594 9.95215 13.6582 9.56543L14.6514 10.3389C13.8545 11.5635 12.6592 12.1758 11.0654 12.1758ZM10.8633 3.65039C10.207 3.65039 9.65625 3.89062 9.21094 4.37109C8.76562 4.8457 8.49023 5.51367 8.38477 6.375H13.1484V6.25195C13.1016 5.42578 12.8789 4.78711 12.4805 4.33594C12.082 3.87891 11.543 3.65039 10.8633 3.65039Z",fill:"#FF0000"})))}var kt,Et,St,Pt,Nt=r.forwardRef(Ct),Rt=(n.p,["title","titleId"]);function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bt(e,t){var n=e.title,a=e.titleId,i=It(e,Rt);return r.createElement("svg",Mt({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,kt||(kt=r.createElement("rect",{width:18,height:2,rx:1,fill:"black"})),Et||(Et=r.createElement("rect",{x:6,width:2,height:6,rx:1,fill:"black"})),St||(St=r.createElement("rect",{width:18,height:2,rx:1,transform:"matrix(1 0 0 -1 0 16)",fill:"black"})),Pt||(Pt=r.createElement("rect",{width:2,height:6,rx:1,transform:"matrix(1 0 0 -1 6 16)",fill:"black"})))}var Lt=r.forwardRef(Bt),zt=(n.p,function(e){var t=e.title,n=e.mode,r=e.hidden,a=e.onBackButton,i=e.onChangeFont,c=e.onSetORP,o=e.onSetORPGuidelines;return Object(j.jsxs)("div",{className:Oe()(lt.a.container,Object(d.a)({},lt.a.hidden,r)),onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("div",{className:Oe()(lt.a.button,lt.a.backButton),onClick:a,children:Object(j.jsx)(ht,{})}),"view"===n&&Object(j.jsx)("span",{className:lt.a.title,children:t}),Object(j.jsx)("div",{className:lt.a.buttons,children:"view"!==n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:Oe()(lt.a.button),onClick:i,children:Object(j.jsx)(yt,{})}),Object(j.jsx)("div",{className:Oe()(lt.a.button),onClick:c,children:Object(j.jsx)(Nt,{})}),Object(j.jsx)("div",{className:Oe()(lt.a.button),onClick:o,children:Object(j.jsx)(Lt,{})})]})})]})}),Ft=Object(r.memo)(zt),Wt=n(52),Ht=n(53),Vt=Number.MAX_SAFE_INTEGER;var Tt=function(e,t,n){var a=(new Date).getTime(),i=Object(r.useState)(a),c=Object(s.a)(i,2)[1],o=Object(r.useState)(Vt),l=Object(s.a)(o,2),u=l[0],f=l[1];Object(r.useEffect)((function(){if(e){var n=(new Date).getTime()+t,r=t?Math.max(n,n):Vt;f(r)}else f(Vt)}),[e,t]),Object(r.useEffect)((function(){var r;if(t&&e){var i=Math.max(0,Math.floor((a-u)/t));if(i%2!==1)if(a>=u){var o=0;if("function"===typeof n)try{o=n()||0}catch(d){console.error(d)}var l=i*t,s=Math.max(a,u+t+l+o);f(s),r=setTimeout((function(){c((new Date).getTime())}),Math.max(s-(new Date).getTime(),1))}else u<Vt&&(r=setTimeout((function(){c((new Date).getTime())}),Math.max(u-(new Date).getTime(),1)));else r=setTimeout((function(){c((new Date).getTime())}),20)}return function(){clearTimeout(r)}}),[a,u,e,t,n])},Dt=n(29),At=n.n(Dt);var Zt=function(e){return 1===e?1:Math.ceil((e-1)/4)+1},Gt=function(){function e(t){Object(Wt.a)(this,e),this.ctx=void 0,this.templateChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz1234567890~!@#$%^&*()_+={}:'\"\\,./<>?",this.chars=new Map,"OffscreenCanvas"in globalThis?this.ctx=new OffscreenCanvas(1,1).getContext("2d"):this.ctx=document.createElement("canvas").getContext("2d"),this.ctx.font="".concat(t.fontSize,"px ").concat(t.fontFamily),this.measureChars()}return Object(Ht.a)(e,[{key:"measure",value:function(e){return this.ctx.measureText(e).width}},{key:"measureChars",value:function(){var e=this;this.chars=new Map(this.templateChars.split("").map((function(t){return[t,e.measure(t)]})))}},{key:"setFont",value:function(e){this.ctx.font="".concat(e.fontSize,"px ").concat(e.fontFamily),this.measureChars()}},{key:"longestWidth",value:function(){var e=0;return this.chars.forEach((function(t,n){t>e&&(e=t)})),e}},{key:"measureChar",value:function(e){var t=this.chars.get(e);return t||(t=this.measure(e),this.chars.set(e,t)),t}}]),e}();var Ut=function(e){var t,n=e.fontInfo,a=e.width,i=e.mode,c=e.text,o=e.initialIndex,l=void 0===o?0:o,u=e.onNextWord,f=e.showPreviousOnPause,h=y().settings,p=Object(r.useState)({currentWord:"",currentIndex:0,hasNextWord:!1,items:[]}),v=Object(s.a)(p,2),O=v[0],m=O.currentWord,x=O.currentIndex,g=O.hasNextWord,w=O.items,_=v[1];Object(r.useEffect)((function(){if(c){var e=c.split(" "),t=e.length,n={currentWord:"",currentIndex:0,hasNextWord:!1,items:e};if(t>0){var r=nt(0,l||0,t),a=e[r];a&&(n.currentIndex=r,n.currentWord=a,n.hasNextWord=e.length>r)}_(n)}}),[c,u]);var C=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(i);Object(r.useEffect)((function(){if("view"===C&&"view"!==i){var e=c.split(" "),t=e.length,n={currentWord:"",currentIndex:0,hasNextWord:!1,items:e};if(t>0){var r=nt(0,l||0,t),a=e[r];a&&(n.currentIndex=r,n.currentWord=a,n.hasNextWord=e.length>r)}_(n)}}),[C,i]),Object(r.useEffect)((function(){null===u||void 0===u||u(x)}),[u,x]);var k=Object(r.useCallback)((function(){_((function(e){var t=Object(b.a)({},e),n=e.items[e.currentIndex+1];return n?(t.currentWord=n,t.currentIndex++,t.hasNextWord=e.items.length>t.currentIndex):t.hasNextWord=!1,t}))}),[]),E=60/h.wordsPerMinute*1e3;Tt("play"===i&&g,E,k);var S=function(e){var t=e.fontInfo,n=e.word,a=e.width,i=Object(r.useRef)(null);Object(r.useEffect)((function(){i.current&&i.current.setFont(t)}),[t]),Object(r.useEffect)((function(){i.current=new Gt(t)}),[]);var c=Object(r.useState)({maxOffset:0,maxWords:0,orpMiddlePointPx:0}),o=Object(s.a)(c,2),l=o[0],u=l.orpMiddlePointPx,f=l.maxOffset,d=l.maxWords,b=o[1];Object(r.useEffect)((function(){if(i.current){var e=Math.floor((a||0)/i.current.longestWidth())-1,t=Zt(e)*i.current.longestWidth()+i.current.longestWidth()/2,n=Zt(e)+1;b({maxOffset:n,maxWords:e-(n-Zt(e)),orpMiddlePointPx:t})}}),[a]);var h=n.trim().substr(0,d),p=h.replaceAll(/^[^a-z\u0430-\u044f\d]*|[^a-z\u0430-\u044f\d]*$/gi,""),v=Zt(p.length),O="".padStart(f-v,"\xa0");return{chars:[Object(j.jsx)("span",{children:O+h.substr(0,v-1)},1),Object(j.jsx)("span",{children:h[v-1]},2),Object(j.jsx)("span",{children:p.length>2?h.substr(v):""},3)],orpMiddlePointPx:u,maxOffset:f}}({fontInfo:n,word:m,width:a}),P=S.chars,N=S.orpMiddlePointPx;return"view"===i?null:Object(j.jsxs)("div",{className:At.a.container,style:{fontFamily:n.fontFamily,fontSize:"".concat(n.fontSize,"px")},children:[Object(j.jsx)("div",{className:At.a.previous,children:"pause"===i&&f&&w.slice(nt(0,x-50,w.length),x).join(" ")}),Object(j.jsx)("div",{className:Oe()(At.a.ORPGuideline,(t={},Object(d.a)(t,At.a.disabled,!h.ORPGuideLine),Object(d.a)(t,At.a.orp,h.ORP),t)),style:{"--orpPos":"".concat(N,"px"),fontFamily:"SFMono",lineHeight:"82px"},children:P})]})},Jt=Object(r.memo)(Ut),Xt=n(34),Yt=n.n(Xt),Kt=null;function Qt(e,t){if(Kt||(Kt=document.createElement("canvas").getContext("2d")),Kt){Kt.font="".concat(t,"px ").concat(e),Kt.textBaseline="top";var n=Kt.measureText("B");return(Math.abs(n.actualBoundingBoxLeft)+Math.abs(n.actualBoundingBoxRight))/"B".length}return 0}var qt=function(e,t){var n=Object(r.useState)(Qt(e,t)),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){c(Qt(e,t))}),[e,t]),i};function $t(e,t){var n=Object(r.useState)([]),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){c(function(e,t){if(0===t)return[];var n,r=e.split(" "),a=[],i=[],c=0,o=Object(h.a)(r);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(i.push(l),i.join(" ").length>t){var s=i.pop();a.push({index:c,text:i.join(" "),words:i}),c+=i.length,i=[s]}}}catch(u){o.e(u)}finally{o.f()}return a}(e,t))}),[e,t]),i}var en=function(e){var t=e.info,n=e.text,a=e.onBack,i=y(),c=i.settings,o=i.set,l=Object(r.useState)(!1),u=Object(s.a)(l,2),f=u[0],b=u[1],h=Object(r.useState)("view"),p=Object(s.a)(h,2),v=p[0],O=p[1],m=function(e){var t=le(),n=t.getStats,a=t.setStats,i=Object(r.useState)(n(e)),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(r.useCallback)((function(e,t,n){l(a(e,t,n))}),[a]);return Object(r.useEffect)((function(){l(n(e))}),[e]),{stats:o,setStats:u}}(t.id),x=m.stats,g=m.setStats,w=Object(r.useCallback)((function(e){return g(t.id,"index",e)}),[t.id,g]);me("view"===v?"#FEFEFE":"#edd1b0");var _=Object(r.useRef)(null),C=Object(r.useCallback)((function(){O((function(e){return"play"===e?(_.current&&(clearTimeout(_.current),_.current=null),"pause"):"play"}))}),[]),k=Object(r.useCallback)((function(e){g(t.id,"index",e)}),[t.id,g]),E=Object(r.useRef)(null),S=ye(E).width,P=Object(r.useCallback)((function(){"pause"===v||"play"===v?O("view"):a()}),[v,a]),N=Object(r.useCallback)((function(){C()}),[C]),R=Object(r.useCallback)((function(){return o("ORP",(function(e){return!e}))}),[o]),M=Object(r.useCallback)((function(){return o("ORPGuideLine",(function(e){return!e}))}),[o]),I=Object(r.useCallback)((function(){return C()}),[C]),B=Object(r.useCallback)((function(){return o("wordsPerMinute",(function(e){return e+20}))}),[o]),L=Object(r.useCallback)((function(){return o("wordsPerMinute",(function(e){return e-20}))}),[o]),z=Object(r.useCallback)((function(){"play"===v&&f?b(!1):"play"!==v||f?"play"!==v&&f&&b(!1):b(!0)}),[v,f]),F={fontFamily:c.fontFamilyReader,fontSize:c.fontSizeReader,fontWeight:"normal",lineHeight:17},W={fontFamily:c.fontFamilyRSVP,fontSize:c.fontSizeRSVP,fontWeight:"normal",lineHeight:17},H=qt(F.fontFamily,F.fontSize),V=$t(n,Math.floor((S-10)/H));return Object(j.jsxs)("div",{className:Oe()(Yt.a.container,Object(d.a)({},Yt.a.playing,"view"!==v)),onClick:z,children:[Object(j.jsx)(Ft,{mode:v,hidden:f,title:t.title,onBackButton:P,onChangeFont:N,onSetORP:R,onSetORPGuidelines:M}),Object(j.jsxs)("div",{className:Yt.a.content,children:[Object(j.jsxs)("div",{ref:E,className:Yt.a.reader,children:[Object(j.jsx)(Jt,{fontInfo:W,width:S,mode:v,text:n,initialIndex:x.index,onNextWord:w,showPreviousOnPause:c.showPreviousOnPause}),Object(j.jsx)(Ce,{fontInfo:F,width:S,mode:v,rows:V,currentIndex:x.index,onCurrentIndexChange:k})]}),Object(j.jsx)(tt,{mode:v,hidden:f,wordsPerMinute:c.wordsPerMinute,onPlayPause:I,onSpeedUp:B,onSpeedDown:L}),Object(j.jsx)(ct,{mode:v,hidden:f,totalWords:t.totalWords,currentWord:x.index})]})]})},tn=n(54),nn=n.n(tn);var rn=function(){var e=function(e){var t=re().getBook,n=Object(r.useState)(null),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){t(e).then((function(e){var t=e.info,n=e.text;c({info:t,text:n})}))}),[e,t]),i}(Object(o.h)().id),t=Object(o.f)(),n=Object(r.useCallback)((function(){return t.push("/")}),[t]);return Object(j.jsx)("div",{className:nn.a.container,children:e&&Object(j.jsx)(en,{info:Object(b.a)(Object(b.a)({},e.info),{},{totalWords:e.text.length}),text:e.text,onBack:n})})},an=n(42),cn=n.n(an);var on,ln,sn,un=function(e,t){return Object(r.useCallback)((function(){var e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=function(e){if(!e.target||0===e.target.files.length)return t([]);t(e.target.files)},e.click()}),[t])},fn=n(23),dn=n.n(fn),bn=function(e){var t=e.title,n=e.editMode,r=e.allSelected,a=e.onBookAdd,i=e.onEdit,c=e.onSelectAll,o=e.onDone;return Object(j.jsxs)("div",{className:dn.a.container,children:[!n&&Object(j.jsx)("div",{className:dn.a.leftButton,onClick:a,children:Object(j.jsx)(Qe,{})}),n&&Object(j.jsxs)("div",{className:Oe()(dn.a.leftButton,dn.a.selectAllButton),onClick:c,children:[r?"Des":"S","elect All"]}),Object(j.jsx)("div",{className:dn.a.title,children:t}),!n&&Object(j.jsx)("div",{className:dn.a.leftButton,onClick:i,children:"Edit"}),n&&Object(j.jsx)("div",{className:dn.a.leftButton,onClick:o,children:"Done"})]})},hn=n(35),pn=n.n(hn),jn=function(e){var t=e.title,n=e.creator,r=e.cover;return Object(j.jsx)("div",{className:pn.a.container,style:{"--imageOrColor":r?"url(".concat(r,")"):"#995621"},children:Object(j.jsxs)("div",{className:pn.a.wrapper,children:[Object(j.jsx)("div",{className:pn.a.title,children:t}),Object(j.jsx)("div",{className:pn.a.creator,children:n||""})]})})},vn=["title","titleId"];function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xn(e,t){var n=e.title,a=e.titleId,i=mn(e,vn);return r.createElement("svg",On({width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,on||(on=r.createElement("path",{d:"M2 0C0.895161 0 0 0.895161 0 2C0 3.10484 0.895161 4 2 4C3.10484 4 4 3.10484 4 2C4 0.895161 3.10484 0 2 0Z",fill:"#868485"})),ln||(ln=r.createElement("path",{d:"M8 0C6.89516 0 6 0.895161 6 2C6 3.10484 6.89516 4 8 4C9.10484 4 10 3.10484 10 2C10 0.895161 9.10484 0 8 0Z",fill:"#868485"})),sn||(sn=r.createElement("path",{d:"M14 0C12.8952 0 12 0.895161 12 2C12 3.10484 12.8952 4 14 4C15.1048 4 16 3.10484 16 2C16 0.895161 15.1048 0 14 0Z",fill:"#868485"})))}var yn,gn=r.forwardRef(xn),wn=(n.p,n(27)),_n=n.n(wn),Cn=function(e){var t,n=e.bookInfo,r=e.currentWord,a=e.wordsPerMinute,i=e.selectable,c=void 0!==i&&i,o=e.selected,l=void 0!==o&&o,s=e.onBookClick,u=e.onRestClick,f=Math.floor(100/n.totalWords*r),b=1e3*Math.floor((n.totalWords-r)/(a/60));return Object(j.jsx)("div",{className:Oe()(_n.a.container,(t={},Object(d.a)(t,_n.a.selectable,c),Object(d.a)(t,_n.a.selected,l),t)),children:Object(j.jsxs)("div",{className:_n.a.wrapper,children:[Object(j.jsx)("div",{className:_n.a.book,onClick:function(){return s(n.id)},children:Object(j.jsx)(jn,{title:n.title,creator:n.creator,cover:n.cover?n.cover:void 0})}),Object(j.jsxs)("div",{className:_n.a.bottom,children:[Object(j.jsx)("div",{children:100!==f?"".concat(f," %"):"FINISHED"}),Object(j.jsxs)("div",{children:[" ",rt(b)]}),Object(j.jsx)("div",{onClick:function(){return u(n.id)},children:Object(j.jsx)(gn,{})})]})]})})},kn=function(){me("#FEFEFE");var e=y().settings,t=le().getStats,n=Object(o.f)(),a=re(),i=a.library,c=a.loadBooks,l=un({multiple:!0},function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=Object(r.useState)(!1),f=Object(s.a)(u,2),d=f[0],b=f[1],h=Object(r.useState)([]),p=Object(s.a)(h,2),v=p[0],O=p[1],m=Object(r.useCallback)((function(e){d?O((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(_.a)(t),[e])})):n.push("/book/".concat(e))}),[d,n]),x=Object(r.useCallback)((function(){O((function(e){return e.length===i.length?[]:i.map((function(e){return e.id}))}))}),[i]),g=Object(r.useCallback)((function(){b(!0)}),[]),w=Object(r.useCallback)((function(){b(!1),O([])}),[]);return Object(j.jsxs)("div",{className:cn.a.container,children:[Object(j.jsx)(bn,{title:"Library",editMode:d,allSelected:v.length===i.length,onBookAdd:l,onEdit:g,onSelectAll:x,onDone:w}),Object(j.jsx)("div",{className:cn.a.listContainer,children:Object(j.jsx)("div",{className:cn.a.list,children:i.map((function(n){return Object(j.jsx)(Cn,{bookInfo:n,currentWord:t(n.id).index,wordsPerMinute:e.wordsPerMinute,onBookClick:m,onRestClick:function(){},selectable:d,selected:v.includes(n.id)},n.id)}))})})]})},En=n(40),Sn=n(36),Pn=n.n(Sn),Nn=function(e){var t=e.title;return Object(j.jsxs)("div",{className:Pn.a.container,children:[Object(j.jsx)("div",{className:Pn.a.leftButton}),Object(j.jsx)("div",{className:Pn.a.title,children:t}),Object(j.jsx)("div",{className:Pn.a.rightButton})]})},Rn=n(10),Mn=n.n(Rn),In=["title","titleId"];function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ln(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zn(e,t){var n=e.title,a=e.titleId,i=Ln(e,In);return r.createElement("svg",Bn({width:16,height:3,viewBox:"0 0 16 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,yn||(yn=r.createElement("rect",{width:16,height:3,rx:1,fill:"black"})))}var Fn,Wn,Hn=r.forwardRef(zn),Vn=(n.p,["title","titleId"]);function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function An(e,t){var n=e.title,a=e.titleId,i=Dn(e,Vn);return r.createElement("svg",Tn({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Fn||(Fn=r.createElement("path",{d:"M0 8C0 7.44772 0.447715 7 1 7H15C15.5523 7 16 7.44772 16 8V9C16 9.55228 15.5523 10 15 10H1C0.447715 10 0 9.55228 0 9V8Z",fill:"black"})),Wn||(Wn=r.createElement("path",{d:"M7.5 16.5C6.94772 16.5 6.5 16.0523 6.5 15.5L6.5 1.5C6.5 0.947715 6.94771 0.5 7.5 0.5L8.5 0.5C9.05228 0.5 9.5 0.947715 9.5 1.5L9.5 15.5C9.5 16.0523 9.05229 16.5 8.5 16.5H7.5Z",fill:"black"})))}var Zn=r.forwardRef(An),Gn=(n.p,n(48));function Un(e){var t=e.active,n=e.onClick;return Object(j.jsx)("div",{className:Oe()(Mn.a.checkbox,Object(d.a)({},Mn.a.active,t)),onClick:n})}function Jn(e){var t=e.title,n=e.value;return Object(j.jsxs)("div",{className:Mn.a.item,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)("div",{children:n})]})}function Xn(e){var t=e.title,n=e.onClick,r=e.value;return Object(j.jsxs)("div",{className:Mn.a.item,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)("div",{children:Object(j.jsx)(Un,{active:r,onClick:n})})]})}function Yn(e){var t=e.title,n=e.onChange,r=e.value,a=e.min,i=void 0===a?0:a,c=e.max,o=void 0===c?100:c;return Object(j.jsxs)("div",{className:Oe()(Mn.a.item,Mn.a.range),children:[Object(j.jsx)("div",{children:t}),Object(j.jsxs)("div",{className:Mn.a.range,children:[Object(j.jsxs)("div",{className:Mn.a.value,children:[r," px"]}),Object(j.jsxs)("div",{className:Mn.a.incButtons,children:[Object(j.jsx)("div",{className:Mn.a.button,onClick:function(){return n(Object(Gn.clamp)(i,r-2,o))},children:Object(j.jsx)(Hn,{})}),Object(j.jsx)("div",{className:Mn.a.button,onClick:function(){return n(Object(Gn.clamp)(i,r+2,o))},children:Object(j.jsx)(Zn,{})})]})]})]})}function Kn(e){var t=e.title,n=e.children;return Object(j.jsxs)("div",{className:Mn.a.category,children:[t&&Object(j.jsx)("div",{className:Mn.a.categoryTitle,children:t}),n]})}var Qn,qn,$n,er,tr,nr,rr,ar,ir,cr,or,lr,sr,ur,fr=function(e){Object(En.a)(e);var t=y(),n=t.settings,a=t.set,i=Object(r.useCallback)((function(){return a("ORP",(function(e){return!e}))}),[a]),c=Object(r.useCallback)((function(){return a("ORPGuideLine",(function(e){return!e}))}),[a]),o=Object(r.useCallback)((function(){return a("slowDownOnLongWords",(function(e){return!e}))}),[a]),l=Object(r.useCallback)((function(){return a("showPreviousOnPause",(function(e){return!e}))}),[a]);return Object(j.jsxs)("div",{className:Mn.a.container,children:[Object(j.jsx)(Nn,{title:"Settings"}),Object(j.jsxs)("div",{className:Mn.a.settings,children:[Object(j.jsxs)(Kn,{title:"Book Reader",children:[Object(j.jsx)(Jn,{title:"Font family",value:n.fontFamilyReader}),Object(j.jsx)(Yn,{title:"Font size",value:n.fontSizeReader,min:8,max:24,onChange:function(e){a("fontSizeReader",e)}})]}),Object(j.jsxs)(Kn,{title:"RSVP Reader",children:[Object(j.jsx)(Jn,{title:"Font family",value:n.fontFamilyRSVP}),Object(j.jsx)(Yn,{title:"Font size",value:n.fontSizeRSVP,min:24,max:48,onChange:function(e){a("fontSizeRSVP",e)}}),Object(j.jsx)(Xn,{title:"Show optimal recognition point",value:n.ORP,onClick:i}),Object(j.jsx)(Xn,{title:"Show ORP guideline",value:n.ORPGuideLine,onClick:c}),Object(j.jsx)(Xn,{title:"Slow down on long words",value:n.slowDownOnLongWords,onClick:o}),Object(j.jsx)(Xn,{title:"Show 50 previous words on pause",value:n.showPreviousOnPause,onClick:l})]})]})]})},dr=["title","titleId"];function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pr(e,t){var n=e.title,a=e.titleId,i=hr(e,dr);return r.createElement("svg",br({height:"480pt",viewBox:"0 0 480.00958 480",width:"480pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Qn||(Qn=r.createElement("path",{d:"m128 104.003906v-32c0-4.417968-3.582031-8-8-8h-112c-4.417969 0-8 3.582032-8 8v32zm0 0"})),qn||(qn=r.createElement("path",{d:"m0 120.003906v264h128v-264zm96 104h-64c-4.417969 0-8-3.582031-8-8v-64c0-4.417968 3.582031-8 8-8h64c4.417969 0 8 3.582032 8 8v64c0 4.417969-3.582031 8-8 8zm0 0"})),$n||($n=r.createElement("path",{d:"m0 432.003906v40c0 4.417969 3.582031 8 8 8h112c4.417969 0 8-3.582031 8-8v-40zm0 0"})),er||(er=r.createElement("path",{d:"m0 400.003906h128v16h-128zm0 0"})),tr||(tr=r.createElement("path",{d:"m144 400.003906h104v16h-104zm0 0"})),nr||(nr=r.createElement("path",{d:"m248 32.003906v-24c0-4.417968-3.582031-7.99999975-8-7.99999975h-88c-4.417969 0-8 3.58203175-8 7.99999975v24zm0 0"})),rr||(rr=r.createElement("path",{d:"m144 88.003906h104v296h-104zm0 0"})),ar||(ar=r.createElement("path",{d:"m144 432.003906v40c0 4.417969 3.582031 8 8 8h88c4.417969 0 8-3.582031 8-8v-40zm0 0"})),ir||(ir=r.createElement("path",{d:"m144 48.003906h104v24h-104zm0 0"})),cr||(cr=r.createElement("path",{d:"m263.808594 165.667969 4.28125 16.433593 135.484375-36.128906-4.285157-16.433594zm0 0"})),or||(or=r.createElement("path",{d:"m330.664062 421.949219 135.480469-36.128907-8.578125-32.886718-135.488281 36.128906zm0 0"})),lr||(lr=r.createElement("path",{d:"m453.527344 337.453125-45.910156-176-135.488282 36.128906 45.910156 176zm0 0"})),sr||(sr=r.createElement("path",{d:"m259.769531 150.1875 135.476563-36.125-11.484375-44.058594c-1.183594-4.265625-5.542969-6.816406-9.839844-5.757812l-120 32c-4.238281 1.160156-6.765625 5.5-5.683594 9.757812zm0 0"})),ur||(ur=r.createElement("path",{d:"m470.183594 401.300781-135.488282 36.128907 9.542969 36.574218c.554688 2.0625 1.90625 3.820313 3.761719 4.882813 1.207031.730469 2.589844 1.117187 4 1.117187.699219 0 1.398438-.082031 2.078125-.238281l120-32c4.238281-1.160156 6.765625-5.503906 5.683594-9.761719zm0 0"})))}var jr,vr,Or,mr,xr,yr,gr,wr,_r,Cr,kr,Er,Sr,Pr,Nr,Rr,Mr,Ir,Br=r.forwardRef(pr),Lr=(n.p,["title","titleId"]);function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wr(e,t){var n=e.title,a=e.titleId,i=Fr(e,Lr);return r.createElement("svg",zr({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,jr||(jr=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,405.333h-56.811C424.619,374.592,396.373,352,362.667,352s-61.931,22.592-71.189,53.333H21.333 C9.557,405.333,0,414.891,0,426.667S9.557,448,21.333,448h270.144c9.237,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,405.333,490.667,405.333z M362.667,458.667 c-17.643,0-32-14.357-32-32s14.357-32,32-32s32,14.357,32,32S380.309,458.667,362.667,458.667z"})))),vr||(vr=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,64h-56.811c-9.259-30.741-37.483-53.333-71.189-53.333S300.736,33.259,291.477,64H21.333 C9.557,64,0,73.557,0,85.333s9.557,21.333,21.333,21.333h270.144C300.736,137.408,328.96,160,362.667,160 s61.931-22.592,71.189-53.333h56.811c11.797,0,21.333-9.557,21.333-21.333S502.464,64,490.667,64z M362.667,117.333 c-17.643,0-32-14.357-32-32c0-17.643,14.357-32,32-32s32,14.357,32,32C394.667,102.976,380.309,117.333,362.667,117.333z"})))),Or||(Or=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M490.667,234.667H220.523c-9.259-30.741-37.483-53.333-71.189-53.333s-61.931,22.592-71.189,53.333H21.333 C9.557,234.667,0,244.224,0,256c0,11.776,9.557,21.333,21.333,21.333h56.811c9.259,30.741,37.483,53.333,71.189,53.333 s61.931-22.592,71.189-53.333h270.144c11.797,0,21.333-9.557,21.333-21.333C512,244.224,502.464,234.667,490.667,234.667z  M149.333,288c-17.643,0-32-14.357-32-32s14.357-32,32-32c17.643,0,32,14.357,32,32S166.976,288,149.333,288z"})))),mr||(mr=r.createElement("g",null)),xr||(xr=r.createElement("g",null)),yr||(yr=r.createElement("g",null)),gr||(gr=r.createElement("g",null)),wr||(wr=r.createElement("g",null)),_r||(_r=r.createElement("g",null)),Cr||(Cr=r.createElement("g",null)),kr||(kr=r.createElement("g",null)),Er||(Er=r.createElement("g",null)),Sr||(Sr=r.createElement("g",null)),Pr||(Pr=r.createElement("g",null)),Nr||(Nr=r.createElement("g",null)),Rr||(Rr=r.createElement("g",null)),Mr||(Mr=r.createElement("g",null)),Ir||(Ir=r.createElement("g",null)))}var Hr=r.forwardRef(Wr),Vr=(n.p,n(30)),Tr=n.n(Vr),Dr=function(e){Object(En.a)(e);var t=Object(o.g)();return Object(j.jsxs)("div",{className:Tr.a.container,children:[Object(j.jsxs)(u.b,{to:"/",className:Oe()(Tr.a.item,Object(d.a)({},Tr.a.selected,"/"===t.pathname)),children:[Object(j.jsx)(Br,{}),"Library"]}),Object(j.jsxs)(u.b,{to:"/settings",className:Oe()(Tr.a.item,Object(d.a)({},Tr.a.selected,"/settings"===t.pathname)),children:[Object(j.jsx)(Hr,{}),"Settings"]})]})},Ar=n(55),Zr=n.n(Ar);function Gr(){var e=Object(o.g)();return console.log(e),Object(j.jsx)(l.a,{className:Zr.a.container,children:Object(j.jsxs)(o.c,{location:e,children:[Object(j.jsx)(o.a,{path:"/book/:id",exact:!0,component:rn}),Object(j.jsxs)(o.a,{path:"/",children:[Object(j.jsx)(o.a,{path:"/",exact:!0,component:kn}),Object(j.jsx)(o.a,{path:"/settings",exact:!0,component:fr}),Object(j.jsx)(Dr,{})]})]})})}var Ur=function(){return Object(j.jsx)(je,{children:Object(j.jsx)(Gr,{})})},Jr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Yr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};n(84);c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Ur,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/readero",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/readero","/service-worker.js");Jr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Xr(t,e)}))}}(),Yr()}},[[85,1,2]]]);
//# sourceMappingURL=main.b5cb2ee7.chunk.js.map